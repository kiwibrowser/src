.PHONY: all

all: webgl.idl

webgl.idl: index.html Makefile
	echo "// AUTOGENERATED FILE -- DO NOT EDIT -- SEE Makefile" > webgl.idl
	echo "//" >> webgl.idl
	echo "// WebGL IDL definitions scraped from the Khronos specification:" >> webgl.idl
	echo "// https://www.khronos.org/registry/webgl/specs/latest/" >> webgl.idl
	echo "//" >> webgl.idl
	echo "// This IDL depends on the typed array specification defined at:" >> webgl.idl
	echo "// https://www.khronos.org/registry/typedarray/specs/latest/typedarrays.idl" >> webgl.idl
	echo "" >> webgl.idl
	PYTHONPATH=../../resources/html5lib/src python extract-idl.py index.html >> webgl.idl
