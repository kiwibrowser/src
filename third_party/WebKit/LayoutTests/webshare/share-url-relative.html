<!DOCTYPE html>
<script src="../resources/testharness.js"></script>
<script src="../resources/testharnessreport.js"></script>
<script src="file:///gen/layout_test_data/mojo/public/js/mojo_bindings.js"></script>
<script src="file:///gen/third_party/blink/public/platform/modules/webshare/webshare.mojom.js"></script>
<script src="resources/mock-share-service.js"></script>
<base href="https://www.example.com/some/path.html">
<script>

share_test(mock => {
  const url = 'foo';
  mock.pushShareResult('', '', 'https://www.example.com/some/foo',
                       blink.mojom.ShareError.OK);
  return callWithKeyDown(() => navigator.share({url: url}));
}, 'successful share with a URL relative to document base URL');

</script>
