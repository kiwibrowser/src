<script>
if (window.testRunner) {
    testRunner.dumpAsText();
    testRunner.dumpChildFramesAsText();
    testRunner.setCanOpenWindows(true);
    testRunner.setCloseRemainingWindowsWhenComplete(true);
}
</script>
<p>To run this test outside of DumpRenderTree, please disable your popup blocker!</p>
<p>This test passes if it doesn't hang.</p>
<iframe sandbox="allow-scripts allow-popups"
  src="data:text/html,
       <body><script>
       var win = window.open('about:blank', '_blank');
       win.close();
       document.body.appendChild(
           document.createTextNode(win.closed ? 'PASS' : 'FAIL'));
       </script></body>"
  ></iframe>
