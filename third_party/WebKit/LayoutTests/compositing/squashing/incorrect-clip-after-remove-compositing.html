<!DOCTYPE html>
<script src="../../resources/run-after-layout-and-paint.js"></script>
<style>
html, body {
  margin: 0px;
  padding: 0px;
}
</style>
<script>
if (window.testRunner) {
    testRunner.waitUntilDone();
}
</script>
<div style="position: absolute; top: 100px; width: 200px; z-index: 1; background-color: lightgreen;">
  <div style="position:relative; height: 50px; overflow: hidden; width: 50px;">
    <div style="position: absolute; height: 500px; width: 50px; top: -200px; background-color: green"></div>
  </div>
</div>
<div id="composited" style="position: absolute; height: 200px; width: 100px; opacity: 0; background-color: lightblue;"></div>
<script>
var element = document.getElementById('composited');
element.style.transform = 'translateZ(0)';
runAfterLayoutAndPaint(function() {
    element.style.transform = '';
    runAfterLayoutAndPaint(function() {
        if (window.testRunner)
            testRunner.notifyDone();
    });
});
</script>
