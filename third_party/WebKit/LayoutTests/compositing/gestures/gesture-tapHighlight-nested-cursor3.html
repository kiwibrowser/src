<!DOCTYPE html>
<html>
<head>
    <script src="../../resources/js-test.js"></script>
    <script src="resources/link-highlight-helper.js"></script>
    <link rel="stylesheet" type="text/css" href="resources/link-highlight-style.css">
</head>
<body onload="runTest();">
    <div class="opaqueHighlight" id="expectedHighlight" style="border-style: solid; cursor: pointer">
        Click here to go <a id="taptarget" href="#">there</a>
    </div>

    <script>
        function runTest() {
            useMockHighlight();

            var clientRect = document.getElementById("taptarget").getBoundingClientRect();
            x = (clientRect.left + clientRect.right) / 2;
            y = (clientRect.top +  clientRect.bottom) / 2;
            if (window.testRunner) {
                testRunner.dumpAsTextWithPixelResults();
                testRunner.waitUntilDone();
            }

            if (window.eventSender) {
                eventSender.gestureShowPress(x, y);
                window.setTimeout(function() { testRunner.notifyDone(); }, 0);
            } else {
                debug("This test requires DumpRenderTree.");
            }
        }
    </script>
</body>
</html>
