<!DOCTYPE html>
<style>
.box {
    height: 200px;
    width: 200px;
    margin: 10px;
    padding: 5px;
    background-color: blue;
}

.composited {
    transform: translateZ(0);
}

#trigger {
    width: 20px;
    height: 20px;
    background-color: silver;
}
</style>
<script>
if (window.testRunner)
    testRunner.dumpAsText();

function doTest()
{
    document.getElementById('test').classList.remove('composited');
    if (window.testRunner)
        document.getElementById('layers').innerText = internals.layerTreeAsText(document);
}
window.addEventListener('load', doTest, false);
</script>
<!-- This test div starts out with a 3d transform, but should be
     de-promoted from a composited layer before the test completes. -->
<div id="test" class="composited box"></div>
<pre id="layers">Layer tree appears here in DRT.</pre>
