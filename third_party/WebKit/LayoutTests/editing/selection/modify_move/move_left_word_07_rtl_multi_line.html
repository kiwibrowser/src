<!doctype html>
<script src="../../../resources/testharness.js"></script>
<script src="../../../resources/testharnessreport.js"></script>
<script src="../../assert_selection.js"></script>
<script>
// To verify "mac" behavior other than macOS, please add following lines:
//   internals.settings.setEditingBehavior('mac');
//   internals.settings.setSelectTrailingWhitespaceEnabled(false);
const isMac = navigator.platform.indexOf('Mac') === 0;

selection_test(
  '<div contenteditable dir="rtl">|abc ghi<div></div><div></div><div></div>opq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc |ghi<div></div><div></div><div></div>opq xyz</div>'
      : '<div contenteditable dir="rtl">abc| ghi<div></div><div></div><div></div>opq xyz</div>',
  '7-0 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">a|bc ghi<div></div><div></div><div></div>opq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc ghi|<div></div><div></div><div></div>opq xyz</div>'
      : '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>|opq xyz</div>',
  '7-1 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">ab|c ghi<div></div><div></div><div></div>opq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc ghi|<div></div><div></div><div></div>opq xyz</div>'
      : '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>|opq xyz</div>',
  '7-2 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc| ghi<div></div><div></div><div></div>opq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc ghi|<div></div><div></div><div></div>opq xyz</div>'
      : '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>|opq xyz</div>',
  '7-3 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc |ghi<div></div><div></div><div></div>opq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc ghi|<div></div><div></div><div></div>opq xyz</div>'
      : '<div contenteditable dir="rtl">abc| ghi<div></div><div></div><div></div>opq xyz</div>',
  '7-4 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc g|hi<div></div><div></div><div></div>opq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc |ghi<div></div><div></div><div></div>opq xyz</div>'
      : '<div contenteditable dir="rtl">abc| ghi<div></div><div></div><div></div>opq xyz</div>',
  '7-5 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc gh|i<div></div><div></div><div></div>opq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc |ghi<div></div><div></div><div></div>opq xyz</div>'
      : '<div contenteditable dir="rtl">abc| ghi<div></div><div></div><div></div>opq xyz</div>',
  '7-6 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc ghi|<div></div><div></div><div></div>opq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq |xyz</div>'
      : '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>|opq xyz</div>',
  '7-7 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc ghi<div>|</div><div></div><div></div>opq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq |xyz</div>'
      : '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq| xyz</div>',
  '7-8 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc ghi<div></div>|<div></div><div></div>opq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq |xyz</div>'
      : '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq| xyz</div>',
  '7-9 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc ghi<div></div><div>|</div><div></div>opq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq |xyz</div>'
      : '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq| xyz</div>',
  '7-10 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc ghi<div></div><div></div>|<div></div>opq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq |xyz</div>'
      : '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq| xyz</div>',
  '7-11 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div>|</div>opq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq |xyz</div>'
      : '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq| xyz</div>',
  '7-12 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>|opq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq |xyz</div>'
      : '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq| xyz</div>',
  '7-13 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>o|pq xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq xyz|</div>',
  '7-14 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>op|q xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq xyz|</div>',
  '7-15 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq| xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq xyz|</div>',
  '7-16 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq |xyz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq xyz|</div>'
      : '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq| xyz</div>',
  '7-17 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq x|yz</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq |xyz</div>'
      : '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq| xyz</div>',
  '7-18 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq xy|z</div>',
  selection => selection.modify('move', 'left', 'word'),
  isMac
      ? '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq |xyz</div>'
      : '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq| xyz</div>',
  '7-19 rtl left word');

selection_test(
  '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq xyz|</div>',
  selection => selection.modify('move', 'left', 'word'),
  '<div contenteditable dir="rtl">abc ghi<div></div><div></div><div></div>opq xyz|</div>',
  '7-20 rtl left word');
</script>
