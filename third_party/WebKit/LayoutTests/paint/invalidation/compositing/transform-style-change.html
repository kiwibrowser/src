<!DOCTYPE html>
<!-- Tests that an element composited with transform-style: preserve-3d still renders when switched to transform-style: flat -->
<div id="box" style="width:100px; height:100px; background-color: green; transform: translateZ(0); transform-style: preserve-3d"></div>
<script src="../../../resources/run-after-layout-and-paint.js"></script>
<script>
function test() {
    document.getElementById("box").style.transformStyle = "flat";
    if (window.testRunner)
        testRunner.notifyDone();
}

if (window.testRunner) {
    testRunner.waitUntilDone();
    testRunner.dumpAsTextWithPixelResults();
}
// Force one composite with preserve-3d
runAfterLayoutAndPaint(test);
</script>
