<!DOCTYPE html>
<html>
  <head>
    <style type="text/css">
      img { height: 10px; }
    </style>
    <script type="text/javascript">
      if (window.testRunner)
        testRunner.dumpAsText();

      function test() {
        // The factors are the same as those in Chrome settings.
        var zoomFactors = [1, 1.1, 1.25, 1.5, 1.75, 2, 2.5, 3, 4, 5];
        if (!window.eventSender)
          return;

        for (i = 0; i < zoomFactors.length; ++i) {
          var output = document.getElementById('output');
          eventSender.setPageZoomFactor(zoomFactors[i]);
          if (document.images[0].height == 10)
            output.innerHTML += "PASS: zoom " + Math.round(zoomFactors[i] * 100) + "%<br>";
          else
            output.innerHTML += "FAIL: zoom " + Math.round(zoomFactors[i] * 100) + "%, height " + document.images[0].height + " != 10<br>";
        }
      }
      window.onload = test;
    </script>
  </head>
  <body>
    This test is minimized from Acid3 Test #72.<br>
    <img src="data:image/gif;base64,R0lGODlhAQABAID%2FAMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEA1w%3D%3D" alt="">
    <div id="output"></div>
  </body>
</html>
