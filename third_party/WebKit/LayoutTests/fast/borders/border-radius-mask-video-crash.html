<!DOCTYPE html>
<html>
  <head>
    <style>
      .rounded {
        border-radius: 200px;
      }
    </style>
    <script>
      if (window.testRunner) {
        testRunner.dumpAsText();
        testRunner.waitUntilDone();
      }

      function canPlay() {
        setTimeout('addRounded()', 200);
      }
      function addRounded() {
        theVideo.classList.add('rounded');
        theVideo.src = "empty_file";
        setTimeout(function() {
          document.getElementById('description').innerText += ' - PASS';
          if (window.testRunner)
            testRunner.notifyDone();
        }, 0);
      }
    </script>
  </head>
    <body>
      <div id="description">This sometimes causes a crash</div>
      <video id="theVideo" src='../../media/resources/frame_size_change.webm' oncanplaythrough='canPlay();'></video>
   </body>
</html>
