<html>
<!--
Copyright (c) 2013 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->
<head>
<title>NaCl Cross-origin Test</title>
</head>
<body>
<h2>NaCl Cross-origin Test</h2>
</body>
<script type="text/javascript" src="../load_util.js"></script>
<script>

function run() {
  document.cookie = "foo";
  var embed = load_util.embed("cors.nmf?expected_headers=Cookie:foo");
  // This same-origin manifest request will succeed only if the server detects
  // that a cookie is sent.  The .nexe is junk data, however, so the load
  // ultimately fails.
  load_util.expectLoadFailure(embed, "Bad ELF header magic number");
  document.body.appendChild(embed);
}

run();

</script>
</html>
