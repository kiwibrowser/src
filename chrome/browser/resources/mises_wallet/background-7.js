LavaPack.loadBundle([[5483,{"../errors":5480,"./_stream_duplex":5481,"./internal/streams/async_iterator":5486,"./internal/streams/buffer_list":5487,"./internal/streams/destroy":5488,"./internal/streams/from":5490,"./internal/streams/state":5492,"./internal/streams/stream":5493,_process:6127,buffer:2478,events:2479,inherits:5094,"string_decoder/":5495,util:2477},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r;t.exports=C,C.ReadableState=k;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),o=e("buffer").Buffer,a=global.Uint8Array||function(){};var u,c=e("util");u=c&&c.debuglog?c.debuglog("stream"):function(){};var l,h,d,f=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,_=g.ERR_METHOD_NOT_IMPLEMENTED,v=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(C,s);var w=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function k(t,n,i){r=r||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=n instanceof r),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function C(t){if(r=r||e("./_stream_duplex"),!(this instanceof C))return new C(t);var n=this instanceof r;this._readableState=new k(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function S(e,t,n,r,i){u("readableAddChunk",t);var s,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}(e,c);else if(i||(s=function(e,t){var n;r=t,o.isBuffer(r)||r instanceof a||"string"==typeof t||t===undefined||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(c,t)),s)w(e,s);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),r)c.endEmitted?w(e,new v):x(e,c,t,!0);else if(c.ended)w(e,new b);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!n?(t=c.decoder.write(t),c.objectMode||0!==t.length?x(e,c,t,!1):R(e,c)):x(e,c,t,!1)}else r||(c.reading=!1,R(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),R(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=o.from(e,t),t=""),n=!0),S(this,e,t,!1,n)},C.prototype.unshift=function(e){return S(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var n=new l(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var I=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=I?e=I:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(N,e))}function N(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,O(e)}function R(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function j(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){u("readable nexttick read 0"),e.read(0)}function L(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function U(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function D(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(B,t,e))}function B(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function F(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):T(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&D(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(r=e>0?U(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&D(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(e){w(this,new _("_read()"))},C.prototype.pipe=function(e,t){var r=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,u("pipe count=%d opts=%j",s.pipesCount,t);var o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?c:g;function a(t,n){u("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",g),r.removeListener("data",d),h=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}s.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,O(e))}}(r);e.on("drain",l);var h=!1;function d(t){u("ondata");var n=e.write(t);u("dest.write",n),!1===n&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==F(s.pipes,e))&&!h&&(u("false write response, pause",s.awaitDrain),s.awaitDrain++),r.pause())}function f(t){u("onerror",t),g(),e.removeListener("error",f),0===i(e,"error")&&w(e,t)}function p(){e.removeListener("finish",m),g()}function m(){u("onfinish"),e.removeListener("close",p),g()}function g(){u("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",p),e.once("finish",m),e.emit("pipe",r),s.flowing||(u("pipe resume"),r.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=F(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?T(this):i.reading||n.nextTick(M,this))),r},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(j,this),r},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||n.nextTick(j,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(L,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&i!==undefined)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return h===undefined&&(h=e("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=U,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(t,n){return d===undefined&&(d=e("./internal/streams/from")),d(C,t,n)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/_stream_readable.js"}],[2129,{},function(){with(this)return function(){"use strict";return function(e,t,n){function r(){this.head=this.tail=null,this.length=0}function i(e,t){e.length=1,e.head=e.tail=t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r,r.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},r.prototype.empty=function(){for(;this.head;)this.shift();return this},r.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},r.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},r.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):i(this,e)},r.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):i(this,e)},r.prototype.shift=function(){return this.head&&this.removeLink(this.head)},r.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},r.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},r.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this},t.exports=n.default}}},{package:"async",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/async/internal/DoublyLinkedList.js"}],[2637,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports="This is a repository of IPLD objects. Each IPLD object is in a single file,\nnamed <base32 encoding of cid>.data. Where <base32 encoding of cid> is the\n\"base32\" encoding of the CID (as specified in\nhttps://github.com/multiformats/multibase) without the 'B' prefix.\nAll the object files are placed in a tree of directories, based on a\nfunction of the CID. This is a form of sharding similar to\nthe objects directory in git repositories. Previously, we used\nprefixes, we now use the next-to-last two charters.\n    func NextToLast(base32cid string) {\n      nextToLastLen := 2\n      offset := len(base32cid) - nextToLastLen - 1\n      return str[offset : offset+nextToLastLen]\n    }\nFor example, an object with a base58 CIDv1 of\n    zb2rhYSxw4ZjuzgCnWSt19Q94ERaeFhu9uSqRgjSdx9bsgM6f\nhas a base32 CIDv1 of\n    BAFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA\nand will be placed at\n    SC/AFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA.data\nwith 'SC' being the last-to-next two characters and the 'B' at the\nbeginning of the CIDv1 string is the multibase prefix that is not\nstored in the filename.\n"}}},{package:"datastore-core",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/datastore-core/src/shard-readme.js"}],[6167,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){var t,n,r=!!e,i=(e||[]).map(o),s=0;function o(e){return{ready:!1,reading:!1,ended:!1,read:e,data:null}}function a(){if(n){!function(){var e=i.length;for(;e--;)i[e].ended&&i.splice(e,1)}();var e=i.length,o=n;if(0===e&&(t||r))return n=null,void o(t||!0);for(var a=0;a<e;a++){var u=i[(s+a)%e];if(u.ready&&!u.ended){var c=u.data;return u.ready=!1,u.data=null,s++,n=null,o(null,c)}}}}function u(){for(var e=i.length;e--;)!function(n){if(e>i.length)throw new Error("this should never happen");if(!(n.reading||n.ended||n.ready)){n.reading=!0;var r=!0;n.read(t,(function e(i,s){n.data=s,n.ready=!0,n.reading=!1,!0===i||t?n.ended=!0:i&&(t=n.ended=i),t&&!i&&n.read(t,e),r||a()})),r=!1}}(i[e]);a()}function c(e,r){t=t||e,n=r,u()}return c.add=function(e){if(!e)return r=!0,u();i.push(o(e)),u()},c.cap=function(e){c.add(null)},c}}}},{package:"pull-many",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-many/index.js"}],[2136,{"./wrapAsync":2151,"lodash/_arrayMap":5715,"lodash/_baseProperty":5750,"lodash/isArrayLike":5851,"lodash/noop":5869},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,r){((0,i.default)(t)?c:l)(e,t,(0,a.default)(n),r||o.default)};var r=u(e("lodash/_arrayMap")),i=u(e("lodash/isArrayLike")),s=u(e("lodash/_baseProperty")),o=u(e("lodash/noop")),a=u(e("./wrapAsync"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r){var i=new Array(t.length);e(t,(function(e,t,r){n(e,(function(e,n){i[t]=!!n,r(e)}))}),(function(e){if(e)return r(e);for(var n=[],s=0;s<t.length;s++)i[s]&&n.push(t[s]);r(null,n)}))}function l(e,t,n,i){var o=[];e(t,(function(e,t,r){n(e,(function(n,i){n?r(n):(i&&o.push({index:t,value:e}),r())}))}),(function(e){e?i(e):i(null,(0,r.default)(o.sort((function(e,t){return e.index-t.index})),(0,s.default)("value")))}))}t.exports=n.default}}},{package:"async",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/async/internal/filter.js"}],[2647,{_process:6127,"abstract-leveldown":2644,buffer:2478,"idb-readable-stream":5078,ltgt:5882,stream:2481,util:2485,xtend:6886},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n,r){(function(){var i=e("util"),s=e("abstract-leveldown").AbstractIterator,o=e("ltgt"),a=e("idb-readable-stream"),u=e("stream"),c=e("xtend"),l=u.Writable;function h(e,t){if(this._db=e._db,this._idbOpts=e._idbOpts,s.call(this,e),this._options=c({snapshot:!0},this._idbOpts,t),this._limit=this._options.limit,null!=this._limit&&-1!==this._limit||(this._limit=Infinity),"number"!=typeof this._limit)throw new TypeError("options.limit must be a number");0!==this._limit&&(this._count=0,this._startCursor(this._options))}t.exports=h,i.inherits(h,s),h.prototype._startCursor=function(e){e=c(this._options,e);var t=this,n=null,r=o.lowerBound(e),i=o.upperBound(e),s=o.lowerBoundExclusive(e),u=o.upperBoundExclusive(e),h=e.reverse?"prev":"next";if(r&&("binary"!==e.keyEncoding||Array.isArray(r)||(r=Array.prototype.slice.call(r))),i&&("binary"!==e.keyEncoding||Array.isArray(i)||(i=Array.prototype.slice.call(i))),r&&i)try{n=IDBKeyRange.bound(r,i,s,u)}catch(e){return void(this._keyRangeError=!0)}else r?n=IDBKeyRange.lowerBound(r,s):i&&(n=IDBKeyRange.upperBound(i,u));this._reader=a(this._db,this._idbOpts.storeName,c(e,{range:n,direction:h})),this._reader.on("error",(function(e){var n=t._callback;t._callback=!1,n?n(e):t._readNext=function(t){t(e)}})),this._reader.pipe(new l({objectMode:!0,write:function(e,n,r){if(t._count++>=t._limit)return t._reader.pause(),t._reader.unpipe(this),r(),void this.end();var i=t._callback;t._callback=!1,i?t._processItem(e,(function(e,t,n){r(e),i(e,t,n)})):t._readNext=function(n){t._processItem(e,(function(e,t,i){r(e),n(e,t,i)}))}}})).on("finish",(function(){var e=t._callback;t._callback=!1,e?e():t._readNext=function(e){e()}}))},h.prototype._processItem=function(e,t){if("function"!=typeof t)throw new TypeError("cb must be a function");var n=e.key,i=e.value;if(i instanceof Uint8Array&&(i=new r(i)),"binary"===this._options.keyEncoding&&Array.isArray(n)&&(n=new r(n)),"binary"!==this._options.valueEncoding||r.isBuffer(i)||(i=new r(i)),this._options.keyAsBuffer&&!r.isBuffer(n))if(null==n)n=new r(0);else if("string"==typeof n)n=new r(n);else if("boolean"==typeof n)n=new r(String(n));else if("number"==typeof n)n=new r(String(n));else if(Array.isArray(n))n=new r(String(n));else{if(!(n instanceof Uint8Array))throw new TypeError("can't coerce `"+n.constructor.name+"` into a Buffer");n=new r(n)}if(this._options.valueAsBuffer&&!r.isBuffer(i))if(null==i)i=new r(0);else if("string"==typeof i)i=new r(i);else if("boolean"==typeof i)i=new r(String(i));else if("number"==typeof i)i=new r(String(i));else if(Array.isArray(i))i=new r(String(i));else{if(!(i instanceof Uint8Array))throw new TypeError("can't coerce `"+i.constructor.name+"` into a Buffer");i=new r(i)}t(null,n,i)},h.prototype._next=function(e){if(this._callback)throw new Error("callback already exists");if(this._keyRangeError||0===this._limit)e();else{var t=this._readNext;this._readNext=!1,t?n.nextTick((function(){t(e)})):this._callback=e}}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"level-js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/datastore-level/node_modules/level-js/iterator.js"}],[2644,{"./abstract-chained-batch":2641,"./abstract-iterator":2642,"./abstract-leveldown":2643,"./is-leveldown":2645},function(){with(this)return function(){"use strict";return function(e,t,n){n.AbstractLevelDOWN=e("./abstract-leveldown"),n.AbstractIterator=e("./abstract-iterator"),n.AbstractChainedBatch=e("./abstract-chained-batch"),n.isLevelDOWN=e("./is-leveldown")}}},{package:"abstract-leveldown",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/datastore-level/node_modules/abstract-leveldown/index.js"}],[5476,{"./lib/encodings":5477},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./lib/encodings");function i(e){if(!(this instanceof i))return new i(e);this.opts=e||{},this.encodings=r}t.exports=i,i.prototype._encoding=function(e){return"string"==typeof e&&(e=r[e]),e||(e=r.id),e},i.prototype._keyEncoding=function(e,t){return this._encoding(t&&t.keyEncoding||e&&e.keyEncoding||this.opts.keyEncoding)},i.prototype._valueEncoding=function(e,t){return this._encoding(t&&(t.valueEncoding||t.encoding)||e&&(e.valueEncoding||e.encoding)||this.opts.valueEncoding||this.opts.encoding)},i.prototype.encodeKey=function(e,t,n){return this._keyEncoding(t,n).encode(e)},i.prototype.encodeValue=function(e,t,n){return this._valueEncoding(t,n).encode(e)},i.prototype.decodeKey=function(e,t){return this._keyEncoding(t).decode(e)},i.prototype.decodeValue=function(e,t){return this._valueEncoding(t).decode(e)},i.prototype.encodeBatch=function(e,t){var n=this;return e.map((function(e){var r={type:e.type,key:n.encodeKey(e.key,t,e)};return n.keyAsBuffer(t,e)&&(r.keyEncoding="binary"),e.prefix&&(r.prefix=e.prefix),"value"in e&&(r.value=n.encodeValue(e.value,t,e),n.valueAsBuffer(t,e)&&(r.valueEncoding="binary")),r}))};var s=["lt","gt","lte","gte","start","end"];i.prototype.encodeLtgt=function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=s.indexOf(r)>-1?t.encodeKey(e[r],e):e[r]})),n},i.prototype.createStreamDecoder=function(e){var t=this;return e.keys&&e.values?function(n,r){return{key:t.decodeKey(n,e),value:t.decodeValue(r,e)}}:e.keys?function(n){return t.decodeKey(n,e)}:e.values?function(n,r){return t.decodeValue(r,e)}:function(){}},i.prototype.keyAsBuffer=function(e){return this._keyEncoding(e).buffer},i.prototype.valueAsBuffer=function(e){return this._valueEncoding(e).buffer}}}},{package:"level-codec",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/level-codec/index.js"}],[3009,{"./abstract-chained-batch":3006,"./abstract-iterator":3007,"./abstract-leveldown":3008},function(){with(this)return function(){"use strict";return function(e,t,n){n.AbstractLevelDOWN=e("./abstract-leveldown"),n.AbstractIterator=e("./abstract-iterator"),n.AbstractChainedBatch=e("./abstract-chained-batch")}}},{package:"abstract-leveldown",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/encoding-down/node_modules/abstract-leveldown/index.js"}],[6140,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){var t,n=function(e){return e.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(n).filter(Boolean).map((function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e})).map(n).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((t=!1,function(e){return"/*"===e?(t=!0,!1):"*/"===e?(t=!1,!1):!t}))}}}},{package:"protocol-buffers-schema",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/protocol-buffers-schema/tokenize.js"}],[6146,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.defined=function(e){return null!==e&&e!==undefined&&("number"!=typeof e||!isNaN(e))}}}},{package:"protons",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/protons/src/compile/utils.js"}],[6529,{varint:6746},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("varint");n.encode=function e(t,n,i){t=t>=0?2*t:-2*t-1;var s=r.encode(t,n,i);return e.bytes=r.encode.bytes,s},n.decode=function e(t,n){var i=r.decode(t,n);return e.bytes=r.decode.bytes,1&i?(i+1)/-2:i/2},n.encodingLength=function(e){return r.encodingLength(e>=0?2*e:-2*e-1)}}}},{package:"signed-varint",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/signed-varint/index.js"}],[5528,{_process:6127,buffer:2478},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e,t){(function(){n.toCallback=t=>function(n,r){let i;try{i=t(n)}catch(t){return void e.nextTick(r,t)}e.nextTick(r,null,i)},n.toBuf=(e,n)=>r=>{let i=e(r,n);return t.from(i,"hex")},n.fromString=(e,n)=>r=>{const i=t.isBuffer(r)?r.toString():r;return e(i,n)},n.fromNumberTo32BitBuf=(e,n)=>r=>{let i=e(r,n);const s=new Array(4);for(let e=0;e<4;e++)s[e]=255&i,i>>=8;return t.from(s)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-crypto/node_modules/multihashing-async/src/utils.js"}],[5525,{buffer:2478,nodeify:5990},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("nodeify"),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function s(e){if(!i)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return(t,s)=>{const o=i.digest({name:e},t);if("function"!=typeof o.then)return o.onerror=()=>{s(new Error(`hashing data using ${e}`))},void(o.oncomplete=e=>{s(null,e.target.result)});r(o.then((e=>n.from(new Uint8Array(e)))),s)}}t.exports={sha1:function(e,t){s("SHA-1")(e,t)},sha2256:function(e,t){s("SHA-256")(e,t)},sha2512:function(e,t){s("SHA-512")(e,t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-crypto/node_modules/multihashing-async/src/crypto-sha1-2-browser.js"}],[5524,{"./utils":5528,blakejs:2429,buffer:2478},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("blakejs"),i=e("./utils").toCallback,s={init:r.blake2bInit,update:r.blake2bUpdate,digest:r.blake2bFinal},o={init:r.blake2sInit,update:r.blake2sUpdate,digest:r.blake2sFinal},a=(e,t)=>i((r=>{const i=t.init(e,null);return t.update(i,r),n.from(t.digest(i))}));t.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,s);for(let t=0;t<32;t++)e[45633+t]=a(t+1,o)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-crypto/node_modules/multihashing-async/src/blake.js"}],[2080,{"./der":2079},function(){with(this)return function(){"use strict";return function(e,t,n){const r=n;r._reverse=function(e){const t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);const r=e[n];t[r]=n})),t},r.der=e("./der")}}},{package:"asn1.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/asn1.js/lib/asn1/constants/index.js"}],[2074,{"./decoders":2082,"./encoders":2085,inherits:5094},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./encoders"),i=e("./decoders"),s=e("inherits");function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}n.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){const t=this.name;function n(e){this._initNamed(e,t)}return s(n,e),n.prototype._initNamed=function(t,n){e.call(this,t,n)},new n(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},o.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r[e])),this.encoders[e]},o.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}}}},{package:"asn1.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/asn1.js/lib/asn1/api.js"}],[2076,{"./buffer":2075,"./node":2077,"./reporter":2078},function(){with(this)return function(){"use strict";return function(e,t,n){const r=n;r.Reporter=e("./reporter").Reporter,r.DecoderBuffer=e("./buffer").DecoderBuffer,r.EncoderBuffer=e("./buffer").EncoderBuffer,r.Node=e("./node")}}},{package:"asn1.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/asn1.js/lib/asn1/base/index.js"}],[2085,{"./der":2084,"./pem":2086},function(){with(this)return function(){"use strict";return function(e,t,n){const r=n;r.der=e("./der"),r.pem=e("./pem")}}},{package:"asn1.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/asn1.js/lib/asn1/encoders/index.js"}],[2082,{"./der":2081,"./pem":2083},function(){with(this)return function(){"use strict";return function(e,t,n){const r=n;r.der=e("./der"),r.pem=e("./pem")}}},{package:"asn1.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/asn1.js/lib/asn1/decoders/index.js"}],[5521,{_process:6127,buffer:2478},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e,t){(function(){n.toCallback=t=>function(n,r){let i;try{i=t(n)}catch(t){return void e.nextTick(r,t)}e.nextTick(r,null,i)},n.toBuf=(e,n)=>r=>{let i=e(r,n);return t.from(i,"hex")},n.fromString=(e,n)=>r=>{const i=t.isBuffer(r)?r.toString():r;return e(i,n)},n.fromNumberTo32BitBuf=(e,n)=>r=>{let i=e(r,n);const s=new Array(4);for(let e=0;e<4;e++)s[e]=255&i,i>>=8;return t.from(s)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/node_modules/multihashing-async/src/utils.js"}],[5518,{buffer:2478,nodeify:5990},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("nodeify"),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function s(e){if(!i)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return(t,s)=>{const o=i.digest({name:e},t);if("function"!=typeof o.then)return o.onerror=()=>{s(new Error(`hashing data using ${e}`))},void(o.oncomplete=e=>{s(null,e.target.result)});r(o.then((e=>n.from(new Uint8Array(e)))),s)}}t.exports={sha1:function(e,t){s("SHA-1")(e,t)},sha2256:function(e,t){s("SHA-256")(e,t)},sha2512:function(e,t){s("SHA-512")(e,t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/node_modules/multihashing-async/src/crypto-sha1-2-browser.js"}],[5517,{"./utils":5521,blakejs:2429,buffer:2478},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("blakejs"),i=e("./utils").toCallback,s={init:r.blake2bInit,update:r.blake2bUpdate,digest:r.blake2bFinal},o={init:r.blake2sInit,update:r.blake2sUpdate,digest:r.blake2sFinal},a=(e,t)=>i((r=>{const i=t.init(e,null);return t.update(i,r),n.from(t.digest(i))}));t.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,s);for(let t=0;t<32;t++)e[45633+t]=a(t+1,o)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/node_modules/multihashing-async/src/blake.js"}],[5532,{"./assert":5530,"./der":5531,"./messages.json":5539},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./assert"),i=e("./der"),s=e("./messages.json");function o(e,t){return e===undefined?t:(r.isBoolean(e,s.COMPRESSED_TYPE_INVALID),e)}t.exports=function(e){return{privateKeyVerify:function(t){return r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),32===t.length&&e.privateKeyVerify(t)},privateKeyExport:function(t,n){r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),n=o(n,!0);var a=e.privateKeyExport(t,n);return i.privateKeyExport(t,a,n)},privateKeyImport:function(t){if(r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),(t=i.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error(s.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(t){return r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyNegate(t)},privateKeyModInverse:function(t){return r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyModInverse(t)},privateKeyTweakAdd:function(t,n){return r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),r.isBuffer(n,s.TWEAK_TYPE_INVALID),r.isBufferLength(n,32,s.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(t,n)},privateKeyTweakMul:function(t,n){return r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),r.isBuffer(n,s.TWEAK_TYPE_INVALID),r.isBufferLength(n,32,s.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(t,n)},publicKeyCreate:function(t,n){return r.isBuffer(t,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),n=o(n,!0),e.publicKeyCreate(t,n)},publicKeyConvert:function(t,n){return r.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),n=o(n,!0),e.publicKeyConvert(t,n)},publicKeyVerify:function(t){return r.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),e.publicKeyVerify(t)},publicKeyTweakAdd:function(t,n,i){return r.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),r.isBuffer(n,s.TWEAK_TYPE_INVALID),r.isBufferLength(n,32,s.TWEAK_LENGTH_INVALID),i=o(i,!0),e.publicKeyTweakAdd(t,n,i)},publicKeyTweakMul:function(t,n,i){return r.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),r.isBuffer(n,s.TWEAK_TYPE_INVALID),r.isBufferLength(n,32,s.TWEAK_LENGTH_INVALID),i=o(i,!0),e.publicKeyTweakMul(t,n,i)},publicKeyCombine:function(t,n){r.isArray(t,s.EC_PUBLIC_KEYS_TYPE_INVALID),r.isLengthGTZero(t,s.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var i=0;i<t.length;++i)r.isBuffer(t[i],s.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t[i],33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID);return n=o(n,!0),e.publicKeyCombine(t,n)},signatureNormalize:function(t){return r.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),r.isBufferLength(t,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),e.signatureNormalize(t)},signatureExport:function(t){r.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),r.isBufferLength(t,64,s.ECDSA_SIGNATURE_LENGTH_INVALID);var n=e.signatureExport(t);return i.signatureExport(n)},signatureImport:function(t){r.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),r.isLengthGTZero(t,s.ECDSA_SIGNATURE_LENGTH_INVALID);var n=i.signatureImport(t);if(n)return e.signatureImport(n);throw new Error(s.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(t){r.isBuffer(t,s.ECDSA_SIGNATURE_TYPE_INVALID),r.isLengthGTZero(t,s.ECDSA_SIGNATURE_LENGTH_INVALID);var n=i.signatureImportLax(t);if(n)return e.signatureImport(n);throw new Error(s.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(t,n,i){r.isBuffer(t,s.MSG32_TYPE_INVALID),r.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),r.isBuffer(n,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(n,32,s.EC_PRIVATE_KEY_LENGTH_INVALID);var o=null,a=null;return i!==undefined&&(r.isObject(i,s.OPTIONS_TYPE_INVALID),i.data!==undefined&&(r.isBuffer(i.data,s.OPTIONS_DATA_TYPE_INVALID),r.isBufferLength(i.data,32,s.OPTIONS_DATA_LENGTH_INVALID),o=i.data),i.noncefn!==undefined&&(r.isFunction(i.noncefn,s.OPTIONS_NONCEFN_TYPE_INVALID),a=i.noncefn)),e.sign(t,n,a,o)},verify:function(t,n,i){return r.isBuffer(t,s.MSG32_TYPE_INVALID),r.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),r.isBuffer(n,s.ECDSA_SIGNATURE_TYPE_INVALID),r.isBufferLength(n,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),r.isBuffer(i,s.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(i,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),e.verify(t,n,i)},recover:function(t,n,i,a){return r.isBuffer(t,s.MSG32_TYPE_INVALID),r.isBufferLength(t,32,s.MSG32_LENGTH_INVALID),r.isBuffer(n,s.ECDSA_SIGNATURE_TYPE_INVALID),r.isBufferLength(n,64,s.ECDSA_SIGNATURE_LENGTH_INVALID),r.isNumber(i,s.RECOVERY_ID_TYPE_INVALID),r.isNumberInInterval(i,-1,4,s.RECOVERY_ID_VALUE_INVALID),a=o(a,!0),e.recover(t,n,i,a)},ecdh:function(t,n){return r.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),r.isBuffer(n,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(n,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),e.ecdh(t,n)},ecdhUnsafe:function(t,n,i){return r.isBuffer(t,s.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,s.EC_PUBLIC_KEY_LENGTH_INVALID),r.isBuffer(n,s.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(n,32,s.EC_PRIVATE_KEY_LENGTH_INVALID),i=o(i,!0),e.ecdhUnsafe(t,n,i)}}}}}},{package:"secp256k1",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/index.js"}],[5538,{"../messages.json":5539,"./bn":5533,"./ecpoint":5536,"./ecpointg":5537,"create-hash":2586,"drbg.js/hmac":2986,"safe-buffer":6450},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer,i=e("create-hash"),s=e("drbg.js/hmac"),o=e("../messages.json"),a=e("./bn"),u=e("./ecpoint"),c=e("./ecpointg");n.privateKeyVerify=function(e){var t=a.fromBuffer(e);return!(t.isOverflow()||t.isZero())},n.privateKeyExport=function(e,t){var n=a.fromBuffer(e);if(n.isOverflow()||n.isZero())throw new Error(o.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return c.mul(n).toPublicKey(t)},n.privateKeyNegate=function(e){var t=a.fromBuffer(e);return t.isZero()?r.alloc(32):(t.ucmp(a.n)>0&&t.isub(a.n),a.n.sub(t).toBuffer())},n.privateKeyModInverse=function(e){var t=a.fromBuffer(e);if(t.isOverflow()||t.isZero())throw new Error(o.EC_PRIVATE_KEY_RANGE_INVALID);return t.uinvm().toBuffer()},n.privateKeyTweakAdd=function(e,t){var n=a.fromBuffer(t);if(n.isOverflow())throw new Error(o.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(n.iadd(a.fromBuffer(e)),n.isOverflow()&&n.isub(a.n),n.isZero())throw new Error(o.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return n.toBuffer()},n.privateKeyTweakMul=function(e,t){var n=a.fromBuffer(t);if(n.isOverflow()||n.isZero())throw new Error(o.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);var r=a.fromBuffer(e);return n.umul(r).ureduce().toBuffer()},n.publicKeyCreate=function(e,t){var n=a.fromBuffer(e);if(n.isOverflow()||n.isZero())throw new Error(o.EC_PUBLIC_KEY_CREATE_FAIL);return c.mul(n).toPublicKey(t)},n.publicKeyConvert=function(e,t){var n=u.fromPublicKey(e);if(null===n)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);return n.toPublicKey(t)},n.publicKeyVerify=function(e){return null!==u.fromPublicKey(e)},n.publicKeyTweakAdd=function(e,t,n){var r=u.fromPublicKey(e);if(null===r)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);if((t=a.fromBuffer(t)).isOverflow())throw new Error(o.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var i=c.mul(t).add(r);if(i.inf)throw new Error(o.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return i.toPublicKey(n)},n.publicKeyTweakMul=function(e,t,n){var r=u.fromPublicKey(e);if(null===r)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);if((t=a.fromBuffer(t)).isOverflow()||t.isZero())throw new Error(o.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return r.mul(t).toPublicKey(n)},n.publicKeyCombine=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;++r)if(n[r]=u.fromPublicKey(e[r]),null===n[r])throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);for(var i=n[0],s=1;s<n.length;++s)i=i.add(n[s]);if(i.inf)throw new Error(o.EC_PUBLIC_KEY_COMBINE_FAIL);return i.toPublicKey(t)},n.signatureNormalize=function(e){var t=a.fromBuffer(e.slice(0,32)),n=a.fromBuffer(e.slice(32,64));if(t.isOverflow()||n.isOverflow())throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);var i=r.from(e);return n.isHigh()&&a.n.sub(n).toBuffer().copy(i,32),i},n.signatureExport=function(e){var t=e.slice(0,32),n=e.slice(32,64);if(a.fromBuffer(t).isOverflow()||a.fromBuffer(n).isOverflow())throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);return{r:t,s:n}},n.signatureImport=function(e){var t=a.fromBuffer(e.r);t.isOverflow()&&(t=a.fromNumber(0));var n=a.fromBuffer(e.s);return n.isOverflow()&&(n=a.fromNumber(0)),r.concat([t.toBuffer(),n.toBuffer()])},n.sign=function(e,t,n,i){var u=a.fromBuffer(t);if(u.isOverflow()||u.isZero())throw new Error(o.ECDSA_SIGN_FAIL);if(null===n){var l=new s("sha256",t,e,i);n=function(){return l.generate(32)}}for(var h=a.fromBuffer(e),d=0;;++d){var f=n(e,t,null,i,d);if(!r.isBuffer(f)||32!==f.length)throw new Error(o.ECDSA_SIGN_FAIL);var p=a.fromBuffer(f);if(!p.isOverflow()&&!p.isZero()){var m=c.mul(p),g=m.x.fireduce();if(!g.isZero()){var y=p.uinvm().umul(g.umul(u).ureduce().iadd(h).fireduce()).ureduce();if(!y.isZero()){var b=(0!==m.x.ucmp(g)?2:0)|(m.y.isOdd()?1:0);return y.isHigh()&&(y=a.n.sub(y),b^=1),{signature:r.concat([g.toBuffer(),y.toBuffer()]),recovery:b}}}}}},n.verify=function(e,t,n){var r=a.fromBuffer(t.slice(0,32)),i=a.fromBuffer(t.slice(32,64));if(r.isOverflow()||i.isOverflow())throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);if(i.isHigh()||r.isZero()||i.isZero())return!1;var s=u.fromPublicKey(n);if(null===s)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);var l=i.uinvm(),h=l.umul(a.fromBuffer(e)).ureduce(),d=l.umul(r).ureduce(),f=c.mulAdd(h,s,d);if(f.inf)return!1;var p=f.z.redSqr();return 0===r.redMul(p).ucmp(f.x)||!(r.ucmp(a.psn)>=0)&&0===r.iadd(a.psn).redMul(p).ucmp(f.x)},n.recover=function(e,t,n,i){var s=a.fromBuffer(t.slice(0,32)),l=a.fromBuffer(t.slice(32,64));if(s.isOverflow()||l.isOverflow())throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);do{if(s.isZero()||l.isZero())break;var h=s;if(n>>1){if(h.ucmp(a.psn)>=0)break;h=s.add(a.n)}var d=r.concat([r.from([2+(1&n)]),h.toBuffer()]),f=u.fromPublicKey(d);if(null===f)break;var p=s.uinvm(),m=a.n.sub(a.fromBuffer(e)).umul(p).ureduce(),g=l.umul(p).ureduce();return u.fromECJPoint(c.mulAdd(m,f,g)).toPublicKey(i)}while(0);throw new Error(o.ECDSA_RECOVER_FAIL)},n.ecdh=function(e,t){var r=n.ecdhUnsafe(e,t,!0);return i("sha256").update(r).digest()},n.ecdhUnsafe=function(e,t,n){var r=u.fromPublicKey(e);if(null===r)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);var i=a.fromBuffer(t);if(i.isOverflow()||i.isZero())throw new Error(o.ECDH_FAIL);return r.mul(i).toPublicKey(n)}}}},{package:"secp256k1",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/js/index.js"}],[5948,{},function(){with(this)return function(){"use strict";return function(e,t,n){!function(e,r){var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function s(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function o(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function u(e){return e=o(e^=e>>>16,2246822507),e=o(e^=e>>>13,3266489909),e^=e>>>16}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function l(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function h(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function d(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function f(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=f(e,[0,e[0]>>>1]),e=f(e=l(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=f(e=l(e,[3301882366,444984403]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){if(i.inputValidation&&!s(e))return r;t=t||0;for(var n=e.length%4,c=e.length-n,l=t,h=0,d=3432918353,f=461845907,p=0;p<c;p+=4)h=o(h=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,d),h=o(h=a(h,15),f),l=o(l=a(l^=h,13),5)+3864292196;switch(h=0,n){case 3:h^=e[p+2]<<16;case 2:h^=e[p+1]<<8;case 1:h=o(h^=e[p],d),l^=h=o(h=a(h,15),f)}return(l=u(l^=e.length))>>>0},i.x86.hash128=function(e,t){if(i.inputValidation&&!s(e))return r;t=t||0;for(var n=e.length%16,c=e.length-n,l=t,h=t,d=t,f=t,p=0,m=0,g=0,y=0,b=597399067,_=2869860233,v=951274213,w=2716044179,E=0;E<c;E+=16)p=e[E]|e[E+1]<<8|e[E+2]<<16|e[E+3]<<24,m=e[E+4]|e[E+5]<<8|e[E+6]<<16|e[E+7]<<24,g=e[E+8]|e[E+9]<<8|e[E+10]<<16|e[E+11]<<24,y=e[E+12]|e[E+13]<<8|e[E+14]<<16|e[E+15]<<24,p=a(p=o(p,b),15),l=a(l^=p=o(p,_),19),l=o(l+=h,5)+1444728091,m=a(m=o(m,_),16),h=a(h^=m=o(m,v),17),h=o(h+=d,5)+197830471,g=a(g=o(g,v),17),d=a(d^=g=o(g,w),15),d=o(d+=f,5)+2530024501,y=a(y=o(y,w),18),f=a(f^=y=o(y,b),13),f=o(f+=l,5)+850148119;switch(p=0,m=0,g=0,y=0,n){case 15:y^=e[E+14]<<16;case 14:y^=e[E+13]<<8;case 13:y=o(y^=e[E+12],w),f^=y=o(y=a(y,18),b);case 12:g^=e[E+11]<<24;case 11:g^=e[E+10]<<16;case 10:g^=e[E+9]<<8;case 9:g=o(g^=e[E+8],v),d^=g=o(g=a(g,17),w);case 8:m^=e[E+7]<<24;case 7:m^=e[E+6]<<16;case 6:m^=e[E+5]<<8;case 5:m=o(m^=e[E+4],_),h^=m=o(m=a(m,16),v);case 4:p^=e[E+3]<<24;case 3:p^=e[E+2]<<16;case 2:p^=e[E+1]<<8;case 1:p=o(p^=e[E],b),l^=p=o(p=a(p,15),_)}return l^=e.length,l+=h^=e.length,l+=d^=e.length,h+=l+=f^=e.length,d+=l,f+=l,l=u(l),l+=h=u(h),l+=d=u(d),h+=l+=f=u(f),d+=l,f+=l,("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)},i.x64.hash128=function(e,t){if(i.inputValidation&&!s(e))return r;t=t||0;for(var n=e.length%16,o=e.length-n,a=[0,t],u=[0,t],m=[0,0],g=[0,0],y=[2277735313,289559509],b=[1291169091,658871167],_=0;_<o;_+=16)m=[e[_+4]|e[_+5]<<8|e[_+6]<<16|e[_+7]<<24,e[_]|e[_+1]<<8|e[_+2]<<16|e[_+3]<<24],g=[e[_+12]|e[_+13]<<8|e[_+14]<<16|e[_+15]<<24,e[_+8]|e[_+9]<<8|e[_+10]<<16|e[_+11]<<24],m=h(m=l(m,y),31),a=c(a=h(a=f(a,m=l(m,b)),27),u),a=c(l(a,[0,5]),[0,1390208809]),g=h(g=l(g,b),33),u=c(u=h(u=f(u,g=l(g,y)),31),a),u=c(l(u,[0,5]),[0,944331445]);switch(m=[0,0],g=[0,0],n){case 15:g=f(g,d([0,e[_+14]],48));case 14:g=f(g,d([0,e[_+13]],40));case 13:g=f(g,d([0,e[_+12]],32));case 12:g=f(g,d([0,e[_+11]],24));case 11:g=f(g,d([0,e[_+10]],16));case 10:g=f(g,d([0,e[_+9]],8));case 9:g=l(g=f(g,[0,e[_+8]]),b),u=f(u,g=l(g=h(g,33),y));case 8:m=f(m,d([0,e[_+7]],56));case 7:m=f(m,d([0,e[_+6]],48));case 6:m=f(m,d([0,e[_+5]],40));case 5:m=f(m,d([0,e[_+4]],32));case 4:m=f(m,d([0,e[_+3]],24));case 3:m=f(m,d([0,e[_+2]],16));case 2:m=f(m,d([0,e[_+1]],8));case 1:m=l(m=f(m,[0,e[_]]),y),a=f(a,m=l(m=h(m,31),b))}return a=c(a=f(a,[0,e.length]),u=f(u,[0,e.length])),u=c(u,a),a=c(a=p(a),u=p(u)),u=c(u,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)},void 0!==n?(void 0!==t&&t.exports&&(n=t.exports=i),n.murmurHash3=i):"function"==typeof define&&define.amd?define([],(function(){return i})):(i._murmurHash3=e.murmurHash3,i.noConflict=function(){return e.murmurHash3=i._murmurHash3,i._murmurHash3=r,i.noConflict=r,i},e.murmurHash3=i)}(this)}}},{package:"murmurhash3js-revisited",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/murmurhash3js-revisited/lib/murmurHash3js.js"}],[2430,{buffer:2478},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){function n(e){return(4294967296+e).toString(16).substring(1)}t.exports={normalizeInput:function(t){var n;if(t instanceof Uint8Array)n=t;else if(t instanceof e)n=new Uint8Array(t);else{if("string"!=typeof t)throw new Error("Input must be an string, Buffer or Uint8Array");n=new Uint8Array(e.from(t,"utf8"))}return n},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(e,t,r){for(var i="\n"+e+" = ",s=0;s<t.length;s+=2){if(32===r)i+=n(t[s]).toUpperCase(),i+=" ",i+=n(t[s+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);i+=n(t[s+1]).toUpperCase(),i+=n(t[s]).toUpperCase()}s%6==4?i+="\n"+new Array(e.length+4).join(" "):s<t.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,n){for(var r=(new Date).getTime(),i=new Uint8Array(t),s=0;s<t;s++)i[s]=s%256;var o=(new Date).getTime();for(console.log("Generated random input in "+(o-r)+"ms"),r=o,s=0;s<n;s++){var a=e(i),u=(new Date).getTime(),c=u-r;r=u,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"blakejs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/blakejs/util.js"}],[6700,{"./lib/truncate":6701,"utf8-byte-length/browser":6721},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./lib/truncate"),i=e("utf8-byte-length/browser");t.exports=r.bind(null,i)}}},{package:"truncate-utf8-bytes",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/truncate-utf8-bytes/browser.js"}],[2119,{"./internal/createTester":2131,"./internal/doParallel":2133,"./internal/findGetResult":2137,"lodash/identity":5847},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("lodash/identity")),i=a(e("./internal/createTester")),s=a(e("./internal/doParallel")),o=a(e("./internal/findGetResult"));function a(e){return e&&e.__esModule?e:{default:e}}n.default=(0,s.default)((0,i.default)(r.default,o.default)),t.exports=n.default}}},{package:"async",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/async/detect.js"}],[5975,{"./aes":5958,"./asn1":5959,"./des":5963,"./forge":5964,"./oids":5970,"./pem":5973,"./pkcs7asn1":5976,"./random":5980,"./util":5986,"./x509":5987},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./forge");e("./aes"),e("./asn1"),e("./des"),e("./oids"),e("./pem"),e("./pkcs7asn1"),e("./random"),e("./util"),e("./x509");var i=r.asn1,s=t.exports=r.pkcs7=r.pkcs7||{};function o(e){var t={},n=[];if(!i.validate(e,s.asn1.recipientInfoValidator,t,n)){var o=new Error("Cannot read PKCS#7 RecipientInfo. "+"ASN.1 object is not an PKCS#7 RecipientInfo.");throw o.errors=n,o}return{version:t.version.charCodeAt(0),issuer:r.pki.RDNAttributesAsArray(t.issuer),serialNumber:r.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:i.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:undefined,content:t.encKey}}}function a(e){for(var t,n=[],s=0;s<e.length;++s)n.push((t=e[s],i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:t.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,r.util.hexToBytes(t.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.encryptedContent.content)])));return n}function u(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:e.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,r.util.hexToBytes(e.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var n=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),s=0;s<e.unauthenticatedAttributes.length;++s){var o=e.unauthenticatedAttributes[s];n.values.push(c(o))}t.value.push(n)}return t}function c(e){var t;if(e.type===r.pki.oids.contentType)t=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.value).getBytes());else if(e.type===r.pki.oids.messageDigest)t=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===r.pki.oids.signingTime){var n=new Date("1950-01-01T00:00:00Z"),s=new Date("2050-01-01T00:00:00Z"),o=e.value;if("string"==typeof o){var a=Date.parse(o);o=isNaN(a)?13===o.length?i.utcTimeToDate(o):i.generalizedTimeToDate(o):new Date(a)}t=o>=n&&o<s?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(o)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(o))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[t])])}function l(e,t,n){var s={};if(!i.validate(t,n,s,[])){var o=new Error("Cannot read PKCS#7 message. "+"ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}if(i.derToOid(s.contentType)!==r.pki.oids.data)throw new Error("Unsupported PKCS#7 message. "+"Only wrapped ContentType Data supported.");if(s.encryptedContent){var a="";if(r.util.isArray(s.encryptedContent))for(var u=0;u<s.encryptedContent.length;++u){if(s.encryptedContent[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted "+"content constructed of only OCTET STRING objects.");a+=s.encryptedContent[u].value}else a=s.encryptedContent;e.encryptedContent={algorithm:i.derToOid(s.encAlgorithm),parameter:r.util.createBuffer(s.encParameter.value),content:r.util.createBuffer(a)}}if(s.content){a="";if(r.util.isArray(s.content))for(u=0;u<s.content.length;++u){if(s.content[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting "+"content constructed of only OCTET STRING objects.");a+=s.content[u].value}else a=s.content;e.content=r.util.createBuffer(a)}return e.version=s.version.charCodeAt(0),e.rawCapture=s,s}function h(e){if(e.encryptedContent.key===undefined)throw new Error("Symmetric key not available.");if(e.content===undefined){var t;switch(e.encryptedContent.algorithm){case r.pki.oids["aes128-CBC"]:case r.pki.oids["aes192-CBC"]:case r.pki.oids["aes256-CBC"]:t=r.aes.createDecryptionCipher(e.encryptedContent.key);break;case r.pki.oids.desCBC:case r.pki.oids["des-EDE3-CBC"]:t=r.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}s.messageFromPem=function(e){var t=r.pem.decode(e)[0];if("PKCS7"!==t.type){var n=new Error("Could not convert PKCS#7 message from PEM; PEM "+'header type is not "PKCS#7".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var o=i.fromDer(t.body);return s.messageFromAsn1(o)},s.messageToPem=function(e,t){var n={type:"PKCS7",body:i.toDer(e.toAsn1()).getBytes()};return r.pem.encode(n,{maxline:t})},s.messageFromAsn1=function(e){var t={},n=[];if(!i.validate(e,s.asn1.contentInfoValidator,t,n)){var o=new Error("Cannot read PKCS#7 message. "+"ASN.1 object is not an PKCS#7 ContentInfo.");throw o.errors=n,o}var a,u=i.derToOid(t.contentType);switch(u){case r.pki.oids.envelopedData:a=s.createEnvelopedData();break;case r.pki.oids.encryptedData:a=s.createEncryptedData();break;case r.pki.oids.signedData:a=s.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+u+" is not (yet) supported.")}return a.fromAsn1(t.content.value[0]),a},s.createSignedData=function(){var e=null;return e={type:r.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(l(e,t,s.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var n=e.rawCapture.certificates.value,i=0;i<n.length;++i)e.certificates.push(r.pki.certificateFromAsn1(n[i]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],n=0;n<e.certificates.length;++n)t.push(r.pki.certificateToAsn1(e.certificates[n]));var s=[],o=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&o.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,t)),s.length>0&&o.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,s)),o.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),o])},addSigner:function(t){var n=t.issuer,i=t.serialNumber;if(t.certificate){var s=t.certificate;"string"==typeof s&&(s=r.pki.certificateFromPem(s)),n=s.issuer.attributes,i=s.serialNumber}var o=t.key;if(!o)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof o&&(o=r.pki.privateKeyFromPem(o));var a=t.digestAlgorithm||r.pki.oids.sha1;switch(a){case r.pki.oids.sha1:case r.pki.oids.sha256:case r.pki.oids.sha384:case r.pki.oids.sha512:case r.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+a)}var u=t.authenticatedAttributes||[];if(u.length>0){for(var c=!1,l=!1,h=0;h<u.length;++h){var d=u[h];if(c||d.type!==r.pki.oids.contentType){if(l||d.type!==r.pki.oids.messageDigest);else if(l=!0,c)break}else if(c=!0,l)break}if(!c||!l)throw new Error("Invalid signer.authenticatedAttributes. If "+"signer.authenticatedAttributes is specified, then it must "+"contain at least two attributes, PKCS #9 content-type and "+"PKCS #9 message-digest.")}e.signers.push({key:o,version:1,issuer:n,serialNumber:i,digestAlgorithm:a,signatureAlgorithm:r.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(t){var n;(t=t||{},"object"!=typeof e.content||null===e.contentInfo)&&(e.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(r.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof r.util.ByteBuffer?n=e.content.bytes():"string"==typeof e.content&&(n=r.util.encodeUtf8(e.content)),t.detached?e.detachedContent=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,n):e.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,n)]))));0!==e.signers.length&&function(t){var n;n=e.detachedContent?e.detachedContent:(n=e.contentInfo.value[1]).value[0];if(!n)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=i.derToOid(e.contentInfo.value[0].value),o=i.toDer(n);for(var a in o.getByte(),i.getBerValueLength(o),o=o.getBytes(),t)t[a].start().update(o);for(var l=new Date,h=0;h<e.signers.length;++h){var d=e.signers[h];if(0===d.authenticatedAttributes.length){if(s!==r.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present "+"when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var f=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),p=0;p<d.authenticatedAttributes.length;++p){var m=d.authenticatedAttributes[p];m.type===r.pki.oids.messageDigest?m.value=t[d.digestAlgorithm].digest():m.type===r.pki.oids.signingTime&&(m.value||(m.value=l)),f.value.push(c(m)),d.authenticatedAttributesAsn1.value.push(c(m))}o=i.toDer(f).getBytes(),d.md.start().update(o)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],n=0;n<e.length;++n)t.push(u(e[n]));return t}(e.signers)}(function(){for(var t={},n=0;n<e.signers.length;++n){var s=e.signers[n];(o=s.digestAlgorithm)in t||(t[o]=r.md[r.pki.oids[o]].create()),0===s.authenticatedAttributes.length?s.md=t[o]:s.md=r.md[r.pki.oids[o]].create()}for(var o in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=r.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},s.createEncryptedData=function(){var e=null;return e={type:r.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(t){l(e,t,s.asn1.encryptedDataValidator)},decrypt:function(t){t!==undefined&&(e.encryptedContent.key=t),h(e)}}},s.createEnvelopedData=function(){var e=null;return e={type:r.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(t){var n=l(e,t,s.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],n=0;n<e.length;++n)t.push(o(e[n]));return t}(n.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,a(e.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,(t=e.encryptedContent,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(r.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.algorithm).getBytes()),t.parameter?i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.parameter.getBytes()):undefined]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var n=t.issuer.attributes,r=0;r<e.recipients.length;++r){var i=e.recipients[r],s=i.issuer;if(i.serialNumber===t.serialNumber&&s.length===n.length){for(var o=!0,a=0;a<n.length;++a)if(s[a].type!==n[a].type||s[a].value!==n[a].value){o=!1;break}if(o)return i}}return null},decrypt:function(t,n){if(e.encryptedContent.key===undefined&&t!==undefined&&n!==undefined)switch(t.encryptedContent.algorithm){case r.pki.oids.rsaEncryption:case r.pki.oids.desCBC:var i=n.decrypt(t.encryptedContent.content);e.encryptedContent.key=r.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, "+"OID "+t.encryptedContent.algorithm)}h(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:r.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,n){if(e.encryptedContent.content===undefined){var i,s,o;switch(n=n||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,n){case r.pki.oids["aes128-CBC"]:i=16,s=16,o=r.aes.createEncryptionCipher;break;case r.pki.oids["aes192-CBC"]:i=24,s=16,o=r.aes.createEncryptionCipher;break;case r.pki.oids["aes256-CBC"]:i=32,s=16,o=r.aes.createEncryptionCipher;break;case r.pki.oids["des-EDE3-CBC"]:i=24,s=8,o=r.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+n)}if(t===undefined)t=r.util.createBuffer(r.random.getBytes(i));else if(t.length()!=i)throw new Error("Symmetric key has wrong length; "+"got "+t.length()+" bytes, expected "+i+".");e.encryptedContent.algorithm=n,e.encryptedContent.key=t,e.encryptedContent.parameter=r.util.createBuffer(r.random.getBytes(s));var a=o(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var u=0;u<e.recipients.length;++u){var c=e.recipients[u];if(c.encryptedContent.content===undefined){if(c.encryptedContent.algorithm!==r.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm);c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data)}}}}}}}},{package:"node-forge",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/node-forge/lib/pkcs7.js"}],[5601,{"node-forge/lib/forge":5964,"node-forge/lib/x509":5987},function(){with(this)return function(){"use strict";return function(e,t,n){e("node-forge/lib/x509");const r=e("node-forge/lib/forge").pki;t.exports.certificateForKey=(e,t,n)=>{const i=r.setRsaPublicKey(t.n,t.e),s=r.createCertificate();s.publicKey=i,s.serialNumber="01",s.validity.notBefore=new Date,s.validity.notAfter=new Date,s.validity.notAfter.setFullYear(s.validity.notBefore.getFullYear()+10);const o=[{name:"organizationName",value:"ipfs"},{shortName:"OU",value:"keystore"},{name:"commonName",value:e.id}];return s.setSubject(o),s.setIssuer(o),s.setExtensions([{name:"basicConstraints",cA:!0},{name:"keyUsage",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:"extKeyUsage",serverAuth:!0,clientAuth:!0,codeSigning:!0,emailProtection:!0,timeStamping:!0},{name:"nsCertType",client:!0,server:!0,email:!0,objsign:!0,sslCA:!0,emailCA:!0,objCA:!0}]),s.sign(t),n(null,s)}}}},{package:"libp2p-keychain",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-keychain/src/util.js"}],[2650,{"err-code":3029,multibase:5911},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("multibase"),i=e("err-code"),s="/record/";t.exports.encodeBase32=e=>r.encode("base32",e).slice(1),t.exports.keyToTopic=e=>`/record/${r.encode("base64url",e).slice(1).toString()}`,t.exports.topicToKey=e=>{if(e.substring(0,s.length)!==s)throw i(new Error("topic received is not from a record"),"ERR_TOPIC_IS_NOT_FROM_RECORD_NAMESPACE");const t=`u${e.substring(s.length)}`;return r.decode(t).toString()}}}},{package:"datastore-pubsub",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/datastore-pubsub/src/utils.js"}],[5098,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var i=new Uint8Array(16);t.exports=function(){return r(i),i}}else{var s=new Array(16);t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),s[t]=e>>>((3&t)<<3)&255;return s}}}}},{package:"uuid",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/interface-datastore/node_modules/uuid/lib/rng-browser.js"}],[5097,{},function(){with(this)return function(){"use strict";return function(e,t,n){for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);t.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}}}},{package:"uuid",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/interface-datastore/node_modules/uuid/lib/bytesToUuid.js"}],[5124,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports="\n  message Message {\n    message Wantlist {\n      message Entry {\n        // changed from string to bytes, it makes a difference in JavaScript\n        optional bytes block = 1;      // the block cid (cidV0 in bitswap 1.0.0, cidV1 in bitswap 1.1.0)\n        optional int32 priority = 2;    // the priority (normalized). default to 1\n        optional bool cancel = 3;       // whether this revokes an entry\n      }\n\n      repeated Entry entries = 1;       // a list of wantlist entries\n      optional bool full = 2;           // whether this is the full wantlist. default to false\n    }\n\n    message Block {\n      optional bytes prefix = 1;        // CID prefix (cid version, multicodec and multihash prefix (type + length)\n      optional bytes data = 2;\n    }\n\n    optional Wantlist wantlist = 1;\n    repeated bytes blocks = 2;          // used to send Blocks in bitswap 1.0.0\n    repeated Block payload = 3;         // used to send Blocks in bitswap 1.1.0\n  }\n"}}},{package:"ipfs-bitswap",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-bitswap/src/types/message/message.proto.js"}],[5692,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",h="[object Map]",d="[object Number]",f="[object Object]",p="[object Promise]",m="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",_="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",E=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[s]=C[o]=C[v]=C[a]=C[w]=C[u]=C[c]=C[l]=C[h]=C[d]=C[f]=C[m]=C[g]=C[y]=C[_]=!1;var S="object"==typeof global&&global&&global.Object===Object&&global,x="object"==typeof self&&self&&self.Object===Object&&self,I=S||x||Function("return this")(),A="object"==typeof n&&n&&!n.nodeType&&n,T=A&&"object"==typeof t&&t&&!t.nodeType&&t,N=T&&T.exports===A&&S.process,R=function(){try{return N&&N.binding("util")}catch(e){}}(),P=R&&R.isTypedArray;function j(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function M(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function L(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function O(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var U,D,B,F=Array.prototype,V=Function.prototype,q=Object.prototype,K=I["__core-js_shared__"],z=(U=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",G=V.toString,W=q.hasOwnProperty,H=q.toString,$=RegExp("^"+G.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=I.Symbol,Z=I.Uint8Array,Q=q.propertyIsEnumerable,X=F.splice,J=(D=Object.keys,B=Object,function(e){return D(B(e))}),ee=Se(I,"DataView"),te=Se(I,"Map"),ne=Se(I,"Promise"),re=Se(I,"Set"),ie=Se(I,"WeakMap"),se=Se(Object,"create"),oe=Ae(ee),ae=Ae(te),ue=Ae(ne),ce=Ae(re),le=Ae(ie),he=Y?Y.prototype:undefined,de=he?he.valueOf:undefined;function fe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function pe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ge(e){var t=-1,n=e?e.length:0;for(this.__data__=new me;++t<n;)this.add(e[t])}function ye(e){this.__data__=new pe(e)}function be(e,t){var n=Ne(e)||function(e){return function(e){return Le(e)&&Re(e)}(e)&&W.call(e,"callee")&&(!Q.call(e,"callee")||H.call(e)==s)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!W.call(e,o)||i&&("length"==o||Ie(o,r))||n.push(o);return n}function _e(e,t){for(var n=e.length;n--;)if(Te(e[n][0],t))return n;return-1}function ve(e,t,n,r,i){return e===t||(null==e||null==t||!Me(e)&&!Le(t)?e!=e&&t!=t:function(e,t,n,r,i,l){var p=Ne(e),_=Ne(t),E=o,k=o;p||(E=(E=xe(e))==s?f:E);_||(k=(k=xe(t))==s?f:k);var C=E==f&&!M(e),S=k==f&&!M(t),x=E==k;if(x&&!C)return l||(l=new ye),p||Oe(e)?ke(e,t,n,r,i,l):function(e,t,n,r,i,s,o){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case v:return!(e.byteLength!=t.byteLength||!r(new Z(e),new Z(t)));case a:case u:case d:return Te(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case y:return e==t+"";case h:var l=L;case g:var f=2&s;if(l||(l=O),e.size!=t.size&&!f)return!1;var p=o.get(e);if(p)return p==t;s|=1,o.set(e,t);var _=ke(l(e),l(t),r,i,s,o);return o.delete(e),_;case b:if(de)return de.call(e)==de.call(t)}return!1}(e,t,E,n,r,i,l);if(!(2&i)){var I=C&&W.call(e,"__wrapped__"),A=S&&W.call(t,"__wrapped__");if(I||A){var T=I?e.value():e,N=A?t.value():t;return l||(l=new ye),n(T,N,r,i,l)}}if(!x)return!1;return l||(l=new ye),function(e,t,n,r,i,s){var o=2&i,a=Ue(e),u=a.length,c=Ue(t).length;if(u!=c&&!o)return!1;var l=u;for(;l--;){var h=a[l];if(!(o?h in t:W.call(t,h)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var f=!0;s.set(e,t),s.set(t,e);var p=o;for(;++l<u;){var m=e[h=a[l]],g=t[h];if(r)var y=o?r(g,m,h,t,e,s):r(m,g,h,e,t,s);if(!(y===undefined?m===g||n(m,g,r,i,s):y)){f=!1;break}p||(p="constructor"==h)}if(f&&!p){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(f=!1)}return s.delete(e),s.delete(t),f}(e,t,n,r,i,l)}(e,t,ve,n,r,i))}function we(e){return!(!Me(e)||function(e){return!!z&&z in e}(e))&&(Pe(e)||M(e)?$:E).test(Ae(e))}function Ee(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||q,t!==r)return J(e);var t,n,r,i=[];for(var s in Object(e))W.call(e,s)&&"constructor"!=s&&i.push(s);return i}function ke(e,t,n,r,i,s){var o=2&i,a=e.length,u=t.length;if(a!=u&&!(o&&u>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var l=-1,h=!0,d=1&i?new ge:undefined;for(s.set(e,t),s.set(t,e);++l<a;){var f=e[l],p=t[l];if(r)var m=o?r(p,f,l,t,e,s):r(f,p,l,e,t,s);if(m!==undefined){if(m)continue;h=!1;break}if(d){if(!j(t,(function(e,t){if(!d.has(t)&&(f===e||n(f,e,r,i,s)))return d.add(t)}))){h=!1;break}}else if(f!==p&&!n(f,p,r,i,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function Ce(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Se(e,t){var n=function(e,t){return null==e?undefined:e[t]}(e,t);return we(n)?n:undefined}fe.prototype.clear=function(){this.__data__=se?se(null):{}},fe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},fe.prototype.get=function(e){var t=this.__data__;if(se){var n=t[e];return n===r?undefined:n}return W.call(t,e)?t[e]:undefined},fe.prototype.has=function(e){var t=this.__data__;return se?t[e]!==undefined:W.call(t,e)},fe.prototype.set=function(e,t){return this.__data__[e]=se&&t===undefined?r:t,this},pe.prototype.clear=function(){this.__data__=[]},pe.prototype.delete=function(e){var t=this.__data__,n=_e(t,e);return!(n<0)&&(n==t.length-1?t.pop():X.call(t,n,1),!0)},pe.prototype.get=function(e){var t=this.__data__,n=_e(t,e);return n<0?undefined:t[n][1]},pe.prototype.has=function(e){return _e(this.__data__,e)>-1},pe.prototype.set=function(e,t){var n=this.__data__,r=_e(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},me.prototype.clear=function(){this.__data__={hash:new fe,map:new(te||pe),string:new fe}},me.prototype.delete=function(e){return Ce(this,e).delete(e)},me.prototype.get=function(e){return Ce(this,e).get(e)},me.prototype.has=function(e){return Ce(this,e).has(e)},me.prototype.set=function(e,t){return Ce(this,e).set(e,t),this},ge.prototype.add=ge.prototype.push=function(e){return this.__data__.set(e,r),this},ge.prototype.has=function(e){return this.__data__.has(e)},ye.prototype.clear=function(){this.__data__=new pe},ye.prototype.delete=function(e){return this.__data__.delete(e)},ye.prototype.get=function(e){return this.__data__.get(e)},ye.prototype.has=function(e){return this.__data__.has(e)},ye.prototype.set=function(e,t){var n=this.__data__;if(n instanceof pe){var r=n.__data__;if(!te||r.length<199)return r.push([e,t]),this;n=this.__data__=new me(r)}return n.set(e,t),this};var xe=function(e){return H.call(e)};function Ie(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&e<t}function Ae(e){if(null!=e){try{return G.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Te(e,t){return e===t||e!=e&&t!=t}(ee&&xe(new ee(new ArrayBuffer(1)))!=w||te&&xe(new te)!=h||ne&&xe(ne.resolve())!=p||re&&xe(new re)!=g||ie&&xe(new ie)!=_)&&(xe=function(e){var t=H.call(e),n=t==f?e.constructor:undefined,r=n?Ae(n):undefined;if(r)switch(r){case oe:return w;case ae:return h;case ue:return p;case ce:return g;case le:return _}return t});var Ne=Array.isArray;function Re(e){return null!=e&&je(e.length)&&!Pe(e)}function Pe(e){var t=Me(e)?H.call(e):"";return t==l||"[object GeneratorFunction]"==t}function je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Me(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Le(e){return!!e&&"object"==typeof e}var Oe=P?function(e){return function(t){return e(t)}}(P):function(e){return Le(e)&&je(e.length)&&!!C[H.call(e)]};function Ue(e){return Re(e)?be(e):Ee(e)}t.exports=function(e,t,n){var r=(n="function"==typeof n?n:undefined)?n(e,t):undefined;return r===undefined?ve(e,t,n):!!r}}}},{package:"lodash.isequalwith",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/lodash.isequalwith/index.js"}],[5122,{"../wantlist":5126,assert:2088,cids:2520},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../wantlist").Entry,i=e("cids"),s=e("assert");t.exports=class{constructor(e,t,n){s(i.isCID(e),"needs valid cid"),this.entry=new r(e,t),this.cancel=Boolean(n)}get cid(){return this.entry.cid}set cid(e){this.entry.cid=e}get priority(){return this.entry.priority}set priority(e){this.entry.priority=e}get[Symbol.toStringTag](){return`BitswapMessageEntry ${this.cid.toBaseEncodedString()} <cancel: ${this.cancel}, priority: ${this.priority}>`}equals(e){return this.cancel===e.cancel&&this.entry.equals(e.entry)}}}}},{package:"ipfs-bitswap",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-bitswap/src/types/message/entry.js"}],[6743,{"../../is-buffer/index.js":5378,varint:6746},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("varint");t.exports=e=>{if(!n.isBuffer(e))throw new Error("arg needs to be a buffer");let t=[];for(;e.length>0;){const n=r.decode(e);t.push(n),e=e.slice(r.decode.bytes)}return t}}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"varint-decoder",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/varint-decoder/src/index.js"}],[5112,{"./crypto":5111,buffer:2478,multihashes:5929},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("multihashes"),i=e("./crypto");function s(e,t,n,i){if("function"==typeof n&&(i=n,n=undefined),!i)throw new Error("Missing callback");s.digest(e,t,n,((e,s)=>{if(e)return i(e);i(null,r.encode(s,t,n))}))}t.exports=s,s.Buffer=n,s.multihash=r,s.digest=function(e,t,n,r){if("function"==typeof n&&(r=n,n=undefined),!r)throw new Error("Missing callback");let i,o=r;n&&(o=(e,t)=>{if(e)return r(e);r(null,t.slice(0,n))});try{i=s.createHash(t)}catch(e){return o(e)}i(e,o)},s.createHash=function(e){if(e=r.coerceCode(e),!s.functions[e])throw new Error("multihash function "+e+" not yet supported");return s.functions[e]},s.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(s.functions)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-bitswap/node_modules/multihashing-async/src/index.js"}],[5125,{assert:2088,cids:2520},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("assert"),i=e("cids");class s{constructor(e,t){r(i.isCID(e),"must be valid CID"),this._refCounter=1,this.cid=e,this.priority=t||1}inc(){this._refCounter+=1}dec(){this._refCounter=Math.max(0,this._refCounter-1)}hasRefs(){return this._refCounter>0}get[Symbol.toStringTag](){return`WantlistEntry <key: ${this.cid.toBaseEncodedString()}, priority: ${this.priority}, refs: ${this._refCounter}>`}equals(e){return this._refCounter===e._refCounter&&this.cid.equals(e.cid)&&this.priority===e.priority}}t.exports=s}}},{package:"ipfs-bitswap",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-bitswap/src/types/wantlist/entry.js"}],[5108,{},function(){with(this)return function(){"use strict";return function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,s=Math.ceil,o=Math.floor,a="[BigNumber Error] ",u=a+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,h=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,p=1e9;function m(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,n,r=1,i=e.length,s=e[0]+"";r<i;){for(t=e[r++]+"",n=l-t.length;n--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function y(e,t){var n,r,i=e.c,s=t.c,o=e.s,a=t.s,u=e.e,c=t.e;if(!o||!a)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=u==c,!i||!s)return r?0:!i^n?1:-1;if(!r)return u>c^n?1:-1;for(a=(u=i.length)<(c=s.length)?u:c,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return u==c?0:u>c^n?1:-1}function b(e,t,n,r){if(e<t||e>n||e!==o(e))throw Error(a+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function _(e){var t=e.c.length-1;return m(e.e/l)==t&&e.c[t]%2!=0}function v(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,E,k,C,S,x,I,A,T,N,R=z.prototype={constructor:z,toString:null,valueOf:null},P=new z(1),j=20,M=4,L=-7,O=21,U=-1e7,D=1e7,B=!1,F=1,V=0,q={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},K="0123456789abcdefghijklmnopqrstuvwxyz";function z(e,t){var n,i,s,a,c,d,f,p,m=this;if(!(m instanceof z))return new z(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>D?m.c=m.e=null:e.e<U?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(a=0,c=e;c>=10;c/=10,a++);return void(a>D?m.c=m.e=null:(m.e=a,m.c=[e]))}p=String(e)}else{if(!r.test(p=String(e)))return k(m,p,d);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(a=p.indexOf("."))>-1&&(p=p.replace(".","")),(c=p.search(/e/i))>0?(a<0&&(a=c),a+=+p.slice(c+1),p=p.substring(0,c)):a<0&&(a=p.length)}else{if(b(t,2,K.length,"Base"),10==t)return $(m=new z(e),j+m.e+1,M);if(p=String(e),d="number"==typeof e){if(0*e!=0)return k(m,p,d,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,z.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=K.slice(0,t),a=c=0,f=p.length;c<f;c++)if(n.indexOf(i=p.charAt(c))<0){if("."==i){if(c>a){a=f;continue}}else if(!s&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){s=!0,c=-1,a=0;continue}return k(m,String(e),d,t)}d=!1,(a=(p=E(p,t,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):a=p.length}for(c=0;48===p.charCodeAt(c);c++);for(f=p.length;48===p.charCodeAt(--f););if(p=p.slice(c,++f)){if(f-=c,d&&z.DEBUG&&f>15&&(e>h||e!==o(e)))throw Error(u+m.s*e);if((a=a-c-1)>D)m.c=m.e=null;else if(a<U)m.c=[m.e=0];else{if(m.e=a,m.c=[],c=(a+1)%l,a<0&&(c+=l),c<f){for(c&&m.c.push(+p.slice(0,c)),f-=l;c<f;)m.c.push(+p.slice(c,c+=l));c=l-(p=p.slice(c)).length}else c-=f;for(;c--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function G(e,t,n,r){var i,s,o,a,u;if(null==n?n=M:b(n,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)u=g(e.c),u=1==r||2==r&&(o<=L||o>=O)?v(u,o):w(u,o,"0");else if(s=(e=$(new z(e),t,n)).e,a=(u=g(e.c)).length,1==r||2==r&&(t<=s||s<=L)){for(;a<t;u+="0",a++);u=v(u,s)}else if(t-=o,u=w(u,s,"0"),s+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=s-a)>0)for(s+1==a&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function W(e,t){for(var n,r=1,i=new z(e[0]);r<e.length;r++){if(!(n=new z(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function H(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*l-1)>D?e.c=e.e=null:n<U?e.c=[e.e=0]:(e.e=n,e.c=t),e}function $(e,t,n,r){var i,a,u,h,f,p,m,g=e.c,y=d;if(g){e:{for(i=1,h=g[0];h>=10;h/=10,i++);if((a=t-i)<0)a+=l,u=t,m=(f=g[p=0])/y[i-u-1]%10|0;else if((p=s((a+1)/l))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));f=m=0,i=1,u=(a%=l)-l+1}else{for(f=h=g[p],i=1;h>=10;h/=10,i++);m=(u=(a%=l)-l+i)<0?0:f/y[i-u-1]%10|0}if(r=r||t<0||null!=g[p+1]||(u<0?f:f%y[i-u-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):m>5||5==m&&(4==n||r||6==n&&(a>0?u>0?f/y[i-u]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=y[(l-t%l)%l],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=p,h=1,p--):(g.length=p+1,h=y[l-a],g[p]=u>0?o(f/y[i-u]%y[u])*h:0),r)for(;;){if(0==p){for(a=1,u=g[0];u>=10;u/=10,a++);for(u=g[0]+=h,h=1;u>=10;u/=10,h++);a!=h&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[p]+=h,g[p]!=c)break;g[p--]=0,h=1}for(a=g.length;0===g[--a];g.pop());}e.e>D?e.c=e.e=null:e.e<U&&(e.c=[e.e=0])}return e}function Y(e){var t,n=e.e;return null===n?e.toString():(t=g(e.c),t=n<=L||n>=O?v(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return z.clone=e,z.ROUND_UP=0,z.ROUND_DOWN=1,z.ROUND_CEIL=2,z.ROUND_FLOOR=3,z.ROUND_HALF_UP=4,z.ROUND_HALF_DOWN=5,z.ROUND_HALF_EVEN=6,z.ROUND_HALF_CEIL=7,z.ROUND_HALF_FLOOR=8,z.EUCLID=9,z.config=z.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(b(n=e[t],0,p,t),j=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(b(n=e[t],0,8,t),M=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(b(n[0],-p,0,t),b(n[1],0,p,t),L=n[0],O=n[1]):(b(n,-p,p,t),L=-(O=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)b(n[0],-p,-1,t),b(n[1],1,p,t),U=n[0],D=n[1];else{if(b(n,-p,p,t),!n)throw Error(a+t+" cannot be zero: "+n);U=-(D=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(a+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw B=!n,Error(a+"crypto unavailable");B=n}else B=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(b(n=e[t],0,9,t),F=n),e.hasOwnProperty(t="POW_PRECISION")&&(b(n=e[t],0,p,t),V=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(a+t+" not an object: "+n);q=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(a+t+" invalid: "+n);K=n}}return{DECIMAL_PLACES:j,ROUNDING_MODE:M,EXPONENTIAL_AT:[L,O],RANGE:[U,D],CRYPTO:B,MODULO_MODE:F,POW_PRECISION:V,FORMAT:q,ALPHABET:K}},z.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!z.DEBUG)return!0;var t,n,r=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===s||-1===s)&&i>=-p&&i<=p&&i===o(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%l)<1&&(t+=l),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=c||n!==o(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+e)},z.maximum=z.max=function(){return W(arguments,R.lt)},z.minimum=z.min=function(){return W(arguments,R.gt)},z.random=(C=9007199254740992,S=Math.random()*C&2097151?function(){return o(Math.random()*C)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,u,c=0,h=[],f=new z(P);if(null==e?e=j:b(e,0,p),i=s(e/l),B)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));c<i;)(u=131072*t[c]+(t[c+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[c]=n[0],t[c+1]=n[1]):(h.push(u%1e14),c+=2);c=i/2}else{if(!crypto.randomBytes)throw B=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(i*=7);c<i;)(u=281474976710656*(31&t[c])+1099511627776*t[c+1]+4294967296*t[c+2]+16777216*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])>=9e15?crypto.randomBytes(7).copy(t,c):(h.push(u%1e14),c+=7);c=i/7}if(!B)for(;c<i;)(u=S())<9e15&&(h[c++]=u%1e14);for(i=h[--c],e%=l,i&&e&&(u=d[l-e],h[c]=o(i/u)*u);0===h[c];h.pop(),c--);if(c<0)h=[r=0];else{for(r=-1;0===h[0];h.splice(0,1),r-=l);for(c=1,u=h[0];u>=10;u/=10,c++);c<l&&(r-=l-c)}return f.e=r,f.c=h,f}),z.sum=function(){for(var e=1,t=arguments,n=new z(t[0]);e<t.length;)n=n.plus(t[e++]);return n},E=function(){var e="0123456789";function t(e,t,n,r){for(var i,s,o=[0],a=0,u=e.length;a<u;){for(s=o.length;s--;o[s]*=t);for(o[0]+=r.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}return function(r,i,s,o,a){var u,c,l,h,d,f,p,m,y=r.indexOf("."),b=j,_=M;for(y>=0&&(h=V,V=0,r=r.replace(".",""),f=(m=new z(i)).pow(r.length-y),V=h,m.c=t(w(g(f.c),f.e,"0"),10,s,e),m.e=m.c.length),l=h=(p=t(r,i,s,a?(u=K,e):(u=e,K))).length;0==p[--h];p.pop());if(!p[0])return u.charAt(0);if(y<0?--l:(f.c=p,f.e=l,f.s=o,p=(f=n(f,m,b,_,s)).c,d=f.r,l=f.e),y=p[c=l+b+1],h=s/2,d=d||c<0||null!=p[c+1],d=_<4?(null!=y||d)&&(0==_||_==(f.s<0?3:2)):y>h||y==h&&(4==_||d||6==_&&1&p[c-1]||_==(f.s<0?8:7)),c<1||!p[0])r=d?w(u.charAt(1),-b,u.charAt(0)):u.charAt(0);else{if(p.length=c,d)for(--s;++p[--c]>s;)p[c]=0,c||(++l,p=[1].concat(p));for(h=p.length;!p[--h];);for(y=0,r="";y<=h;r+=u.charAt(p[y++]));r=w(r,l,u.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,s,o,a=0,u=e.length,c=t%f,l=t/f|0;for(e=e.slice();u--;)a=((i=c*(s=e[u]%f)+(r=l*s+(o=e[u]/f|0)*c)%f*f+a)/n|0)+(r/f|0)+l*o,e[u]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,a,u){var h,d,f,p,g,y,b,_,v,w,E,k,C,S,x,I,A,T=r.s==i.s?1:-1,N=r.c,R=i.c;if(!(N&&N[0]&&R&&R[0]))return new z(r.s&&i.s&&(N?!R||N[0]!=R[0]:R)?N&&0==N[0]||!R?0*T:T/0:NaN);for(v=(_=new z(T)).c=[],T=s+(d=r.e-i.e)+1,u||(u=c,d=m(r.e/l)-m(i.e/l),T=T/l|0),f=0;R[f]==(N[f]||0);f++);if(R[f]>(N[f]||0)&&d--,T<0)v.push(1),p=!0;else{for(S=N.length,I=R.length,f=0,T+=2,(g=o(u/(R[0]+1)))>1&&(R=e(R,g,u),N=e(N,g,u),I=R.length,S=N.length),C=I,E=(w=N.slice(0,I)).length;E<I;w[E++]=0);A=R.slice(),A=[0].concat(A),x=R[0],R[1]>=u/2&&x++;do{if(g=0,(h=t(R,w,I,E))<0){if(k=w[0],I!=E&&(k=k*u+(w[1]||0)),(g=o(k/x))>1)for(g>=u&&(g=u-1),b=(y=e(R,g,u)).length,E=w.length;1==t(y,w,b,E);)g--,n(y,I<b?A:R,b,u),b=y.length,h=1;else 0==g&&(h=g=1),b=(y=R.slice()).length;if(b<E&&(y=[0].concat(y)),n(w,y,E,u),E=w.length,-1==h)for(;t(R,w,I,E)<1;)g++,n(w,I<E?A:R,E,u),E=w.length}else 0===h&&(g++,w=[0]);v[f++]=g,w[0]?w[E++]=N[C]||0:(w=[N[C]],E=1)}while((C++<S||null!=w[0])&&T--);p=null!=w[0],v[0]||v.splice(0,1)}if(u==c){for(f=1,T=v[0];T>=10;T/=10,f++);$(_,s+(_.e=f+d*l-1)+1,a,p)}else _.e=d,_.r=+p;return _}}(),x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,I=/^([^.]+)\.$/,A=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,N=/^\s*\+(?=[\w.])|^\s+|\s+$/g,k=function(e,t,n,r){var i,s=n?t:t.replace(N,"");if(T.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(x,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,s=s.replace(I,"$1").replace(A,"0.$1")),t!=s))return new z(s,i);if(z.DEBUG)throw Error(a+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},R.absoluteValue=R.abs=function(){var e=new z(this);return e.s<0&&(e.s=1),e},R.comparedTo=function(e,t){return y(this,new z(e,t))},R.decimalPlaces=R.dp=function(e,t){var n,r,i,s=this;if(null!=e)return b(e,0,p),null==t?t=M:b(t,0,8),$(new z(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=((i=n.length-1)-m(this.e/l))*l,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},R.dividedBy=R.div=function(e,t){return n(this,new z(e,t),j,M)},R.dividedToIntegerBy=R.idiv=function(e,t){return n(this,new z(e,t),0,1)},R.exponentiatedBy=R.pow=function(e,t){var n,r,i,u,c,h,d,f,p=this;if((e=new z(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+Y(e));if(null!=t&&(t=new z(t)),c=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return f=new z(Math.pow(+Y(p),c?2-_(e):+Y(e))),t?f.mod(t):f;if(h=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new z(NaN);(r=!h&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||c&&p.c[1]>=24e7:p.c[0]<8e13||c&&p.c[0]<=9999975e7)))return u=p.s<0&&_(e)?-0:0,p.e>-1&&(u=1/u),new z(h?1/u:u);V&&(u=s(V/l+2))}for(c?(n=new z(.5),h&&(e.s=1),d=_(e)):d=(i=Math.abs(+Y(e)))%2,f=new z(P);;){if(d){if(!(f=f.times(p)).c)break;u?f.c.length>u&&(f.c.length=u):r&&(f=f.mod(t))}if(i){if(0===(i=o(i/2)))break;d=i%2}else if($(e=e.times(n),e.e+1,1),e.e>14)d=_(e);else{if(0===(i=+Y(e)))break;d=i%2}p=p.times(p),u?p.c&&p.c.length>u&&(p.c.length=u):r&&(p=p.mod(t))}return r?f:(h&&(f=P.div(f)),t?f.mod(t):u?$(f,V,M,undefined):f)},R.integerValue=function(e){var t=new z(this);return null==e?e=M:b(e,0,8),$(t,t.e+1,e)},R.isEqualTo=R.eq=function(e,t){return 0===y(this,new z(e,t))},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(e,t){return y(this,new z(e,t))>0},R.isGreaterThanOrEqualTo=R.gte=function(e,t){return 1===(t=y(this,new z(e,t)))||0===t},R.isInteger=function(){return!!this.c&&m(this.e/l)>this.c.length-2},R.isLessThan=R.lt=function(e,t){return y(this,new z(e,t))<0},R.isLessThanOrEqualTo=R.lte=function(e,t){return-1===(t=y(this,new z(e,t)))||0===t},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return this.s>0},R.isZero=function(){return!!this.c&&0==this.c[0]},R.minus=function(e,t){var n,r,i,s,o=this,a=o.s;if(t=(e=new z(e,t)).s,!a||!t)return new z(NaN);if(a!=t)return e.s=-t,o.plus(e);var u=o.e/l,h=e.e/l,d=o.c,f=e.c;if(!u||!h){if(!d||!f)return d?(e.s=-t,e):new z(f?o:NaN);if(!d[0]||!f[0])return f[0]?(e.s=-t,e):new z(d[0]?o:3==M?-0:0)}if(u=m(u),h=m(h),d=d.slice(),a=u-h){for((s=a<0)?(a=-a,i=d):(h=u,i=f),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(s=(a=d.length)<(t=f.length))?a:t,a=t=0;t<r;t++)if(d[t]!=f[t]){s=d[t]<f[t];break}if(s&&(i=d,d=f,f=i,e.s=-e.s),(t=(r=f.length)-(n=d.length))>0)for(;t--;d[n++]=0);for(t=c-1;r>a;){if(d[--r]<f[r]){for(n=r;n&&!d[--n];d[n]=t);--d[n],d[r]+=c}d[r]-=f[r]}for(;0==d[0];d.splice(0,1),--h);return d[0]?H(e,d,h):(e.s=3==M?-1:1,e.c=[e.e=0],e)},R.modulo=R.mod=function(e,t){var r,i,s=this;return e=new z(e,t),!s.c||!e.s||e.c&&!e.c[0]?new z(NaN):!e.c||s.c&&!s.c[0]?new z(s):(9==F?(i=e.s,e.s=1,r=n(s,e,0,3),e.s=i,r.s*=i):r=n(s,e,0,F),(e=s.minus(r.times(e))).c[0]||1!=F||(e.s=s.s),e)},R.multipliedBy=R.times=function(e,t){var n,r,i,s,o,a,u,h,d,p,g,y,b,_,v,w=this,E=w.c,k=(e=new z(e,t)).c;if(!(E&&k&&E[0]&&k[0]))return!w.s||!e.s||E&&!E[0]&&!k||k&&!k[0]&&!E?e.c=e.e=e.s=null:(e.s*=w.s,E&&k?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=m(w.e/l)+m(e.e/l),e.s*=w.s,(u=E.length)<(p=k.length)&&(b=E,E=k,k=b,i=u,u=p,p=i),i=u+p,b=[];i--;b.push(0));for(_=c,v=f,i=p;--i>=0;){for(n=0,g=k[i]%v,y=k[i]/v|0,s=i+(o=u);s>i;)n=((h=g*(h=E[--o]%v)+(a=y*h+(d=E[o]/v|0)*g)%v*v+b[s]+n)/_|0)+(a/v|0)+y*d,b[s--]=h%_;b[s]=n}return n?++r:b.splice(0,1),H(e,b,r)},R.negated=function(){var e=new z(this);return e.s=-e.s||null,e},R.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new z(e,t)).s,!i||!t)return new z(NaN);if(i!=t)return e.s=-t,r.minus(e);var s=r.e/l,o=e.e/l,a=r.c,u=e.c;if(!s||!o){if(!a||!u)return new z(i/0);if(!a[0]||!u[0])return u[0]?e:new z(a[0]?r:0*i)}if(s=m(s),o=m(o),a=a.slice(),i=s-o){for(i>0?(o=s,n=u):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=u.length)<0&&(n=u,u=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+u[t]+i)/c|0,a[t]=c===a[t]?0:a[t]%c;return i&&(a=[i].concat(a),++o),H(e,a,o)},R.precision=R.sd=function(e,t){var n,r,i,s=this;if(null!=e&&e!==!!e)return b(e,1,p),null==t?t=M:b(t,0,8),$(new z(s),e,t);if(!(n=s.c))return null;if(r=(i=n.length-1)*l+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},R.shiftedBy=function(e){return b(e,-9007199254740991,h),this.times("1e"+e)},R.squareRoot=R.sqrt=function(){var e,t,r,i,s,o=this,a=o.c,u=o.s,c=o.e,l=j+4,h=new z("0.5");if(1!==u||!a||!a[0])return new z(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+Y(o)))||u==1/0?(((t=g(a)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=m((c+1)/2)-(c<0||c%2),r=new z(t=u==1/0?"1e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new z(u+""),r.c[0])for((u=(c=r.e)+l)<3&&(u=0);;)if(s=r,r=h.times(s.plus(n(o,s,l,1))),g(s.c).slice(0,u)===(t=g(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||($(r,r.e+j+2,1),e=!r.times(r).eq(o));break}if(!i&&($(s,s.e+j+2,0),s.times(s).eq(o))){r=s;break}l+=4,u+=4,i=1}return $(r,r.e+j+1,M,e)},R.toExponential=function(e,t){return null!=e&&(b(e,0,p),e++),G(this,e,t,1)},R.toFixed=function(e,t){return null!=e&&(b(e,0,p),e=e+this.e+1),G(this,e,t)},R.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=q;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var s,o=r.split("."),u=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",h=o[0],d=o[1],f=i.s<0,p=f?h.slice(1):h,m=p.length;if(c&&(s=u,u=c,c=s,m-=s),u>0&&m>0){for(s=m%u||u,h=p.substr(0,s);s<m;s+=u)h+=l+p.substr(s,u);c>0&&(h+=l+p.slice(s)),f&&(h="-"+h)}r=d?h+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):h}return(n.prefix||"")+r+(n.suffix||"")},R.toFraction=function(e){var t,r,i,s,o,u,c,h,f,p,m,y,b=this,_=b.c;if(null!=e&&(!(c=new z(e)).isInteger()&&(c.c||1!==c.s)||c.lt(P)))throw Error(a+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+Y(c));if(!_)return new z(b);for(t=new z(P),f=r=new z(P),i=h=new z(P),y=g(_),o=t.e=y.length-b.e-1,t.c[0]=d[(u=o%l)<0?l+u:u],e=!e||c.comparedTo(t)>0?o>0?t:f:c,u=D,D=1/0,c=new z(y),h.c[0]=0;p=n(c,t,0,1),1!=(s=r.plus(p.times(i))).comparedTo(e);)r=i,i=s,f=h.plus(p.times(s=f)),h=s,t=c.minus(p.times(s=t)),c=s;return s=n(e.minus(r),i,0,1),h=h.plus(s.times(f)),r=r.plus(s.times(i)),h.s=f.s=b.s,m=n(f,i,o*=2,M).minus(b).abs().comparedTo(n(h,r,o,M).minus(b).abs())<1?[f,i]:[h,r],D=u,m},R.toNumber=function(){return+Y(this)},R.toPrecision=function(e,t){return null!=e&&b(e,1,p),G(this,e,t,2)},R.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=L||i>=O?v(g(n.c),i):w(g(n.c),i,"0"):10===e?t=w(g((n=$(new z(n),j+i+1,M)).c),n.e,"0"):(b(e,2,K.length,"Base"),t=E(w(g(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},R.valueOf=R.toJSON=function(){return Y(this)},R._isBigNumber=!0,i&&(R[Symbol.toStringTag]="BigNumber",R[Symbol.for("nodejs.util.inspect.custom")]=R.valueOf),null!=t&&z.set(t),z}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define((function(){return n})):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"bignumber.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-bitswap/node_modules/bignumber.js/bignumber.js"}],[5898,{},function(){with(this)return function(){"use strict";return function(e,t,n){const r=Math.exp;t.exports=function(e){if("number"!=typeof e)throw new Error("must provide a timespan to the moving average constructor");if(e<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let t,n,i=0,s=0,o=0,a={};return a.push=function(a,u){if(n){const c=1-r(-(a-n)/e),l=u-t;t=c*u+(1-c)*t,i=(1-c)*(i+l*(c*l)),s=Math.sqrt(i),o=t+c*l}else t=u;n=a},a.movingAverage=function(){return t},a.variance=function(){return i},a.deviation=function(){return s},a.forecast=function(){return o},a}}}},{package:"moving-average",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/moving-average/index.js"}],[6165,{"safe-buffer":6450,varint:6746},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("safe-buffer").Buffer;t.exports=function(t){t=Object.assign({fixed:!1},t||{});const n=e("varint");let s=t.fixed?null:i(),o=0,a=!1;return e=>(u,c)=>{if(u&&(a=u),a)return c(a);e(null,((e,u)=>{if(e&&(a=e),a)return c(a);if(!a&&!r.isBuffer(u))return a=new Error("data must be a buffer"),c(a);const l=a?0:u.length;let h;if(t.fixed?(h=r.alloc(4),h.writeInt32BE(l,0)):(n.encode(l,s,o),o+=n.encode.bytes,h=s.slice(o-n.encode.bytes,o),s.length-o<100&&(s=i(),o=0)),a)return c(null,h);c(null,r.concat([h,u],(t.fixed?4:n.encode.bytes)+l))}))}};function i(){return r.alloc(10240)}}}},{package:"pull-length-prefixed",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-length-prefixed/src/encode.js"}],[6164,{"pull-pushable":6178,"pull-reader":6179,"safe-buffer":6450,varint:6746},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("varint"),i=e("pull-reader"),s=e("safe-buffer").Buffer,o=e("pull-pushable");n.decode=function(e){let t=new i,n=o((e=>{t.abort(e)}));return r=>(t(r),function r(){let i=!0,s=!1;const o=(e,t)=>{s=!0,e?(n.end(e),i=!1):(n.push(t),i||r())};for(;i;)s=!1,a(t,e,o),s||(i=!1)}(),n)},n.decodeFromReader=function(e,t,n){"function"==typeof t&&(n=t,t={});a(e,t,(function(e,t){if(e)return n(!0===e?new Error("Unexpected end of input from reader."):e);n(null,t)}))};function a(e,t,n){(t=Object.assign({fixed:!1,maxLength:4194304},t||{})).fixed?function(e,t,n){e.read(4,((r,i)=>{if(r)return n(r);const s=i.readInt32BE(0);if(s>t)return n(new Error("size longer than max permitted length of "+t+"!"));u(e,s,n)}))}(e,t.maxLength,n):function(e,t,n){let i=[];0===i.length&&o();function o(){e.read(1,((a,c)=>{if(a)return n(a);if(i.push(c),c&&!(e=>!(128&e))(c[0]))return void o();const l=r.decode(s.concat(i));if(l>t)return n(new Error("size longer than max permitted length of "+t+"!"));u(e,l,((e,t)=>e?n(e):(i=[],t.length<l?n(new Error("Message length does not match prefix specified length.")):void n(null,t))))}))}}(e,t.maxLength,n)}function u(e,t,n){e.read(t,((e,t)=>{if(e)return n(e);n(null,t)}))}}}},{package:"pull-length-prefixed",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-length-prefixed/src/decode.js"}],[5625,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports.toRFC3339=e=>`${e.getUTCFullYear()}-${String(e.getUTCMonth()+1).padStart(2,"0")}-${String(e.getUTCDate()).padStart(2,"0")}T${String(e.getUTCHours()).padStart(2,"0")}:${String(e.getUTCMinutes()).padStart(2,"0")}:${String(e.getUTCSeconds()).padStart(2,"0")}.${1e3*e.getUTCMilliseconds()*1e3}Z`,t.exports.parseRFC3339=e=>{const t=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T"+"(\\d{2}):(\\d{2}):(\\d{2})"+"\\.(\\d+)Z"),n=String(e).trim().match(t);if(!n)throw new Error("Invalid format");const r=parseInt(n[1],10),i=parseInt(n[2],10)-1,s=parseInt(n[3],10),o=parseInt(n[4],10),a=parseInt(n[5],10),u=parseInt(n[6],10),c=parseInt(n[7].slice(0,-6),10);return new Date(Date.UTC(r,i,s,o,a,u,c))}}}},{package:"libp2p-record",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-record/src/utils.js"}],[5621,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports="// Record represents a dht record that contains a value\n// for a key value pair\nmessage Record {\n  // The key that references this record\n  bytes key = 1;\n\n  // The actual value this record is storing\n  bytes value = 2;\n\n  // Note: These fields were removed from the Record message\n  // hash of the authors public key\n  // optional bytes author = 3;\n  // A PKI signature for the key+value+author\n  // optional bytes signature = 4;\n\n  // Time the record was received, set by receiver\n  optional string timeReceived = 5;\n}"}}},{package:"libp2p-record",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-record/src/record.proto.js"}],[5623,{"./public-key":5624},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={pk:e("./public-key")}}}},{package:"libp2p-record",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-record/src/selectors/index.js"}],[2492,{"buffer-indexof":2491},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("buffer-indexof");t.exports=function(e,t,n){for(var i=-1,s=[],o=n?t.length:0;(i=r(e,t))>-1;)s.push(e.slice(0,i+o)),e=e.slice(i+t.length,e.length);return s.push(e),s}}}},{package:"buffer-split",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/buffer-split/index.js"}],[5627,{"./public-key":5628},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={pk:e("./public-key")}}}},{package:"libp2p-record",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-record/src/validators/index.js"}],[6172,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.Types={NEW:0,IN_MESSAGE:1,OUT_MESSAGE:2,IN_CLOSE:3,OUT_CLOSE:4,IN_RESET:5,OUT_RESET:6},n.MAX_MSG_SIZE=1<<20}}},{package:"pull-mplex",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-mplex/src/consts.js"}],[6176,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports.emitError=function(e,t){e.emit("error",t)},t.exports.emitStream=function(e,t,n){e.emit("stream",t,n)}}}},{package:"pull-mplex",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-mplex/src/util/index.js"}],[6168,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){var t=!1,n=0;return function(){if(n=!0,!t){for(t=!0;n;)n=!1,e();t=!1}}}}}},{package:"looper",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-mplex/node_modules/looper/index.js"}],[6171,{buffer:2478,debug:2927,"pull-through":6215,varint:6746},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("varint"),i=e("pull-through"),s=e("debug"),o=s("pull-plex:coder");o.err=s("pull-plex:coder:err");const a=10240,u=t.alloc(0);n.encode=()=>{let e=t.allocUnsafe(a),n=0;return i((function(i){const s=n;r.encode(i[0]<<3|i[1],e,n),n+=r.encode.bytes,r.encode(i[2]?i[2].length:0,e,n),n+=r.encode.bytes,this.queue(e.slice(s,n)),a-n<100&&(e=t.allocUnsafe(a),n=0),this.queue(i[2]?i[2]:u)}))};const c=0,l=1;n.decode=()=>{let e=c;const n=t=>{const[n,i,s]=(e=>{let t=0,n=0;try{let i=r.decode(e);return t+=r.decode.bytes,n=r.decode(e,t),t+=r.decode.bytes,[i,t,n]}catch(e){o.err(e)}return[]})(t);if(void 0!==n){const r={id:n>>3,type:7&n,data:[]};return e=l,[t.slice(i),r,s]}return[t]};let s=0,a=null,u=!1,h=[];return i((function(r){var i=this;!function o(){if(r&&r.length){if(c===e){if(u&&(h.push(r),r=t.concat(h)),[r,a,s]=n(r),!a)return u||h.push(r),void(u=!0);h=[],u=!1}l===e&&([s,r,a.data]=((n,r,i)=>{if(i<=0)return e=c,[0,n,r];let s=i-n.length;s<0&&(s=0);const o=i-s;if(n.length>0){const e=t.isBuffer(n)?n:t.from(n);r.push(e.slice(0,o))}return s<=0&&(e=c),[s,n.slice(o),r]})(r,a.data,s),s<=0&&c===e&&(a.data=t.concat(a.data),i.queue(a),a=null,s=0)),o()}}()}))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"pull-mplex",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-mplex/src/coder.js"}],[6169,{"./consts":6172,"./util":6176,"async/nextTick":2155,debug:2927,events:2479,looper:6168,"pull-pushable":6178},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-pushable"),i=e("looper"),s=e("async/nextTick"),o=e("events"),a=e("debug"),{Types:u}=e("./consts"),{emitError:c}=e("./util"),l=a("pull-plex:chan");l.err=a("pull-plex:chan:err");t.exports=class extends o{constructor(e){var t;super(),e={initiator:!1,...e},this._id=e.id,this._name=e.name,this._plex=e.plex,this._open=e.open,this._initiator=e.initiator,this._endedRemote=!1,this._endedLocal=!1,this._destroy=!1,this.MSG=this._initiator?u.OUT_MESSAGE:u.IN_MESSAGE,this.END=this._initiator?u.OUT_CLOSE:u.IN_CLOSE,this.RESET=this._initiator?u.OUT_RESET:u.IN_RESET,this._log("new channel",this._name),this._msgs=r((e=>{this._log("source closed",e),e&&"boolean"!=typeof e&&s(c,this,e)})),this._source=this._msgs,this.sink=(t=this,function(e){const n=i((function(){e(null,(function(e,r){if(!t._endedLocal){if(t._endedLocal=e||!1,!0===e)return t.endChan();if(e||t._destroy)return t.destroyChan(),t.emit("error",e||t._destroy),void t.destroy();t.sendMsg(r),n()}}))}));n()})}get source(){return this._source}get id(){return this._id}get open(){return this._open}set open(e){this._open=e}get name(){return this._name}get destroyed(){return this._endedRemote&&this._endedLocal}_log(e,t){l.enabled&&l({op:e,name:this._name,id:this._id,endedLocal:this._endedLocal,endedRemote:this._endedRemote,initiator:this._initiator,data:t&&t.toString()||""})}push(e){this._log("push"),this._msgs.push(e)}close(e){this._log("close",e),this._endedRemote||(this._endedRemote=e||!0,this._msgs.end(this._endedRemote),this.emit("close",e),this.plex=null)}destroy(e){this._log("destroy",e),this._destroy=e||"channel destroyed!",this.close(this._destroy)}openChan(e){this.open||(this.open=!0,this._plex.push([this._id,u.NEW,e!==this._id.toString()?e:this._id.toString()]))}sendMsg(e){this._log("sendMsg",e),this.open||this.openChan(this.name),this._plex.push([this._id,this.MSG,e])}endChan(){this._log("endChan"),this.open&&this._plex.push([this._id,this.END])}destroyChan(){this._log("destroyChan"),this.open&&this._plex.push([this._id,this.RESET])}}}}},{package:"pull-mplex",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-mplex/src/channel.js"}],[6215,{looper:5878},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("looper");t.exports=function(e,t){return function(n){var i,s,o=[];function a(e){o.push(e)}e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var u,c={emit:function(e,t){"data"==e&&a(t),"end"==e&&(i=!0,a(null)),"error"==e&&(s=t)},queue:a};return function(a,l){if(i=i||a,a)return n(a,(function(){if(u){var e=u;u=null,e(a)}l(a)}));u=l,r((function r(a){if(u)if(l=u,s)u=null,l(s);else if(o.length){var h=o.shift();u=null,l(null===h,h)}else n(i,(function(o,h){if(o&&!0!==o)return s=o,a();if(i=i||o)t.call(c);else if(null!==h&&(e.call(c,h),s||i))return n(s||i,(function(){u=null,l(s||i)}));a(r)}))}))}}}}}},{package:"pull-through",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-through/index.js"}],[6221,{"./":6219,events:2479,http:6587,https:5072,url:6717,ws:2477},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./"),i=e("ws"),s=(e("url"),e("http")),o=e("https"),a=e("events").EventEmitter;t.exports=i.Server?function(e,t){var n=new a;function u(e,t){return e.on(t,(function(){var e=[].slice.call(arguments);e.unshift(t),n.emit.apply(n,e)}))}"function"==typeof e&&(t=e,e=null),e=e||{},t&&n.on("connection",t);var c=e.server||(e.key&&e.cert?o.createServer(e):s.createServer()),l=new i.Server({server:c,perMessageDeflate:!1,verifyClient:e.verifyClient});return u(c,"listening"),u(c,"request"),u(c,"close"),l.on("connection",(function(e){var t=r(e);t.remoteAddress=e.upgradeReq.socket.remoteAddress,n.emit("connection",t)})),n.listen=function(e,t){return t&&n.once("listening",t),c.listen(e.port||e),n},n.close=function(e){return c.close(e),l.close(),n},n.address=c.address.bind(c),n}:null}}},{package:"pull-ws",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-ws/server.js"}],[6224,{ws:2477},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports="undefined"==typeof WebSocket?e("ws"):WebSocket}}},{package:"pull-ws",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-ws/web-socket.js"}],[6225,{"relative-url":6438},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("relative-url"),i={http:"ws",https:"wss"};t.exports=function(e,t){return r(e,t,i,"ws")}}}},{package:"pull-ws",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-ws/ws-url.js"}],[6218,{"./sink":6222,"./source":6223},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./source"),i=e("./sink");t.exports=function(e,t){var n=e.upgradeReq||{};t&&t.binaryType?e.binaryType=t.binaryType:t&&t.binary&&(e.binaryType="arraybuffer");return{source:r(e,t&&t.onConnect),sink:i(e,t),headers:n.headers,url:n.url,upgrade:n.upgrade,method:n.method}}}}},{package:"pull-ws",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-ws/duplex.js"}],[5095,{"pull-defer/duplex":6158},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-defer/duplex");t.exports=class{constructor(e,t){this.peerInfo=null,this.conn=r(),e?this.setInnerConn(e,t):t&&(this.info=t)}get source(){return this.conn.source}get sink(){return this.conn.sink}getPeerInfo(e){return this.info&&this.info.getPeerInfo?this.info.getPeerInfo(e):this.peerInfo?void e(null,this.peerInfo):e(new Error("Peer Info not set yet"))}setPeerInfo(e){if(this.info&&this.info.setPeerInfo)return this.info.setPeerInfo(e);this.peerInfo=e}getObservedAddrs(e){if(this.info&&this.info.getObservedAddrs)return this.info.getObservedAddrs(e);e(null,[])}setInnerConn(e,t){this.conn.resolve(e),this.info=t||e}}}}},{package:"interface-connection",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/interface-connection/src/connection.js"}],[6163,{"pull-cat":6157,"pull-pair":6177,"pull-pushable":6178,"pull-reader":6179},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("pull-reader"),i=e("pull-pushable"),s=e("pull-cat"),o=e("pull-pair");t.exports=function(e,t){"function"==typeof e&&(t=e,e={}),t=function(e){var t=0;return function(n,r,i){t++||e(n,r,i)}}(t||function(){});var n=r(e&&e.timeout||5e3),a=i((function(e){e&&t(e)})),u=o();return{handshake:{read:n.read,abort:function(e){a.end(e),n.abort(e,(function(e){})),t(e)},write:a.push,rest:function(){return a.end(),{source:n.read(),sink:u.sink}}},sink:n,source:s([a,u.source])}}}}},{package:"pull-handshake",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-handshake/index.js"}],[5639,{"../support":5643,"./crypto":5635,"async/waterfall":2167,debug:2927},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=e("async/waterfall"),s=e("../support"),o=e("./crypto"),a=r("libp2p:secio");a.error=r("libp2p:secio:error"),t.exports=function(e,t){a("1. propose - start"),a("1. propose - writing proposal"),s.write(e,o.createProposal(e)),i([t=>s.read(e.shake,t),(t,n)=>{a("1. propose - reading proposal",t),o.identify(e,t,n)},t=>o.selectProtocols(e,t)],(e=>{if(e)return t(e);a("1. propose - finish"),t()}))}}}},{package:"libp2p-secio",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-secio/src/handshake/propose.js"}],[5637,{"../etm":5634,"./crypto":5635,debug:2927,"pull-handshake":6163,"pull-stream/pull":6185,"pull-stream/sources/error":6196},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream/pull"),i=e("pull-stream/sources/error"),s=e("pull-handshake"),o=e("debug"),a=o("libp2p:secio");a.error=o("libp2p:secio:error");const u=e("../etm"),c=e("./crypto");t.exports=function(e,t){a("3. finish - start");const n=e.protocols,o=e.shake.rest(),l=s({timeout:e.timeout},(e=>{if(e)throw e}));r(o,u.createUnboxStream(n.remote.cipher,n.remote.mac),l,u.createBoxStream(n.local.cipher,n.local.mac),o),l.handshake.write(e.proposal.in.rand),l.handshake.read(e.proposal.in.rand.length,((n,r)=>{const s=n=>{a.error(n),e.secure.resolve({source:i(n),sink(e){}}),t(n)};if(n)return s(n);try{c.verifyNonce(e,r)}catch(n){return s(n)}a("3. finish - finish"),e.secure.resolve(l.handshake.rest()),t()}))}}}},{package:"libp2p-secio",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-secio/src/handshake/finish.js"}],[5636,{"../support":5643,"./crypto":5635,"async/waterfall":2167,debug:2927},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=e("async/waterfall"),s=e("../support"),o=e("./crypto"),a=r("libp2p:secio");a.error=r("libp2p:secio:error"),t.exports=function(e,t){a("2. exchange - start"),a("2. exchange - writing exchange"),i([t=>o.createExchange(e,t),(t,n)=>{s.write(e,t),s.read(e.shake,n)},(t,n)=>{a("2. exchange - reading exchange"),o.verify(e,t,n)},t=>o.generateKeys(e,t)],(e=>{if(e)return t(e);a("2. exchange - finish"),t()}))}}}},{package:"libp2p-secio",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-secio/src/handshake/exchange.js"}],[5573,{"./peer-list":5578},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./peer-list");t.exports=class extends r{constructor(e){super(),this.limit=e}push(e){return this.length<this.limit&&super.push(e)}}}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-kad-dht/src/limited-peer-list.js"}],[5574,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports='// can\'t use, because protocol-buffers doesn\'t support imports\n// so we have to duplicate for now :(\n// import "record.proto";\n\nmessage Record {\n  // adjusted for javascript\n  optional bytes key = 1;\n  optional bytes value = 2;\n  optional bytes author = 3;\n  optional bytes signature = 4;\n  optional string timeReceived = 5;\n}\n\nmessage Message {\n  enum MessageType {\n    PUT_VALUE = 0;\n    GET_VALUE = 1;\n    ADD_PROVIDER = 2;\n    GET_PROVIDERS = 3;\n    FIND_NODE = 4;\n    PING = 5;\n  }\n\n  enum ConnectionType {\n    // sender does not have a connection to peer, and no extra information (default)\n    NOT_CONNECTED = 0;\n\n    // sender has a live connection to peer\n    CONNECTED = 1;\n\n    // sender recently connected to peer\n    CAN_CONNECT = 2;\n\n    // sender recently tried to connect to peer repeatedly but failed to connect\n    // ("try" here is loose, but this should signal "made strong effort, failed")\n    CANNOT_CONNECT = 3;\n  }\n\n  message Peer {\n    // ID of a given peer.\n    optional bytes id = 1;\n\n    // multiaddrs for a given peer\n    repeated bytes addrs = 2;\n\n    // used to signal the sender\'s connection capabilities to the peer\n    optional ConnectionType connection = 3;\n  }\n\n  // defines what type of message it is.\n  optional MessageType type = 1;\n\n  // defines what coral cluster level this query/response belongs to.\n  // in case we want to implement coral\'s cluster rings in the future.\n  optional int32 clusterLevelRaw = 10;\n\n  // Used to specify the key associated with this message.\n  // PUT_VALUE, GET_VALUE, ADD_PROVIDER, GET_PROVIDERS\n  // adjusted for javascript\n  optional bytes key = 2;\n\n  // Used to return a value\n  // PUT_VALUE, GET_VALUE\n  // adjusted Record to bytes for js\n  optional bytes record = 3;\n\n  // Used to return peers closer to a key in a query\n  // GET_VALUE, GET_PROVIDERS, FIND_NODE\n  repeated Peer closerPeers = 8;\n\n  // Used to return Providers\n  // GET_VALUE, ADD_PROVIDER, GET_PROVIDERS\n  repeated Peer providerPeers = 9;\n}'}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-kad-dht/src/message/dht.proto.js"}],[5446,{events:2479,randombytes:6261},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("randombytes"),{EventEmitter:i}=e("events");function s(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;++n)if(e[n]!==t[n])return!1;return!0}function o(e,t){if(!(t instanceof Uint8Array))throw new TypeError(e+" is not a Uint8Array")}class a extends i{constructor(e={}){super(),this.localNodeId=e.localNodeId||r(20),this.numberOfNodesPerKBucket=e.numberOfNodesPerKBucket||20,this.numberOfNodesToPing=e.numberOfNodesToPing||3,this.distance=e.distance||a.distance,this.arbiter=e.arbiter||a.arbiter,this.metadata=Object.assign({},e.metadata),o("option.localNodeId as parameter 1",this.localNodeId),this.root={contacts:[],dontSplit:!1,left:null,right:null}}static arbiter(e,t){return e.vectorClock>t.vectorClock?e:t}static distance(e,t){let n=0,r=0;const i=Math.min(e.length,t.length),s=Math.max(e.length,t.length);for(;r<i;++r)n=256*n+(e[r]^t[r]);for(;r<s;++r)n=256*n+255;return n}add(e){o("contact.id",(e||{}).id);let t=0,n=this.root;for(;null===n.contacts;)n=this._determineNode(n,e.id,t++);const r=this._indexOf(n,e.id);return r>=0?(this._update(n,r,e),this):n.contacts.length<this.numberOfNodesPerKBucket?(n.contacts.push(e),this.emit("added",e),this):n.dontSplit?(this.emit("ping",n.contacts.slice(0,this.numberOfNodesToPing),e),this):(this._split(n,t),this.add(e))}closest(e,t=Infinity){if(o("id",e),!Number.isInteger(t)&&t!==Infinity||t<=0)throw new TypeError("n is not positive number");let n=[];for(let r=[this.root],i=0;r.length>0&&n.length<t;){const t=r.pop();if(null===t.contacts){const n=this._determineNode(t,e,i++);r.push(t.left===n?t.right:t.left),r.push(n)}else n=n.concat(t.contacts)}return n.map((t=>[this.distance(t.id,e),t])).sort(((e,t)=>e[0]-t[0])).slice(0,t).map((e=>e[1]))}count(){let e=0;for(const t=[this.root];t.length>0;){const n=t.pop();null===n.contacts?t.push(n.right,n.left):e+=n.contacts.length}return e}_determineNode(e,t,n){const r=n>>3,i=n%8;if(t.length<=r&&0!==i)return e.left;return t[r]&1<<7-i?e.right:e.left}get(e){o("id",e);let t=0,n=this.root;for(;null===n.contacts;)n=this._determineNode(n,e,t++);const r=this._indexOf(n,e);return r>=0?n.contacts[r]:null}_indexOf(e,t){for(let n=0;n<e.contacts.length;++n)if(s(e.contacts[n].id,t))return n;return-1}remove(e){o("the id as parameter 1",e);let t=0,n=this.root;for(;null===n.contacts;)n=this._determineNode(n,e,t++);const r=this._indexOf(n,e);if(r>=0){const e=n.contacts.splice(r,1)[0];this.emit("removed",e)}return this}_split(e,t){e.left={contacts:[],dontSplit:!1,left:null,right:null},e.right={contacts:[],dontSplit:!1,left:null,right:null};for(const n of e.contacts)this._determineNode(e,n.id,t).contacts.push(n);e.contacts=null;const n=this._determineNode(e,this.localNodeId,t);(e.left===n?e.right:e.left).dontSplit=!0}toArray(){let e=[];for(const t=[this.root];t.length>0;){const n=t.pop();null===n.contacts?t.push(n.right,n.left):e=e.concat(n.contacts)}return e}_update(e,t,n){if(!s(e.contacts[t].id,n.id))throw new Error("wrong index for _update");const r=e.contacts[t],i=this.arbiter(r,n);i===r&&r!==n||(e.contacts.splice(t,1),e.contacts.push(i),this.emit("updated",r,i))}}t.exports=a}}},{package:"k-bucket",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/k-bucket/index.js"}],[5569,{"./crypto":5568,buffer:2478,multihashes:5929},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("multihashes"),i=e("./crypto");function s(e,t,n,i){if("function"==typeof n&&(i=n,n=undefined),!i)throw new Error("Missing callback");s.digest(e,t,n,((e,s)=>{if(e)return i(e);i(null,r.encode(s,t,n))}))}t.exports=s,s.Buffer=n,s.multihash=r,s.digest=function(e,t,n,r){if("function"==typeof n&&(r=n,n=undefined),!r)throw new Error("Missing callback");let i,o=r;n&&(o=(e,t)=>{if(e)return r(e);r(null,t.slice(0,n))});try{i=s.createHash(t)}catch(e){return o(e)}i(e,o)},s.createHash=function(e){if(e=r.coerceCode(e),!s.functions[e])throw new Error("multihash function "+e+" not yet supported");return s.functions[e]},s.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(s.functions)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-kad-dht/node_modules/multihashing-async/src/index.js"}],[6067,{"p-map":6062},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("p-map"),i=async(e,t,n)=>r(new Array(e).fill(),((e,n)=>t(n)),n);t.exports=i,t.exports.default=i}}},{package:"p-times",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/p-times/index.js"}],[5064,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function i(i,s){n[i]=s,++t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(e){return n[e]!==undefined||r[e]!==undefined},remove:function(e){n[e]!==undefined&&(n[e]=undefined),r[e]!==undefined&&(r[e]=undefined)},get:function(e){var t=n[e];return t!==undefined?t:(t=r[e])!==undefined?(i(e,t),t):void 0},set:function(e,t){n[e]!==undefined?n[e]=t:i(e,t)},clear:function(){n=Object.create(null),r=Object.create(null)}}}}}},{package:"hashlru",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/hashlru/index.js"}],[6063,{eventemitter3:3256},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("eventemitter3");class i{constructor(){this._queue=[]}enqueue(e,t){const n={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(n);const r=function(e,t,n){let r=0,i=e.length;for(;i>0;){const s=i/2|0;let o=r+s;n(e[o],t)<=0?(r=++o,i-=s+1):i=s}return r}(this._queue,n,((e,t)=>t.priority-e.priority));this._queue.splice(r,0,n)}dequeue(){return this._queue.shift().run}get size(){return this._queue.length}}t.exports=class extends r{constructor(e){if(super(),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:!0,queueClass:i,...e}).concurrency&&e.concurrency>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e.concurrency}\` (${typeof e.concurrency})`);if(!("number"==typeof e.intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${e.intervalCap}\` (${typeof e.intervalCap})`);if(!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${e.interval}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===Infinity||0===e.interval,this._intervalCount=0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._intervalId=null,this._intervalEnd=0,this._timeoutId=null,this.queue=new e.queueClass,this._queueClass=e.queueClass,this._pendingCount=0,this._concurrency=e.concurrency,this._isPaused=!1===e.autoStart,this._resolveEmpty=()=>{},this._resolveIdle=()=>{}}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother()}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=()=>{},0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=()=>{})}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=null}_intervalPaused(){const e=Date.now();if(null===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return null===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this.queue.size)return clearInterval(this._intervalId),this._intervalId=null,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._intervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.emit("active"),this.queue.dequeue()(),e&&this._initializeIntervalIfNeeded(),!0}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||null!==this._intervalId||(this._intervalId=setInterval((()=>this._onInterval()),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){for(0===this._intervalCount&&0===this._pendingCount&&(clearInterval(this._intervalId),this._intervalId=null),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;this._tryToStartAnother(););}async add(e,t){return new Promise(((n,r)=>{this.queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{n(await e())}catch(e){r(e)}this._next()}),t),this._tryToStartAnother()}))}async addAll(e,t){return Promise.all(e.map((e=>this.add(e,t))))}start(){if(this._isPaused)for(this._isPaused=!1;this._tryToStartAnother(););}pause(){this._isPaused=!0}clear(){this.queue=new this._queueClass}async onEmpty(){if(0!==this.queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this.queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this.queue.size}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}}}}},{package:"p-queue",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/p-queue/index.js"}],[6885,{buffer:2478},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){function n(t,n){if(t.length!==n.length)throw new Error("Inputs should have the same length");for(var r=e.allocUnsafe(t.length),i=0;i<t.length;i++)r[i]=t[i]^n[i];return r}t.exports=n,n.compare=function(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");for(var n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0},n.gt=function(e,t){return 1===n.compare(e,t)},n.lt=function(e,t){return-1===n.compare(e,t)},n.eq=function(e,t){return 0===n.compare(e,t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"xor-distance",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/xor-distance/index.js"}],[5585,{"../peer-distance-list":5577,"../utils":5597,"./path":5584,"./workerQueue":5586,events:2479,"promisify-es6":6131},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../peer-distance-list"),i=e("events"),s=e("promisify-es6"),o=e("./path"),a=e("./workerQueue"),u=e("../utils");t.exports=class extends i{constructor(e){super(),this.query=e,this.running=!1,this.workers=[],this.peersSeen=new Set,this.errors=[],this.peersQueried=null}stop(){if(this.running){this.running=!1;for(const e of this.workers)e.stop()}}async execute(e){const t=[],n=Math.min(this.query.dht.disjointPaths,e.length);for(let e=0;e<n;e++)t.push(new o(this,this.query.makePath(e,n)));e.forEach(((e,r)=>{t[r%n].addInitialPeer(e)})),await this.executePaths(t);const r={finalSet:new Set(this.peersQueried.peers),paths:[]};for(const e of t)e.res&&(e.res.pathComplete||e.res.queryComplete)&&(e.res.success=!0,r.paths.push(e.res));return r}async executePaths(e){this.running=!0,this.emit("start");try{await Promise.all(e.map((e=>e.execute())))}finally{this.stop(),this.emit("complete")}if(this.errors.length===this.peersSeen.size)throw this.errors[0]}async workerQueue(e){await this.init(),await this.startWorker(e)}async startWorker(e){const t=new a(this.query.dht,this,e,this.query._log);this.workers.push(t),await t.execute()}async init(){this.peersQueried||(this.peersQueriedPromise?await this.peersQueriedPromise:(this.peersQueriedPromise=(async()=>{const e=await s((e=>u.convertBuffer(this.query.key,e)))();this.peersQueried=new r(e,this.query.dht.kBucketSize)})(),await this.peersQueriedPromise,delete this.peersQueriedPromise))}async continueQuerying(e){if(this.peersQueried.length<this.peersQueried.capacity)return!0;const t=e.queue.workersList().map((e=>e.data));return!!await s((e=>this.peersQueried.anyCloser(t,e)))()}}}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-kad-dht/src/query/run.js"}],[5596,{"../constants":5571,"../message":5575,"../utils":5597,"./handlers":5593,"pull-length-prefixed":6166,"pull-stream":6184},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream"),i=e("pull-length-prefixed"),s=e("../message"),o=e("./handlers"),a=e("../utils"),u=e("../constants");t.exports=e=>{const t=a.logger(e.peerInfo.id,"rpc"),n=o(e);return function(o,a){a.getPeerInfo(((o,c)=>{if(o)return t.error("Failed to get peer info"),void t.error(o);t("from: %s",c.id.toB58String()),r(a,i.decode(),r.filter((e=>e.length<u.maxMessageSize)),r.map((e=>{let n;try{n=s.deserialize(e)}catch(e){return void t.error("failed to read incoming message",e)}return n})),r.filter(Boolean),r.asyncMap(((r,i)=>function(r,i,s){e._add(r,(e=>{e&&(t.error("Failed to update the kbucket store"),t.error(e));const o=n(i.type);if(!o)return t.error(`no handler found for message type: ${i.type}`),s();o(r,i,s)}))}(c,r,i))),r.filter(Boolean),r.map((e=>{let n;try{n=e.serialize()}catch(e){return void t.error("failed to send message",e)}return n})),r.filter(Boolean),i.encode(),a)}))}}}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-kad-dht/src/rpc/index.js"}],[5674,{buffer:2478,"libp2p-crypto":5544,mafmt:5884,multiaddr:5903,"peer-id":6117},function(){with(this)return function(){"use strict";return function(e,t,n){(function(r){(function(){const i=e("multiaddr"),s=e("peer-id"),o=e("libp2p-crypto"),a=e("mafmt");const u={string:e=>"string"==typeof e,object:e=>"object"==typeof e,multiaddr:e=>{if(u.string(e))try{return i(e),!0}catch(e){return!1}},function:e=>"function"==typeof e};function c(e,t){if(!Array.isArray(t))throw new Error("Data is not an array");e.forEach(((e,n)=>{if(!u[e])throw console.error("Type %s does not exist",e),new Error("Type "+e+" does not exist");if(!u[e](t[n]))throw new Error("Data at index "+n+" is invalid for type "+e)}))}(n=t.exports).cleanUrlSIO=function(e){const t=e.protos(),n=t[0].name,r=t[1].name,i=t[2].name,s=e.stringTuples(),o=s[1][1];if("tcp"!==r||"ws"!==i&&"wss"!==i)throw new Error("invalid multiaddr: "+e.toString());let a=s[0][1];"ip6"===n&&(a="["+a+"]");let u="ws"===i&&80===o||"wss"===i&&443===o?"":o;return("wss"===i?"https":"http")+"://"+a+(u?":"+u:"")},n.validate=c,n.Protocol=function(e){e||(e=()=>{});const t=this;t.requests={},t.addRequest=(e,n,r)=>{t.requests[e]={def:n,handle:r}},t.handleSocket=n=>{n.r={},Object.keys(t.requests).forEach((r=>{const i=t.requests[r];n.on(r,(function(){const t=[...arguments];try{c(i.def,t),t.unshift(n),i.handle.apply(null,t)}catch(i){e(i),e("peer %s has sent invalid data for request %s",n.id||"<server>",r,t)}}))}))}},n.getIdAndValidate=function(e,t,n){s.createFromPubKey(r.from(e,"hex"),((i,s)=>i?n(new Error("Crypto error")):s.toB58String()!==t?n(new Error("Id is not matching")):n(null,o.keys.unmarshalPublicKey(r.from(e,"hex")))))},n.validateMa=e=>a.WebSocketStar.matches(i(e))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-websocket-star",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-websocket-star/src/utils.js"}],[5673,{"./errors":5671,"./utils":5674,"async/series":2160,"async/setImmediate":2161,buffer:2478,debug:2927,events:2479,"interface-connection":5096,"libp2p-crypto":5544,multiaddr:5903,once:6003,"pull-stream/pull":6185,"pull-stream/throughs/through":6210,"socket.io-client":6549,"socket.io-pull-stream":6571,uuid:6724},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("debug")("libp2p:websocket-star:listener"),i=e("multiaddr"),s=e("socket.io-client"),o=e("socket.io-pull-stream"),a=e("uuid"),u=e("async/series"),c=e("events").EventEmitter,l=e("interface-connection").Connection,h=e("once"),d=e("async/setImmediate"),f=e("./utils"),p=f.cleanUrlSIO,m=e("libp2p-crypto"),g=e("pull-stream/pull"),y=e("pull-stream/throughs/through"),b=e("./errors"),_=h((()=>{})),v={transports:["websocket"],"force new connection":!0};t.exports=class extends c{constructor(e){super(),this.id=e.id,this.log=r.bind(r,"listener#offline"),this.canCrypto=Boolean(e.id),this._handler=e.handler||_,this.listeners_list=e.listeners||{},this.flag=e.flag,this.conns=[],this.connected=!1}_up(e){if(e=e?h(e):_,this.io)return e();this.log=r.bind(r,"listener#"+this.server),this.log("dialing to signalling server");const t=this.io=s.connect(this.server,v);o(t,{codec:"buffer"}),t.once("error",e),t.once("connect_error",e),t.once("connect",e);const n=new f.Protocol(this.log);n.addRequest("ws-peer",["multiaddr"],((e,t)=>this.emit("peer",t))),n.addRequest("ss-incomming",["string","multiaddr","function"],this._incommingDial.bind(this)),n.handleSocket(t)}_down(){this.io&&(this.io.disconnect(),this.emit("close"),delete this.io)}_cryptoChallenge(e){if(!this.io)return e(new Error("Not connected"));const t=this.canCrypto?m.keys.marshalPublicKey(this.id.pubKey).toString("hex"):"",r=this.ma.toString();this.io.emit("ss-join",r,t,((t,r,i)=>{if(t)return e(t);if(r){if(!this.canCrypto)return this._down(),e(new Error("Can't sign cryptoChallenge: No id provided"));this.log("performing cryptoChallenge"),this.id.privKey.sign(n.from(r),((t,n)=>{if(t)return e(t);this.signature=n.toString("hex"),this._join(e)}))}else{if(!this.flag)return this._down(),e(new Error('Tried to listen on a server with crypto challenge disabled!\n    This is prohibited by default and can lead to security issues!\n    Please set "allowJoinWithDisabledChallenge" to true in the constructor options (but only if you know what you are doing)!'));this.signature="_",e(null,null,i)}}))}_crypto(e){if(e=e?h(e):_,this.log("joining"),!this.io)return e(new Error("Not connected"));this.signature?this._join(e):this._cryptoChallenge(e)}_join(e){this.io.emit("ss-join",this.ma.toString(),this.signature,e)}_incommingDial(e,t,n,r){this.log("dial#"+t+" incomming from",n);const s=i(n),o=this.io.createSource(t+".dialer"),a=this.io.createSink(t+".listener");r();const u=new l({sink:a,source:o},{getObservedAddrs:e=>e(null,[s])});this.emit("connection",u),this._handler(u)}listen(e,t){if(this.ma=e,this.server=p(e),this.listeners_list[this.server]=this,t=t?h(t):_,this.connected)return this.closing=!1,d((()=>t()));u([e=>this._up(e),e=>this._crypto(((t,n,r)=>e(t,r)))],((e,[n,r])=>{if(e){if(e.description&&"ENOTFOUND"===e.description.code){const t=e.description.hostname;e=Object.assign(new Error(`WebSocket connection failed on ${t}`),{code:b.ERR_WS_STAR_WEBSOCKET_CONNECTION})}return this.log("error",e),e instanceof Error||(e=new Error(e)),this._down(),this.emit("error",e),this.emit("close"),t(e)}this.log("success"),this.connected=!0,this.io.on("reconnect",(()=>{this.signature=null,this._crypto(((e,t,n)=>{if(e)this.log("reconnect error",e),this.emit("error",e);else{this.log("reconnected");for(const e of n||[])this.emit("peer",e)}}))})),this.emit("listening");for(const e of r||[])this.emit("peer",e);t()}))}getAddrs(e){d((()=>e(null,this.ma?[this.ma]:[])))}get activeConnections(){return this.conns=this.conns.filter((e=>e.sink||e.source)),Boolean(this.conns.length)}maybeClose(){!this.activeConnections&&this.closing&&(this.connected=!1,this.closing=!1,this.log("no more connections and listener is offline - closing"),this._down())}close(e){e=e?h(e):_,this.closing=!0,this.maybeClose(),e()}stateWatch(e,t){let n={sink:!0,source:!0};const r=e=>y((e=>e),(t=>{n[e]=!1,n.sink||n.source||this.maybeClose()}));return this.conns.push(n),{sink:g(r("sink"),e),source:g(t,r("source"))}}dial(e,t,n){"function"==typeof t&&(n=t,t={});const s=i(e),o=new l(null),u=a(),c=this.log.bind(r,"dial#"+u);n=n?h(n):_;let d=this.io;if(!d)return n(new Error("Not listening"));const f=d.createSink(u+".dialer");return c("dialing",e.toString()),d.emit("ss-dial",this.ma.toString(),e.toString(),u,(e=>{if(e)return n(e instanceof Error?e:new Error(e));c(e?"error: "+e.toString():"success");const t=d.createSource(u+".listener");o.setInnerConn(this.stateWatch(f,t),{getObservedAddrs:e=>e(null,[s])}),n(null,o)})),o}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-websocket-star",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-websocket-star/src/listener.js"}],[4982,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(){if("undefined"==typeof window)return null;var e={RTCPeerConnection:window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,RTCSessionDescription:window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,RTCIceCandidate:window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}}}},{package:"get-browser-rtc",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/get-browser-rtc/index.js"}],[6545,{"./lib/_stream_duplex.js":6532,"./lib/_stream_passthrough.js":6533,"./lib/_stream_readable.js":6534,"./lib/_stream_transform.js":6535,"./lib/_stream_writable.js":6536,"./lib/internal/streams/end-of-stream.js":6540,"./lib/internal/streams/pipeline.js":6542},function(){with(this)return function(){"use strict";return function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/simple-peer/node_modules/readable-stream/readable-browser.js"}],[6553,{debug:6554,parseuri:6101},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("parseuri"),i=e("debug")("socket.io-client:url");t.exports=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=r(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var s=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port,n.href=n.protocol+"://"+s+(t&&t.port===n.port?"":":"+n.port),n}}}},{package:"socket.io-client",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/socket.io-client/lib/url.js"}],[6552,{"./on":6551,"component-bind":2548,"component-emitter":2549,debug:6554,"has-binary2":5029,parseqs:6100,"socket.io-parser":6558,"to-array":6652},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("socket.io-parser"),i=e("component-emitter"),s=e("to-array"),o=e("./on"),a=e("component-bind"),u=e("debug")("socket.io-client:socket"),c=e("parseqs"),l=e("has-binary2");t.exports=f;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=i.prototype.emit;function f(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(f.prototype),f.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",a(this,"onopen")),o(e,"packet",a(this,"onpacket")),o(e,"close",a(this,"onclose"))]}},f.prototype.open=f.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},f.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},f.prototype.emit=function(e){if(h.hasOwnProperty(e))return d.apply(this,arguments),this;var t=s(arguments),n={type:(this.flags.binary!==undefined?this.flags.binary:l(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},f.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},f.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?c.encode(this.query):this.query;u("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},f.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},f.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},f.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},f.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=s(arguments);u("sending ack %j",i),t.packet({type:l(i)?r.BINARY_ACK:r.ACK,id:e,data:i})}}},f.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},f.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},f.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},f.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},f.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},f.prototype.close=f.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},f.prototype.compress=function(e){return this.flags.compress=e,this},f.prototype.binary=function(e){return this.flags.binary=e,this}}}},{package:"socket.io-client",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/socket.io-client/lib/socket.js"}],[6554,{"./debug":6555,_process:6127},function(){with(this)return function(){"use strict";return function(e,t,n){(function(r){(function(){function i(){var e;try{e=n.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(n=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))})),e.splice(s,0,r)},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}},n.load=i,n.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(i())}).call(this)}).call(this,e("_process"))}}},{package:"debug",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/socket.io-client/node_modules/debug/src/browser.js"}],[6558,{"./binary":6557,"./is-buffer":6559,"component-emitter":2549,debug:6560,isarray:6562},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("debug")("socket.io-parser"),i=e("component-emitter"),s=e("./binary"),o=e("isarray"),a=e("./is-buffer");function u(){}n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=u,n.Decoder=h;var c=n.ERROR+'"encode error"';function l(e){var t=""+e.type;if(n.BINARY_EVENT!==e.type&&n.BINARY_ACK!==e.type||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===i)return c;t+=i}return r("encoded %j as %s",e,t),t}function h(){this.reconstructor=null}function d(e){this.reconPack=e,this.buffers=[]}function f(e){return{type:n.ERROR,data:"parser error: "+e}}u.prototype.encode=function(e,t){(r("encoding packet %j",e),n.BINARY_EVENT===e.type||n.BINARY_ACK===e.type)?function(e,t){function n(e){var n=s.deconstructPacket(e),r=l(n.packet),i=n.buffers;i.unshift(r),t(i)}s.removeBlobs(e,n)}(e,t):t([l(e)])},i(h.prototype),h.prototype.add=function(e){var t;if("string"==typeof e)t=function(e){var t=0,i={type:Number(e.charAt(0))};if(null==n.types[i.type])return f("unknown packet type "+i.type);if(n.BINARY_EVENT===i.type||n.BINARY_ACK===i.type){for(var s=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var a=e.substring(s,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(a)}if("/"===e.charAt(t+1)){for(s=t+1;++t;){if(","===(c=e.charAt(t)))break;if(t===e.length)break}i.nsp=e.substring(s,t)}else i.nsp="/";var u=e.charAt(t+1);if(""!==u&&Number(u)==u){for(s=t+1;++t;){var c;if(null==(c=e.charAt(t))||Number(c)!=c){--t;break}if(t===e.length)break}i.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){var l=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!(!1!==l&&(i.type===n.ERROR||o(l))))return f("invalid payload");i.data=l}return r("decoded %s as %j",e,i),i}(e),n.BINARY_EVENT===t.type||n.BINARY_ACK===t.type?(this.reconstructor=new d(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!a(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}}}},{package:"socket.io-parser",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/socket.io-parser/index.js"}],[6550,{"./on":6551,"./socket":6552,backo2:2331,"component-bind":2548,"component-emitter":2549,debug:6554,"engine.io-client":3014,indexof:5093,"socket.io-parser":6558},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("engine.io-client"),i=e("./socket"),s=e("component-emitter"),o=e("socket.io-parser"),a=e("./on"),u=e("component-bind"),c=e("debug")("socket.io-client:manager"),l=e("indexof"),h=e("backo2"),d=Object.prototype.hasOwnProperty;function f(e,t){if(!(this instanceof f))return new f(e,t);e&&"object"==typeof e&&(t=e,e=undefined),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||Infinity),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||o;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}t.exports=f,f.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},f.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},f.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},s(f.prototype),f.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},f.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},f.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},f.prototype.open=f.prototype.connect=function(e,t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var s=a(n,"open",(function(){i.onopen(),e&&e()})),o=a(n,"error",(function(t){if(c("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var u=this._timeout;c("connect attempt will timeout after %d",u),0===u&&s.destroy();var l=setTimeout((function(){c("connect attempt timed out after %d",u),s.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",u)}),u);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(s),this.subs.push(o),this},f.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(a(e,"data",u(this,"ondata"))),this.subs.push(a(e,"ping",u(this,"onping"))),this.subs.push(a(e,"pong",u(this,"onpong"))),this.subs.push(a(e,"error",u(this,"onerror"))),this.subs.push(a(e,"close",u(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",u(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(e){this.decoder.add(e)},f.prototype.ondecoded=function(e){this.emit("packet",e)},f.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},f.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",s),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&s()}function s(){~l(r.connecting,n)||r.connecting.push(n)}return n},f.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},f.prototype.packet=function(e){c("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},f.prototype.cleanup=function(){c("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},f.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}}}},{package:"socket.io-client",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/socket.io-client/lib/manager.js"}],[2166,{"./eachSeries":2126,"./internal/slice":2149,"./internal/wrapAsync":2151,"lodash/noop":5869},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n,a=null;t=t||r.default,(0,i.default)(e,(function(e,t){(0,s.default)(e)((function(e,r){n=arguments.length>2?(0,o.default)(arguments,1):r,a=e,t(!e)}))}),(function(){t(a,n)}))};var r=a(e("lodash/noop")),i=a(e("./eachSeries")),s=a(e("./internal/wrapAsync")),o=a(e("./internal/slice"));function a(e){return e&&e.__esModule?e:{default:e}}t.exports=n.default}}},{package:"async",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/async/tryEach.js"}],[5603,{"./constants":5602,debug:2927,"pull-handshake":6163,"pull-stream/pull":6185},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream/pull"),i=e("pull-handshake"),s=e("./constants"),o=s.PROTOCOL,a=s.PING_LENGTH,u=e("debug"),c=u("libp2p-ping");c.error=u("libp2p-ping:error"),(n=t.exports).mount=function(e){e.handle(o,((e,t)=>{const n=i({timeout:0}),s=n.handshake;r(t,n,t),function e(){s.read(a,((t,n)=>{if(!0!==t)return t?c.error(t):(s.write(n),e())}))}()}))},n.unmount=function(e){e.unhandle(o)}}}},{package:"libp2p-ping",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-ping/src/handler.js"}],[5605,{"./constants":5602,"./util":5606,debug:2927,events:2479,"pull-handshake":6163,"pull-stream/pull":6185,"pull-stream/sources/empty":6195},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events").EventEmitter,i=e("pull-stream/pull"),s=e("pull-stream/sources/empty"),o=e("pull-handshake"),a=e("./constants"),u=e("./util").rnd,c=e("debug"),l=c("libp2p-ping");l.error=c("libp2p-ping:error");const h=a.PROTOCOL,d=a.PING_LENGTH;t.exports=class extends r{constructor(e,t){super(),this._stopped=!1,this.peer=t,this.swarm=e}start(){l("dialing %s to %s",h,this.peer.id.toB58String()),this.swarm.dial(this.peer,h,((e,t)=>{if(e)return this.emit("error",e);const n=o({timeout:0});this.shake=n.handshake,i(n,t,n);const r=this;!function e(){let t=new Date,n=u(d);r.shake.write(n),r.shake.read(d,((i,s)=>{let o=new Date;if(i||!n.equals(s)){const e=new Error("Received wrong ping ack");return r.emit("error",e)}r.emit("ping",o-t),r._stopped||e()}))}()}))}stop(){!this._stopped&&this.shake&&(this._stopped=!0,i(s(),this.shake.rest()))}}}}},{package:"libp2p-ping",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-ping/src/ping.js"}],[5561,{"./config":5560,assert:2088,"async/map":2152,"async/setImmediate":2161,"libp2p-pubsub":5607,"pull-length-prefixed":6166,"pull-stream":6184},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream"),i=e("pull-length-prefixed"),s=e("assert"),o=e("libp2p-pubsub"),{message:a,utils:u}=e("libp2p-pubsub"),c=e("./config").multicodec,l=u.ensureArray,h=e("async/setImmediate"),d=e("async/map"),f=()=>{};t.exports=class extends o{constructor(e){super("libp2p:floodsub",c,e),this.subscriptions=new Set}_onDial(e,t,n){super._onDial(e,t,(t=>{if(t)return n(t);const r=e.id.toB58String(),i=this.peers.get(r);i&&i.isWritable&&i.sendSubscriptions(this.subscriptions),h((()=>n()))}))}_processConnection(e,t,n){r(t,i.decode(),r.map((e=>a.rpc.RPC.decode(e))),r.drain((t=>this._onRpc(e,t)),(t=>this._onConnectionEnd(e,n,t))))}_onRpc(e,t){if(!t)return;this.log("rpc from",e);const n=t.subscriptions,r=t.msgs;if(r&&r.length&&this._processRpcMessages(u.normalizeInRpcMessages(t.msgs)),n&&n.length){const t=this.peers.get(e);t&&(t.updateSubscriptions(n),this.emit("floodsub:subscription-change",t.info,t.topics,n))}}_processRpcMessages(e){e.forEach((e=>{const t=u.msgId(e.from,e.seqno);this.seenCache.has(t)||(this.seenCache.put(t),this._emitMessages(e.topicIDs,[e]),this._forwardMessages(e.topicIDs,[e]))}))}_emitMessages(e,t){e.forEach((e=>{this.subscriptions.has(e)&&t.forEach((t=>{this.emit(e,t)}))}))}_forwardMessages(e,t){this.peers.forEach((n=>{n.isWritable&&u.anyMatch(n.topics,e)&&(n.sendMessages(u.normalizeOutRpcMessages(t)),this.log("publish msgs on topics",e,n.info.id.toB58String()))}))}stop(e){super.stop((t=>{if(t)return e(t);this.subscriptions=new Set,e()}))}publish(e,t,n){s(this.started,"FloodSub is not started"),n=n||f,this.log("publish",e,t),e=l(e),t=l(t);const r=this.libp2p.peerInfo.id.toB58String();d(t,((t,n)=>{const i=u.randomSeqno();this.seenCache.put(u.msgId(r,i));const s={from:r,data:t,seqno:i,topicIDs:e};this._emitMessages(e,[s]),this._buildMessage(s,n)}),((t,r)=>{if(t)return n(t);this._forwardMessages(e,r),n(null)}))}subscribe(e){function t(n){if(n&&n.isWritable)return n.sendSubscriptions(e);const r=()=>{n.removeListener("connection",r),t(n)};n.on("connection",r),n.once("close",(()=>n.removeListener("connection",r)))}s(this.started,"FloodSub is not started"),(e=l(e)).forEach((e=>this.subscriptions.add(e))),this.peers.forEach((e=>t(e)))}unsubscribe(e){function t(n){n&&n.isWritable?n.sendUnsubscriptions(e):h(t.bind(n))}this.started&&((e=l(e)).forEach((e=>this.subscriptions.delete(e))),this.peers.forEach((e=>t(e))))}}}}},{package:"libp2p-floodsub",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-floodsub/src/index.js"}],[5472,{"./dist/LatencyMonitor":5470},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=e("./dist/LatencyMonitor").default}}},{package:"latency-monitor",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/latency-monitor/index.js"}],[5654,{"err-code":3029},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code");t.exports={CONNECTION_FAILED:e=>r(e,"CONNECTION_FAILED"),DIAL_ABORTED:()=>r("Dial was aborted","DIAL_ABORTED"),ERR_BLACKLISTED:()=>r("Dial is currently blacklisted for this peer","ERR_BLACKLISTED"),DIAL_SELF:()=>r("A node cannot dial itself","DIAL_SELF"),INVALID_STATE_TRANSITION:e=>r(e,"INVALID_STATE_TRANSITION"),NO_TRANSPORTS_REGISTERED:()=>r("No transports registered, dial not possible","NO_TRANSPORTS_REGISTERED"),PROTECTOR_REQUIRED:()=>r("No protector provided with private network enforced","PROTECTOR_REQUIRED"),UNEXPECTED_END:()=>r("Unexpected end of input from reader.","UNEXPECTED_END"),maybeUnexpectedEnd:e=>!0===e?t.exports.UNEXPECTED_END():e}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/errors.js"}],[5655,{multiaddr:5903,"peer-id":6117,"peer-info":6118},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("peer-id"),i=e("peer-info"),s=e("multiaddr");t.exports=function(e,t){let n;if(i.isPeerInfo(e))return t.put(e);if(s.isMultiaddr(e)){const s=e.getPeerId();try{n=t.get(s)}catch(e){n=new i(r.createFromB58String(s))}return n.multiaddrs.add(e),n}if(r.isPeerId(e)){const n=e.toB58String();try{return t.get(n)}catch(e){throw new Error(`Couldnt get PeerInfo for ${n}`)}}throw new Error("peer type not recognized")}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/get-peer-info.js"}],[5661,{"async/setImmediate":2161},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/setImmediate");t.exports={tag:"/plaintext/1.0.0",encrypt:(e,t,n,i)=>("function"==typeof n&&(i=n,n=undefined),r((()=>i())),t)}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/plaintext.js"}],[5660,{events:2479,"pull-stream/throughs/map":6207},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("pull-stream/throughs/map"),i=e("events");t.exports=e=>{const t=Object.assign(new i,{incoming:n("in"),outgoing:n("out")});return e.on("peer-mux-established",(e=>{t.emit("peer:connected",e.id.toB58String())})),e.on("peer-mux-closed",(e=>{t.emit("peer:closed",e.id.toB58String())})),t;function n(e){return(n,i,s)=>r((r=>(function(e,n,r,i,s){e.then((e=>{if(e){const o=e.id.toB58String();t.emit("message",o,n,r,i,s)}}))}(s,n,i,e,r.length),r)))}}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/observer.js"}],[5663,{"./old-peers":5664,"./stat":5665,events:2479},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events"),i=e("./stat"),s=e("./old-peers"),o={computeThrottleMaxQueueSize:1e3,computeThrottleTimeout:2e3,movingAverageIntervals:[6e4,3e5,9e5],maxOldPeersRetention:50},a=["dataReceived","dataSent"],u={in:"dataReceived",out:"dataSent"};t.exports=(e,t)=>{const n=Object.assign({},o,t),c=new i(a,n),l=Object.assign(new r,{start:function(){e.on("message",m),c.start();for(let e of d.values())e.start();for(let e of f.values())e.start()},stop:function(){e.removeListener("message",m),c.stop();for(let e of d.values())e.stop();for(let e of f.values())e.stop()},global:c,peers:()=>Array.from(d.keys()),forPeer:e=>d.get(e)||h.get(e),transports:()=>Array.from(f.keys()),forTransport:e=>f.get(e),protocols:()=>Array.from(p.keys()),forProtocol:e=>p.get(e)});c.on("update",g);const h=s(n.maxOldPeersRetention),d=new Map,f=new Map,p=new Map;return e.on("peer:closed",(e=>{const t=d.get(e);t&&(t.removeListener("update",g),t.stop(),d.delete(e),h.set(e,t))})),l;function m(e,t,r,s,o){const l=u[s];if(t){c.push(l,o);let t=d.get(e);t||(t=h.get(e),t?h.delete(e):t=new i(a,n),t.on("update",g),t.start(),d.set(e,t)),t.push(l,o)}if(t){let e=f.get(t);e||(e=new i(a,n),e.on("update",g),f.set(t,e)),e.push(l,o)}if(r){let e=p.get(r);e||(e=new i(a,n),e.on("update",g),p.set(r,e)),e.push(l,o)}}function g(){l.emit("update")}}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/stats/index.js"}],[5646,{"../observe-connection":5659,"./incoming":5647,debug:2927},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=e("./incoming"),s=e("../observe-connection");t.exports=function(e){const t=r("libp2p:switch:listener");return function(n,r){return function(o){t("received incoming connection for transport %s",n),o.getPeerInfo(((a,u)=>{const c=n?s(n,null,o,e.observer):o,l=new i({connection:c,_switch:e,transportKey:n,peerInfo:u});l.once("error",(e=>t(e))),l.once("private",(e=>{if(r)return r(e);l.encrypt()})),l.once("encrypted",(()=>l.upgrade())),l.protect()}))}}}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/connection/handler.js"}],[5651,{"../constants":5650,"../get-peer-info":5655,"./queueManager":5653},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./queueManager"),i=e("../get-peer-info"),{BLACK_LIST_ATTEMPTS:s,BLACK_LIST_TTL:o,MAX_COLD_CALLS:a,MAX_PARALLEL_DIALS:u,PRIORITY_HIGH:c,PRIORITY_LOW:l}=e("../constants");t.exports=function(e){const t=new r(e);function n({peerInfo:n,protocol:r,options:s,callback:o}){"function"==typeof r&&(o=r,r=null);try{n=i(n,e._peerBook)}catch(e){return o(e)}t.add({peerInfo:n,protocol:r,options:s,callback:o})}return e.state.on("STARTED:enter",(function(e){t.start(),e()})),e.state.on("STOPPING:enter",(function(e){t.stop(),e()})),{connect:function(e,t,r){"function"==typeof t&&(r=t,t=null),n({peerInfo:e,protocol:null,options:t={useFSM:!1,priority:l,...t},callback:r})},dial:function(e,t,r){n({peerInfo:e,protocol:t,options:{useFSM:!1,priority:c},callback:r})},dialFSM:function(e,t,r){n({peerInfo:e,protocol:t,options:{useFSM:!0,priority:c},callback:r})},clearBlacklist:function(e){t.clearBlacklist(e)},BLACK_LIST_ATTEMPTS:isNaN(e._options.blackListAttempts)?s:e._options.blackListAttempts,BLACK_LIST_TTL:isNaN(e._options.blacklistTTL)?o:e._options.blacklistTTL,MAX_COLD_CALLS:isNaN(e._options.maxColdCalls)?a:e._options.maxColdCalls,MAX_PARALLEL_DIALS:isNaN(e._options.maxParallelDials)?u:e._options.maxParallelDials}}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/dialer/index.js"}],[5666,{"./constants":5650,"./limit-dialer":5657,"./utils":5667,"async/parallel":2156,debug:2927,once:6003},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/parallel"),i=e("once"),s=e("debug")("libp2p:switch:transport"),o=e("./limit-dialer"),{DIAL_TIMEOUT:a}=e("./constants"),{uniqueBy:u}=e("./utils");class c{constructor(e){this.switch=e,this.dialer=new o(8,this.switch._options.dialTimeout||a)}add(e,t){if(s("adding %s",e),this.switch.transports[e])throw new Error("There is already a transport with this key");this.switch.transports[e]=t,this.switch.transports[e].listeners||(this.switch.transports[e].listeners=[])}remove(e,t){if(t=t||function(){},!this.switch.transports[e])return t();this.close(e,(n=>{delete this.switch.transports[e],t(n)}))}removeAll(e){const t=Object.keys(this.switch.transports).map((e=>t=>{this.remove(e,t)}));r(t,e)}dial(e,t,n){const r=this.switch.transports[e];let i=t.multiaddrs.toArray();Array.isArray(i)||(i=[i]),i=c.dialables(r,i,this.switch._peerInfo),s("dialing %s",e,i.map((e=>e.toString()))),this.dialer.dialMany(t.id,r,i,((e,r)=>{if(e)return n(e);t.connect(r.multiaddr),n(null,r.conn)}))}listen(e,t,n,s){n=this.switch._connectionHandler(e,n);const o=this.switch.transports[e];let a=this.switch._peerInfo.multiaddrs.toArray();a=u(a,(e=>{const t=Number(e.toOptions().port);return isNaN(t)||0===t?e.toString():t}));const l=c.dialables(o,a);o.listeners||(o.listeners=[]);let h=[];const d=l.map((e=>t=>{const r=i(t),s=o.createListener(n);s.once("error",r),s.listen(e,(e=>{if(e)return r(e);s.removeListener("error",r),s.getAddrs(((e,t)=>{if(e)return r(e);h=h.concat(t),o.listeners.push(s),r()}))}))}));r(d,(e=>{if(e)return s(e);this.switch._peerInfo.multiaddrs.replace(l,h),s()}))}close(e,t){const n=this.switch.transports[e];if(!n)return t(new Error(`Trying to close non existing transport: ${e}`));r(n.listeners.map((e=>t=>{e.close(t)})),t)}static dialables(e,t,n){if(!e||!e.filter)return[];const r=e.filter(t);if(!n||!r.length)return r;const i=function(e){const t=e.id.toB58String();return e.multiaddrs.toArray().reduce(((e,n)=>{const r=n.getPeerId();n=n.toString();const i=r?n.slice(0,n.lastIndexOf(`/ipfs/${r}`)):`${n}/ipfs/${t}`;return e.concat([n,i])}),[]).filter((e=>Boolean(e))).concat(`/ipfs/${t}`)}(n);return r.filter((e=>!i.some((t=>function(e){const t=e.protoNames().reverse().find((e=>l.includes(e)));return e=e.toString(),t?e.slice(e.lastIndexOf(t)+t.length):e}(e).startsWith(t)))))}}const l=["p2p-circuit","p2p-websocket-star","p2p-webrtc-star","p2p-stardust"];t.exports=c}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/transport.js"}],[5649,{"../connection":5648,"../plaintext":5661,"../utils":5667,debug:2927,"libp2p-circuit":5512,"libp2p-identify":5563,"multistream-select":5938,once:6003},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("libp2p-identify"),i=e("multistream-select"),s=e("debug")("libp2p:switch:conn-manager"),o=e("once"),a=e("../connection"),{msHandle:u,msSelect:c,identifyDialer:l}=e("../utils"),h=e("libp2p-circuit"),d=e("../plaintext");t.exports=class{constructor(e){this.switch=e,this.connections={}}add(e){this.connections[e.theirB58Id]=this.connections[e.theirB58Id]||[],this.get(e)||(this.connections[e.theirB58Id].push(e),this.switch.emit("connection:start",e.theirPeerInfo),"MUXED"===e.getState()?(this.switch.emit("peer-mux-established",e.theirPeerInfo),this.switch.dialer.clearBlacklist(e.theirPeerInfo)):e.once("muxed",(()=>{this.switch.emit("peer-mux-established",e.theirPeerInfo),this.switch.dialer.clearBlacklist(e.theirPeerInfo)})))}get(e){if(!this.connections[e.theirB58Id])return null;for(let t=0;t<this.connections[e.theirB58Id].length;t++)if(this.connections[e.theirB58Id][t]===e)return this.connections[e.theirB58Id][t];return null}getOne(e){if(this.connections[e])for(var t=0;t<this.connections[e].length;t++)if("MUXED"===this.connections[e][t].getState())return this.connections[e][t];return null}remove(e){if(this.connections[e.theirB58Id]){for(let t=0;t<this.connections[e.theirB58Id].length;t++)if(this.connections[e.theirB58Id][t]===e){this.connections[e.theirB58Id].splice(t,1);break}0===this.connections[e.theirB58Id].length&&(delete this.connections[e.theirB58Id],e.theirPeerInfo.disconnect(),this.switch.emit("peer-mux-closed",e.theirPeerInfo)),this.switch.emit("connection:end",e.theirPeerInfo)}else e.theirPeerInfo&&(e.theirPeerInfo.disconnect(),this.switch.emit("peer-mux-closed",e.theirPeerInfo))}getAll(){let e=[];for(const t of Object.values(this.connections))e=[...e,...t];return e}getAllById(e){return this.connections[e]||[]}addStreamMuxer(e){this.switch.muxers[e.multicodec]=e,this.switch.handle(e.multicodec,((t,n)=>{const h=e.listener(n);return h.on("stream",this.switch.protocolMuxer(null)),this.switch.identify&&n.getPeerInfo(((e,t)=>{!e&&t||s("crypto peerInfo wasnt found"),n.getPeerInfo=async e=>{const n=h.newStream(),s=new i.Dialer;let a;e=o(e);try{await u(s,n);const e=await c(s,r.multicodec);a=await l(e,t)}catch(t){return h.end((()=>{e(t,null)}))}const{peerInfo:d}=a;d&&n.setPeerInfo(d),e(null,d)},n.getPeerInfo(((e,t)=>{if(e)return s("identify not successful");const r=t.id.toB58String();t=this.switch._peerBook.put(t);const i=new a({_switch:this.switch,peerInfo:t,muxer:h,conn:n,type:"inc"});this.switch.connection.add(i),t.isConnected()||(t.multiaddrs.size>0?t.connect(t.multiaddrs.toArray()[0]):t.connect(`/ipfs/${r}`)),h.once("close",(()=>{i.close()}))}))})),n}))}crypto(e,t){e||t||(e=d.tag,t=d.encrypt),this.switch.crypto={tag:e,encrypt:t}}enableCircuitRelay(e){(e=e||{}).enabled&&(e.hop||Object.assign(e,{hop:{enabled:!1,active:!1}}),this.switch.transport.add(h.tag,new h(this.switch,e)))}reuse(){this.switch.identify=!0,this.switch.handle(r.multicodec,((e,t)=>{r.listener(t,this.switch._peerInfo)}))}}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/connection/manager.js"}],[5512,{"./circuit":5506},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e("./circuit")}}},{package:"libp2p-circuit",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-circuit/src/index.js"}],[5662,{"./observe-connection":5659,debug:2927,"multistream-select":5938},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("multistream-select"),i=e("./observe-connection"),s=e("debug"),o=s("libp2p:switch:protocol-muxer");o.error=s("libp2p:switch:protocol-muxer:error"),t.exports=function(e,t){return n=>(s,a)=>{const u=a||new r.Listener;let c;c=n&&!a?i(n,null,s,t):s,Object.keys(e).forEach((n=>{if(!n)return;u.addHandler(n,((n,r)=>{o("registering handler with protocol %s",n);const s=e[n];if(s){const e=s&&s.handlerFunc;if(e){e(s,i(null,n,r,t))}}}),e[n].matchFunc)})),u.handle(c,(e=>{e&&o.error("multistream handshake failed",e)}))}}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/protocol-muxer.js"}],[2098,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function s(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(n===undefined||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(s(t,"type"));else{var u=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(u," ").concat(r," ").concat(s(t,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/errors-browser.js"}],[2106,{_process:6127},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,s){var o=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(s?s(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!s&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(r,o):(o._writableState.errorEmitted=!0,e.nextTick(n,o,t)):e.nextTick(n,o,t):s?(e.nextTick(r,o),s(t)):e.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[2110,{"../../../errors":2098},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var s=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new r(i?n:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/internal/streams/state.js"}],[2111,{events:2479},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e("events").EventEmitter}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[2108,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[2105,{buffer:2478,util:2477},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=e("buffer").Buffer,a=e("util").inspect,u=a&&a.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,c;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,n,r,i=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=i,r=a,o.prototype.copy.call(t,n,r),a+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?r+=i:r+=i.slice(0,e),0==(e-=s)){s===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(s));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&s(t.prototype,n),c&&s(t,c),e}()}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[2104,{"./end-of-stream":2107,_process:6127},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=e("./end-of-stream"),o=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var n=e[d].read();null!==n&&(e[l]=null,e[o]=null,e[a]=null,t(f(n,!1)))}}function m(e){n.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(r={get stream(){return this[d]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(f(undefined,!0));if(this[d].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[u]?r(e[u]):t(f(undefined,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[c]?n(f(undefined,!0)):t[h](n,r)}),r)}}(i,this));else{var s=this[d].read();if(null!==s)return Promise.resolve(f(s,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(f(undefined,!0))}))}))})),r),g);t.exports=function(e){var t,n=Object.create(y,(i(t={},d,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[d].read();r?(n[l]=null,n[o]=null,n[a]=null,e(f(r,!1))):(n[o]=e,n[a]=t)},writable:!0}),t));return n[l]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[l]=null,n[o]=null,n[a]=null,t(e)),void(n[u]=e)}var r=n[o];null!==r&&(n[l]=null,n[o]=null,n[a]=null,r(f(undefined,!0))),n[c]=!0})),e.on("readable",m.bind(null,n)),n}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[2113,{"safe-buffer":6450},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return n!==undefined?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}n.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if((t=this.fillLast(e))===undefined)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}}}},{package:"string_decoder",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/async-iterator-to-stream/node_modules/string_decoder/lib/string_decoder.js"}],[5159,{"err-code":3029},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code");t.exports=(e={},t)=>{Array.isArray(e)&&(e=e.filter((e=>"object"==typeof e)).pop()||{});const n={};for(let r in t)null!==e[r]&&e[r]!==undefined?n[r]=e[r]:n[r]=t[r];const i=n.format||n.codec;if(i&&isNaN(i)&&(n.format=i,delete n.codec),e.count!==undefined&&(n.length=e.count),e.p!==undefined&&(n.parents=e.p),e.l!==undefined&&(n.long=e.l),n.length||0===n.length||(n.length=Infinity),n.offset<0)throw r(new Error("cannot have negative write offset"),"ERR_INVALID_PARAMS");if(n.length<0)throw r(new Error("cannot have negative byte count"),"ERR_INVALID_PARAMS");return n}}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/apply-default-options.js"}],[5160,{"interface-datastore":5101},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("interface-datastore").Key;t.exports={FILE_SEPARATOR:"/",MFS_ROOT_KEY:new r("/local/filesroot"),MAX_CHUNK_SIZE:262144,MAX_LINKS:174,FILE_TYPES:{file:0,directory:1,"hamt-sharded-directory":1}}}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/constants.js"}],[5169,{"./to-mfs-path":5166},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./to-mfs-path");t.exports=async function(e,t){Array.isArray(t[0])&&(t=t[0]);const n=t.filter((e=>"string"==typeof e)).map((e=>e.trim()));return{sources:await r(e,n)}}}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/to-sources.js"}],[5166,{"./constants":5160,"./to-path-components":5167,"./with-mfs-root":5173,"err-code":3029,"ipfs-unixfs-exporter":5198},function(){with(this)return function(){"use strict";return function(e,t,n){const{FILE_SEPARATOR:r}=e("./constants"),i=e("./with-mfs-root"),s=e("./to-path-components"),o=e("ipfs-unixfs-exporter"),a=e("err-code"),u="ipfs";t.exports=async(e,t)=>{let n=Array.isArray(t),c=Array.isArray(t)?t:[t];const l=await i(e);return c=c.map((e=>{if((e=(e=(e||"").trim()).replace(/(\/\/+)/g,"/")).endsWith("/")&&e.length>1&&(e=e.substring(0,e.length-1)),!e)throw a(new Error("paths must not be empty"),"ERR_NO_PATH");if(e.substring(0,1)!==r)throw a(new Error(`paths must start with a leading ${r}`),"ERR_INVALID_PATH");e.substring(e.length-r.length)===r&&(e=e.substring(0,e.length-r.length));const t=s(e);if(t[0]===u){let e;return e=2===t.length?`${r}${t.join(r)}`:`${r}${t.slice(0,t.length-1).join(r)}`,{type:"ipfs",depth:t.length-2,mfsPath:`${r}${t.join(r)}`,mfsDirectory:e,parts:t,path:`${r}${t.join(r)}`,name:t[t.length-1]}}const n=`/ipfs/${l}${t.length?"/"+t.join(r):""}`,i=`/ipfs/${l}/${t.slice(0,t.length-1).join(r)}`;return{type:"mfs",depth:t.length,mfsDirectory:i,mfsPath:n,parts:t,path:`${r}${t.join(r)}`,name:t[t.length-1]}})),await Promise.all(c.map((async t=>{const n="mfs"===t.type?t.mfsPath:t.path;try{const r=await o(n,e.ipld);t.cid=r.cid,t.mfsPath=`/ipfs/${r.path}`,t.unixfs=r.unixfs,t.content=r.content}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}t.exists=Boolean(t.cid)}))),n?c:c[0]}}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/to-mfs-path.js"}],[5158,{"./hamt-utils":5163,"async-iterator-last":2095,cids:2520,debug:2927,"err-code":3029,"ipfs-unixfs":5227,"ipfs-unixfs-importer/src/dir-sharded":5220,"ipld-dag-pb":5366,multicodec:5914,multihashes:5929},function(){with(this)return function(){"use strict";return function(e,t,n){const{DAGNode:r,DAGLink:i}=e("ipld-dag-pb"),s=e("cids"),o=e("debug")("ipfs:mfs:core:utils:add-link"),a=e("ipfs-unixfs"),u=e("ipfs-unixfs-importer/src/dir-sharded"),{updateHamtDirectory:c,recreateHamtLevel:l,createShard:h,toPrefix:d,addLinksToHamtBucket:f}=e("./hamt-utils"),p=e("err-code"),m=e("multicodec"),g=e("multihashes"),y=e("async-iterator-last"),b=async(e,t)=>{const n=await h(e,t.parent.Links.map((e=>({name:e.Name,size:e.Tsize,cid:e.Hash}))).concat({name:t.name,size:t.size,cid:t.cid}),t);return o(`Converted directory to sharded directory ${n.cid}`),n},_=async(e,t)=>{let n=await r.rmLink(t.parent,t.name);n=await r.addLink(n,new i(t.name,t.size,t.cid));const s=m[t.format.toUpperCase().replace(/-/g,"_")],o=g.names[t.hashAlg];return{node:n,cid:await e.ipld.put(n,s,{cidVersion:t.cidVersion,hashAlg:o,hashOnly:!t.flush})}},v=async(e,t)=>{const{shard:n,path:i}=await w(e,t),s=await y(n.flush("",e.ipld)),o=t.parent.Links.find((e=>e.Name.substring(0,2)===i[0].prefix)),a=s.node.Links.find((e=>e.Name.substring(0,2)===i[0].prefix));let u=t.parent;return o&&(u=await r.rmLink(t.parent,o.Name)),u=await r.addLink(u,a),c(e,u.Links,i[0].bucket,t)},w=async(e,t)=>{const n={name:t.name,cid:t.cid,size:t.size},r=await l(t.parent.Links),i=new u({root:!0,dir:!0,parent:null,parentKey:null,path:"",dirty:!0,flat:!1},t);i._bucket=r;const s=await r._findNewBucketAndPos(n.name),a=E(s);a[0].node=t.parent;let c=0;for(;c<a.length;){let t=a[c];c++;let i=t.node.Links.find((e=>e.Name.substring(0,2)===t.prefix));if(!i){o(`Link ${t.prefix}${n.name} will be added`),c=a.length;break}if(i.Name===`${t.prefix}${n.name}`){o(`Link ${t.prefix}${n.name} will be replaced`),c=a.length;break}if(i.Name.length>2){o(`Link ${i.Name} will be replaced with a subshard`),c=a.length;break}o(`Found subshard ${t.prefix}`);const s=await e.ipld.get(i.Hash);if(!a[c]){o(`Loaded new subshard ${t.prefix}`),await l(s.Links,r,t.bucket,parseInt(t.prefix,16));const e=await r._findNewBucketAndPos(n.name);a.push({bucket:e.bucket,prefix:d(e.pos),node:s});break}const u=a[c];await f(s.Links,u.bucket,r),u.node=s}return await i._bucket.put(n.name,{size:n.size,cid:n.cid}),{shard:i,path:a}},E=e=>{let t=e.bucket,n=e.pos,r=[{bucket:t,prefix:d(n)}];for(t=e.bucket._parent,n=e.bucket._posAtParent;t;)r.push({bucket:t,prefix:d(n)}),n=t._posAtParent,t=t._parent;return r.reverse(),r};t.exports=async(e,t)=>{if(!t.parentCid&&!t.parent)throw p(new Error("No parent node or CID passed to addLink"),"EINVALIDPARENT");if(t.parentCid&&!s.isCID(t.parentCid))throw p(new Error("Invalid CID passed to addLink"),"EINVALIDPARENTCID");if(t.parent||(o(`Loading parent node ${t.parentCid}`),t.parent=await e.ipld.get(t.parentCid)),!t.cid)throw p(new Error("No child cid passed to addLink"),"EINVALIDCHILDCID");if(!t.name)throw p(new Error("No child name passed to addLink"),"EINVALIDCHILDNAME");if(s.isCID(t.cid)||(t.cid=new s(t.cid)),!t.size&&0!==t.size)throw p(new Error("No child size passed to addLink"),"EINVALIDCHILDSIZE");return"hamt-sharded-directory"===a.unmarshal(t.parent.Data).type?(o("Adding link to sharded directory"),v(e,t)):t.parent.Links.length>=t.shardSplitThreshold?(o("Converting directory to sharded directory"),b(e,t)):(o(`Adding ${t.name} (${t.cid}) to regular directory`),_(e,t))}}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/add-link.js"}],[5170,{debug:2927,"ipfs-unixfs-exporter":5198},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ipfs-unixfs-exporter"),i=e("debug")("ipfs:mfs:utils:to-trail");t.exports=async(e,t)=>{i(`Creating trail for path ${t}`);const n=[];for await(const i of r.path(t,e.ipld))n.push({name:i.name,cid:i.cid,size:i.node.size,type:i.unixfs?i.unixfs.type:undefined});return n}}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/to-trail.js"}],[5171,{"./constants":5160,debug:2927},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug")("ipfs:mfs:utils:update-mfs-root"),{MFS_ROOT_KEY:i}=e("./constants");t.exports=async(e,t)=>(r(`New MFS root will be ${t}`),await e.repo.datastore.put(i,t.buffer),t)}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/update-mfs-root.js"}],[5172,{"./add-link":5158,debug:2927},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug")("ipfs:mfs:utils:update-tree"),i=e("./add-link"),s={shardSplitThreshold:1e3};t.exports=async(e,t,n)=>{n=Object.assign({},s,n),r("Trail",t),t=t.slice().reverse();let o,a=0;for await(const r of e.ipld.getMany(t.map((e=>e.cid)))){const s=t[a].cid,u=t[a].name;if(a++,!o){o={cid:s,name:u,size:r.size};continue}const c=await i(e,{parent:r,name:o.name,cid:o.cid,size:o.size,flush:n.flush,shardSplitThreshold:n.shardSplitThreshold,format:n.format,hashAlg:n.hashAlg,cidVersion:n.cidVersion});o={cid:c.cid,name:u,size:c.node.size}}return r(`Final CID ${o.cid}`),o.cid}}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/update-tree.js"}],[5167,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=(e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/to-path-components.js"}],[5165,{"./constants":5160,buffer:2478,debug:2927,"err-code":3029,fs:2477},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("err-code"),i=e("fs"),s=e("debug")("ipfs:mfs:utils:to-async-iterator"),{MAX_CHUNK_SIZE:o}=e("./constants");t.exports=async e=>{if(!e)throw r(new Error("paths must start with a leading /"),"ERR_INVALID_PATH");if("string"==typeof e||e instanceof String)return s("Content was a path"),i.createReadStream(e);if(e.length)return s("Content was array-like"),{[Symbol.asyncIterator]:async function*(){yield e}};if(e[Symbol.asyncIterator])return s("Content was an async iterator"),e;if(e[Symbol.iterator])return s("Content was an iterator"),e;if(global.Blob&&e instanceof global.Blob){s("Content was an HTML5 Blob");let t=0;const r={next:async()=>t>e.size?{done:!0}:new Promise(((r,i)=>{const s=e.slice(t,o);t+=o;const a=new global.FileReader,u=e=>{if(a.removeEventListener("loadend",u,!1),e.error)return i(e.error);r({done:!1,value:n.from(a.result)})};a.addEventListener("loadend",u),a.readAsArrayBuffer(s)}))};return{[Symbol.asyncIterator]:()=>r}}throw r(new Error(`Don't know how to convert ${e} into an async iterator`),"ERR_INVALID_PARAMS")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/to-async-iterator.js"}],[5162,{"ipfs-unixfs":5227,"ipld-dag-pb":5366,multicodec:5914,multihashes:5929},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ipfs-unixfs"),{DAGNode:i}=e("ipld-dag-pb"),s=e("multicodec"),o=e("multihashes");t.exports=async(e,t,n)=>{const a=s[n.format.toUpperCase().replace(/-/g,"_")],u=o.names[n.hashAlg],c=i.create(new r(t).marshal());return{cid:await e.ipld.put(c,a,{cidVersion:n.cidVersion,hashAlg:u}),node:c}}}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/create-node.js"}],[5173,{"./constants":5160,cids:2520,debug:2927,"ipfs-unixfs":5227,"ipld-dag-pb":5366,multicodec:5914,multihashes:5929},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("cids"),i=e("ipfs-unixfs"),{DAGNode:s}=e("ipld-dag-pb"),o=e("debug")("ipfs:mfs:utils:with-mfs-root"),a=e("multicodec"),u=e("multihashes"),{MFS_ROOT_KEY:c}=e("./constants");t.exports=async e=>{let t;await e.repo.datastore.open();try{const n=await e.repo.datastore.get(c);t=new r(n)}catch(n){if("ERR_NOT_FOUND"!==n.code)throw n;o("Creating new MFS root");const r=s.create(new i("directory").marshal());t=await e.ipld.put(r,a.DAG_PB,{cidVersion:0,hashAlg:u.names["sha2-256"]}),await e.repo.datastore.put(c,t.buffer)}return o(`Loaded MFS root /ipfs/${t}`),t}}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/with-mfs-root.js"}],[5168,{"./to-sources":5169},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./to-sources");t.exports=async function(e,t){const{sources:n,options:i}=await r(e,t);return{destination:n.pop(),sources:n,options:i}}}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/to-sources-and-destination.js"}],[5164,{"./hamt-utils":5163,cids:2520,debug:2927,"err-code":3029,"ipfs-unixfs":5227,"ipld-dag-pb":5366,multicodec:5914,multihashes:5929},function(){with(this)return function(){"use strict";return function(e,t,n){const{DAGNode:r,DAGLink:i}=e("ipld-dag-pb"),s=e("cids"),o=e("debug")("ipfs:mfs:core:utils:remove-link"),a=e("ipfs-unixfs"),{generatePath:u,updateHamtDirectory:c}=e("./hamt-utils"),l=e("err-code"),h=e("multicodec"),d=e("multihashes"),f=async(e,t)=>{const n=h[t.format.toUpperCase().replace(/-/g,"_")],i=d.names[t.hashAlg],s=await r.rmLink(t.parent,t.name),a=await e.ipld.put(s,n,{cidVersion:t.cidVersion,hashAlg:i});return o(`Updated regular directory ${a}`),{node:s,cid:a}},p=async(e,t)=>{const{rootBucket:n,path:r}=await u(e,t.name,t.parent);await n.del(t.name);const{node:i}=await m(e,r,{name:t.name,cid:t.cid,size:t.size,hashAlg:t.hashAlg,format:t.format,cidVersion:t.cidVersion,flush:t.flush},t);return c(e,i.Links,n,t)},m=async(e,t,n,i)=>{const{bucket:s,prefix:a,node:u}=t.pop(),h=u.Links.find((e=>e.Name.substring(0,2)===a));if(!h)throw l(new Error(`No link found with prefix ${a} for file ${n.name}`),"ERR_NOT_FOUND");if(h.Name===`${a}${n.name}`){o(`Removing existing link ${h.Name}`);const t=await r.rmLink(u,h.Name);return await s.del(n.name),c(e,t.Links,s,i)}o(`Descending into sub-shard ${h.Name} for ${a}${n.name}`);const d=await m(e,t,n,i);let f=a;1===d.node.Links.length&&(o(`Removing subshard for ${a}`),d.cid=d.node.Links[0].Hash,d.node=d.node.Links[0],f=`${a}${d.node.Name.substring(2)}`),o(`Updating shard ${a} with name ${f}`);const p=r.isDAGNode(d.node)?d.node.size:d.node.Tsize;return g(e,s,u,a,f,p,d.cid,i)},g=async(e,t,n,s,o,a,u,l)=>(n=await r.rmLink(n,s),n=await r.addLink(n,new i(o,a,u)),c(e,n.Links,t,l));t.exports=async(e,t)=>{if(!t.parentCid&&!t.parent)throw l(new Error("No parent node or CID passed to removeLink"),"EINVALIDPARENT");if(t.parentCid&&!s.isCID(t.parentCid))throw l(new Error("Invalid CID passed to removeLink"),"EINVALIDPARENTCID");if(t.parent||(o(`Loading parent node ${t.parentCid}`),t.parent=await e.ipld.get(t.parentCid)),!t.name)throw l(new Error("No child name passed to removeLink"),"EINVALIDCHILDNAME");return"hamt-sharded-directory"===a.unmarshal(t.parent.Data).type?(o(`Removing ${t.name} from sharded directory`),p(e,t)):(o(`Removing link ${t.name} regular directory`),f(e,t))}}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/remove-link.js"}],[5896,{"./browser":5894,"./node":5897,"observable-webworkers":6002,"p-queue":6063,"promise-timeout":6128},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./node"),i=e("./browser"),s=e("p-queue"),{timeout:o}=e("promise-timeout"),a=e("observable-webworkers"),u={};let c;const l={concurrency:Infinity,timeout:846e5,global:global,singleProcess:!1};t.exports=(e,t)=>(t||(t={}),"object"==typeof e&&(t=e,e="lock"),e||(e="lock"),t=Object.assign({},l,t),c||(c=r(t)||i(t),c.isWorker||(c.on("requestReadLock",((e,t)=>{u[e]&&u[e].readLock(t)})),c.on("requestWriteLock",((e,t)=>{u[e]&&u[e].writeLock(t)})))),u[e]||(u[e]=((e,t)=>{if(c.isWorker)return{readLock:c.readLock(e,t),writeLock:c.writeLock(e,t)};const n=new s({concurrency:1});let r=null;return{readLock:e=>{if(r)return r.add((()=>o(e(),t.timeout)));r=new s({concurrency:t.concurrency,autoStart:!1});const i=r,a=r.add((()=>o(e(),t.timeout)));return n.add((()=>(i.start(),i.onIdle().then((()=>{r===i&&(r=null)}))))),a},writeLock:e=>(r=null,n.add((()=>o(e(),t.timeout))))}})(e,t)),u[e]),t.exports.Worker=function(e,t){let n;t=t||global.Worker;try{n=new t(e)}catch(r){r.message.includes("not a constructor")&&(n=t(e))}if(!n)throw new Error("Could not create Worker from",t);return a(n),n}}}},{package:"mortice",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/mortice/lib/index.js"}],[5199,{cids:2520,"err-code":3029},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("cids"),i=e("err-code");t.exports=async(e,t,n,s,o,a,u)=>{let c=await u.get(e),l=c,h=n;for(;s.length;){const o=s[0];if(!(o in l))throw i(new Error(`No property named ${o} found in cbor node ${e.toBaseEncodedString()}`),"ERR_NO_PROP");if(s.shift(),h=`${h}/${o}`,r.isCID(l[o]))return{entry:{name:t,path:n,cid:e,node:c,depth:a},next:{cid:l[o],name:o,path:h,toResolve:s}};l=l[o]}return{entry:{name:t,path:n,cid:e,node:c,depth:a}}}}}},{package:"ipfs-unixfs-exporter",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-exporter/src/resolvers/dag-cbor.js"}],[5201,{"../utils/extract-data-from-block":5206,"../utils/validate-offset-and-length":5208,"err-code":3029},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code"),i=e("../utils/extract-data-from-block"),s=e("../utils/validate-offset-and-length");t.exports=async(e,t,n,o,a,u,c)=>{if(o.length)throw r(new Error(`No link named ${n} found in raw node ${e.toBaseEncodedString()}`),"ERR_NOT_FOUND");const l=await c.get(e);return{entry:{name:t,path:n,cid:e,node:l,content:(h=l,function*(e={}){const{offset:t,length:n}=s(h.length,e.offset,e.length);yield i(h,0,t,t+n)}),depth:u}};var h}}}},{package:"ipfs-unixfs-exporter",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-exporter/src/resolvers/raw.js"}],[5205,{"../../utils/find-cid-in-shard":5207,"./content/directory":5202,"./content/file":5203,"./content/hamt-sharded-directory":5204,"err-code":3029,"ipfs-unixfs":5227},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code"),i=e("ipfs-unixfs"),s=e("../../utils/find-cid-in-shard"),o={raw:e("./content/file"),file:e("./content/file"),directory:e("./content/directory"),"hamt-sharded-directory":e("./content/hamt-sharded-directory"),metadata:(e,t,n,r,i,s,o)=>{},symlink:(e,t,n,r,i,s,o)=>{}};t.exports=async(e,t,n,a,u,c,l)=>{const h=await l.get(e);let d,f;t||(t=e.toBaseEncodedString());try{d=i.unmarshal(h.Data)}catch(e){throw r(e,"ERR_NOT_UNIXFS")}if(n||(n=t),a.length){let e;if(e=d&&"hamt-sharded-directory"===d.type?await s(h,a[0],l):((e,t)=>{const n=e.Links.find((e=>e.Name===t));return n&&n.Hash})(h,a[0]),!e)throw r(new Error("file does not exist"),"ERR_NOT_FOUND");const t=a.shift();f={cid:e,toResolve:a,name:t,path:`${n}/${t}`}}return{entry:{name:t,path:n,cid:e,node:h,content:o[d.type](e,h,d,n,u,c,l),unixfs:d,depth:c},next:f}}}}},{package:"ipfs-unixfs-exporter",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-exporter/src/resolvers/unixfs-v1/index.js"}],[5221,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=class{constructor(e,t){this.options=t||{},Object.assign(this,e)}}}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/dir.js"}],[5226,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=(e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/utils/to-path-components.js"}],[2094,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=async e=>{for await(const t of e)return t}}}},{package:"async-iterator-first",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/async-iterator-first/index.js"}],[5219,{"./dir":5221,"./utils/persist":5225,"ipfs-unixfs":5227,"ipld-dag-pb":5366},function(){with(this)return function(){"use strict";return function(e,t,n){const{DAGLink:r,DAGNode:i}=e("ipld-dag-pb"),s=e("ipfs-unixfs"),o=e("./dir"),a=e("./utils/persist");t.exports=class extends o{constructor(e,t){super(e,t),this._children={}}put(e,t){this.cid=undefined,this.size=undefined,this._children[e]=t}get(e){return this._children[e]}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}*eachChildSeries(){const e=Object.keys(this._children);for(let t=0;t<e.length;t++){const n=e[t];yield{key:n,child:this._children[n]}}}async*flush(e,t){const n=Object.keys(this._children),o=[];for(let e=0;e<n.length;e++){let i=this._children[n[e]];if("function"==typeof i.flush)for await(const e of i.flush(i.path,t))i=e,yield i;o.push(new r(n[e],i.node.length||i.node.size,i.cid))}const u=new s("directory");let c=i.create(u.marshal(),o);const l=await a(c,t,this.options);this.cid=l,this.size=c.size,yield{cid:l,unixfs:u,path:e,node:c}}}}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/dir-flat.js"}],[5222,{"./dir-sharded":5220},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./dir-sharded");t.exports=async function e(t,n,i,s){let o=n;n.flat&&n.directChildrenCount()>=i&&(o=await async function(e,t){const n=new r({root:e.root,dir:!0,parent:e.parent,parentKey:e.parentKey,path:e.path,dirty:e.dirty,flat:!1},t);for await(const{key:t,child:r}of e.eachChildSeries())await n.put(t,r);return n}(n,s));const a=o.parent;return a&&(o!==n&&(t&&(t.parent=o),await a.put(o.parentKey,o)),a)?e(o,a,i,s):o}}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/flat-to-shard.js"}],[5218,{buffer:2478,"err-code":3029},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("err-code");t.exports=async function*(e){for await(const t of e){if(t.length===undefined)throw r(new Error("Content was invalid"),"ERR_INVALID_CONTENT");"string"==typeof t||t instanceof String?yield n.from(t,"utf8"):Array.isArray(t)?yield n.from(t):yield t}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/dag-builder/validate-chunks.js"}],[5212,{"../utils/persist":5225,"ipfs-unixfs":5227,"ipld-dag-pb":5366},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("ipfs-unixfs"),i=e("../utils/persist"),{DAGNode:s}=e("ipld-dag-pb");t.exports=async(e,t,n)=>{const o=new r("directory"),a=s.create(o.marshal(),[]);return{cid:await i(a,t,n),path:e.path,unixfs:o,node:a}}}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/dag-builder/dir.js"}],[5215,{"../../utils/persist":5225,"./balanced":5213,"./flat":5214,"./trickle":5216,"async-iterator-all":2092,"err-code":3029,"ipfs-unixfs":5227,"ipld-dag-pb":5366},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code"),i=e("ipfs-unixfs"),s=e("../../utils/persist"),{DAGNode:o,DAGLink:a}=e("ipld-dag-pb"),u=e("async-iterator-all"),c={flat:e("./flat"),balanced:e("./balanced"),trickle:e("./trickle")};t.exports=async(e,t,n,l)=>{const h=c[l.strategy];if(!h)throw r(new Error(`Unknown importer build strategy name: ${l.strategy}`),"ERR_BAD_STRATEGY");const d=await u(h(async function*(e,t,n){let r,a=-1;for await(const u of e){let e,c;a++,n.progress(u.length);let l={...n};n.rawLeaves?(e=u,l.codec="raw",l.cidVersion=1):(c=new i(n.leafType,u),e=o.create(c.marshal(),[]));const h={cid:await s(e,t,l),unixfs:c,node:e};0!==a?(1===a&&(yield r,r=null),yield h):r=h}r&&(r.single=!0,yield r)}(t,n,l),((e,t,n)=>async function(r){if(1===r.length&&r[0].single&&n.reduceSingleLeafToSelf){const t=r[0];return{cid:t.cid,path:e.path,name:(e.path||"").split("/").pop(),unixfs:t.unixfs,node:t.node}}const u=new i("file"),c=r.filter((e=>!("raw"!==e.cid.codec||!e.node.length)||!(e.unixfs.data||!e.unixfs.fileSize())||Boolean(e.unixfs.data.length))).map((e=>"raw"===e.cid.codec?(u.addBlockSize(e.node.length),new a(e.name,e.node.length,e.cid)):(e.unixfs.data?u.addBlockSize(e.unixfs.data.length):u.addBlockSize(e.unixfs.fileSize()),new a(e.name,e.node.size,e.cid)))),l=o.create(u.marshal(),c);return{cid:await s(l,t,n),path:e.path,unixfs:u,node:l,size:l.size}})(e,n,l),l.builderOptions));if(d.length>1)throw r(new Error("expected a maximum of 1 roots and got "+d.length),"ETOOMANYROOTS");return d[0]}}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/dag-builder/file/index.js"}],[5210,{"../chunker/fixed-size":5209,"../chunker/rabin":5211,"err-code":3029},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code"),i={fixed:e("../chunker/fixed-size"),rabin:e("../chunker/rabin")};t.exports=(e,t,n)=>{const s=i[e];if(!s)throw r(new Error(`Unknkown chunker named ${e}`),"ERR_UNKNOWN_CHUNKER");return s(t,n)}}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/chunker/index.js"}],[5239,{"../../../errors":5230},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,n,s){if("function"==typeof n)return e(t,null,n);n||(n={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(s||i);var o=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){a=!1,c=!0,o||s.call(t)},h=t._readableState&&t._readableState.endEmitted,d=function(){o=!1,h=!0,a||s.call(t)},f=function(e){s.call(t,e)},p=function(){var e;return o&&!h?(t._readableState&&t._readableState.ended||(e=new r),s.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new r),s.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[5241,{"../../../errors":5230,"./end-of-stream":5239},function(){with(this)return function(){"use strict";return function(e,t,n){var r;var i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(t,n,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),r===undefined&&(r=e("./end-of-stream")),r(t,{readable:n,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var u=!1;return function(e){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,n){var s=n<t.length-1;return u(e,s,n>0,(function(e){r||(r=e),e&&o.forEach(c),s||(o.forEach(c),i(r))}))}));return t.reduce(l)}}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[5235,{"../errors":5230,"./_stream_duplex":5231,"./internal/streams/destroy":5238,"./internal/streams/state":5242,"./internal/streams/stream":5243,_process:6127,buffer:2478,inherits:5094,"util-deprecate":6723},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=C,C.WritableState=k;var s={deprecate:e("util-deprecate")},o=e("./internal/streams/stream"),a=e("buffer").Buffer,u=global.Uint8Array||function(){};var c,l=e("./internal/streams/destroy"),h=e("./internal/streams/state").getHighWaterMark,d=e("../errors").codes,f=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,_=d.ERR_STREAM_WRITE_AFTER_END,v=d.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;function E(){}function k(t,s,o){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof o&&(o=s instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,s=r.writecb;if("function"!=typeof s)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,s){--t.pendingcb,r?(n.nextTick(s,i),n.nextTick(N,e,t),e._writableState.errorEmitted=!0,w(e,i)):(s(i),e._writableState.errorEmitted=!0,w(e,i),N(e,t))}(e,r,i,t,s);else{var o=A(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||I(e,r),i?n.nextTick(x,e,r,o,s):x(e,r,o,s)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function C(t){var n=this instanceof(i=i||e("./_stream_duplex"));if(!n&&!c.call(C,this))return new C(t);this._writableState=new k(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function S(e,t,n,r,i,s,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function x(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),N(e,t)}function I(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)s[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;s.allBuffers=u,S(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,h=n.callback;if(S(e,t,!1,t.objectMode?1:c.length,c,l,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(n){t.pendingcb--,n&&w(e,n),t.prefinished=!0,e.emit("prefinish"),N(e,t)}))}function N(e,t){var r=A(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}e("inherits")(C,o),k.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(k.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===C&&(e&&e._writableState instanceof k)}})):c=function(e){return e instanceof this},C.prototype.pipe=function(){w(this,new g)},C.prototype.write=function(e,t,r){var i,s=this._writableState,o=!1,c=!s.objectMode&&(i=e,a.isBuffer(i)||i instanceof u);return c&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),c?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof r&&(r=E),s.ending?function(e,t){var r=new _;w(e,r),n.nextTick(t,r)}(this,r):(c||function(e,t,r,i){var s;return null===r?s=new b:"string"==typeof r||t.objectMode||(s=new f("chunk",["string","Buffer"],r)),!s||(w(e,s),n.nextTick(i,s),!1)}(this,s,e,r))&&(s.pendingcb++,o=function(e,t,n,r,i,s){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var u=t.objectMode?1:r.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,u,r,i,s);return c}(this,s,c,e,t,r)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new p("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,N(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=l.destroy,C.prototype._undestroy=l.undestroy,C.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/_stream_writable.js"}],[5231,{"./_stream_readable":5233,"./_stream_writable":5235,_process:6127,inherits:5094},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=c;var i=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(c,i);for(var o=r(s.prototype),a=0;a<o.length;a++){var u=o[a];c.prototype[u]||(c.prototype[u]=s.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/_stream_duplex.js"}],[5234,{"../errors":5230,"./_stream_duplex":5231,inherits:5094},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=l;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new s);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/_stream_transform.js"}],[5232,{"./_stream_transform":5234,inherits:5094},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=i;var r=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e("inherits")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/_stream_passthrough.js"}],[5233,{"../errors":5230,"./_stream_duplex":5231,"./internal/streams/async_iterator":5236,"./internal/streams/buffer_list":5237,"./internal/streams/destroy":5238,"./internal/streams/from":5240,"./internal/streams/state":5242,"./internal/streams/stream":5243,_process:6127,buffer:2478,events:2479,inherits:5094,"string_decoder/":5245,util:2477},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r;t.exports=C,C.ReadableState=k;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),o=e("buffer").Buffer,a=global.Uint8Array||function(){};var u,c=e("util");u=c&&c.debuglog?c.debuglog("stream"):function(){};var l,h,d,f=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,_=g.ERR_METHOD_NOT_IMPLEMENTED,v=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(C,s);var w=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function k(t,n,i){r=r||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=n instanceof r),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function C(t){if(r=r||e("./_stream_duplex"),!(this instanceof C))return new C(t);var n=this instanceof r;this._readableState=new k(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function S(e,t,n,r,i){u("readableAddChunk",t);var s,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}(e,c);else if(i||(s=function(e,t){var n;r=t,o.isBuffer(r)||r instanceof a||"string"==typeof t||t===undefined||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(c,t)),s)w(e,s);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),r)c.endEmitted?w(e,new v):x(e,c,t,!0);else if(c.ended)w(e,new b);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!n?(t=c.decoder.write(t),c.objectMode||0!==t.length?x(e,c,t,!1):R(e,c)):x(e,c,t,!1)}else r||(c.reading=!1,R(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),R(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=o.from(e,t),t=""),n=!0),S(this,e,t,!1,n)},C.prototype.unshift=function(e){return S(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var n=new l(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var I=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=I?e=I:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(N,e))}function N(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,O(e)}function R(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function j(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){u("readable nexttick read 0"),e.read(0)}function L(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function U(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function D(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(B,t,e))}function B(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function F(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):T(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&D(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(r=e>0?U(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&D(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(e){w(this,new _("_read()"))},C.prototype.pipe=function(e,t){var r=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,u("pipe count=%d opts=%j",s.pipesCount,t);var o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?c:g;function a(t,n){u("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",g),r.removeListener("data",d),h=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}s.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,O(e))}}(r);e.on("drain",l);var h=!1;function d(t){u("ondata");var n=e.write(t);u("dest.write",n),!1===n&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==F(s.pipes,e))&&!h&&(u("false write response, pause",s.awaitDrain),s.awaitDrain++),r.pause())}function f(t){u("onerror",t),g(),e.removeListener("error",f),0===i(e,"error")&&w(e,t)}function p(){e.removeListener("finish",m),g()}function m(){u("onfinish"),e.removeListener("close",p),g()}function g(){u("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",p),e.once("finish",m),e.emit("pipe",r),s.flowing||(u("pipe resume"),r.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=F(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?T(this):i.reading||n.nextTick(M,this))),r},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(j,this),r},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||n.nextTick(j,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(L,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&i!==undefined)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return h===undefined&&(h=e("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=U,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(t,n){return d===undefined&&(d=e("./internal/streams/from")),d(C,t,n)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/_stream_readable.js"}],[1358,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}}}},{package:"nanoid",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/nanoid/url-alphabet/index.cjs"}],[1300,{},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=e.map((e=>e.baseFeePerGas)),n=t[0],r=t[t.length-1];return r.gt(n)?"up":n.gt(r)?"down":"level"}}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/calculateBaseFeeTrend.js"}],[1302,{},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(e.length>0){const t=e[e.length-1].baseFeePerGas,n=e.map((e=>e.baseFeePerGas)).sort(((e,t)=>e.cmp(t))).findIndex((e=>e.gte(t)));return-1!==n?n/(e.length-1):0}return.5}}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/calculateNetworkCongestion.js"}],[1305,{"../../util":1335},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});const i=e("../../util");n.default=function(e,t=!1){return r(this,void 0,void 0,(function*(){const n=yield i.query(e,"blockNumber"),r=yield i.query(e,"getBlockByNumber",[n,t]);return Object.assign(Object.assign({},r),{number:i.fromHex(r.number),baseFeePerGas:i.fromHex(r.baseFeePerGas)})}))}}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/fetchLatestBlock.js"}],[1303,{"../../constants":1293,"ethereumjs-util":3195,"ethjs-unit":3247},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("ethereumjs-util"),i=e("ethjs-unit"),s=e("../../constants");n.default=function(e){const t=e.map((e=>e.priorityFeesByPercentile[10])).filter((e=>!e.eq(new r.BN(0)))).sort(((e,t)=>e.cmp(t))),n=e.map((e=>e.priorityFeesByPercentile[95])).sort(((e,t)=>e.cmp(t)));return[i.fromWei(t[0],s.GWEI),i.fromWei(n[n.length-1],s.GWEI)]}}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/calculatePriorityFeeRange.js"}],[1304,{"ethereumjs-util":3195},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("ethereumjs-util");n.default=function(e){const t=e.map((e=>e.priorityFeesByPercentile[50])).filter((e=>!e.eq(new r.BN(0)))),n=t[0],i=t[t.length-1];return i.gt(n)?"up":n.gt(i)?"down":"level"}}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/calculatePriorityFeeTrend.js"}],[1301,{"../../constants":1293,"./medianOf":1306,"ethereumjs-util":3195,"ethjs-unit":3247},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=e("ethereumjs-util"),s=e("ethjs-unit"),o=e("../../constants"),a=r(e("./medianOf")),u=["low","medium","high"],c={low:{percentile:10,baseFeePercentageMultiplier:new i.BN(110),priorityFeePercentageMultiplier:new i.BN(94),minSuggestedMaxPriorityFeePerGas:new i.BN(1e9),estimatedWaitTimes:{minWaitTimeEstimate:15e3,maxWaitTimeEstimate:3e4}},medium:{percentile:20,baseFeePercentageMultiplier:new i.BN(120),priorityFeePercentageMultiplier:new i.BN(97),minSuggestedMaxPriorityFeePerGas:new i.BN(15e8),estimatedWaitTimes:{minWaitTimeEstimate:15e3,maxWaitTimeEstimate:45e3}},high:{percentile:30,baseFeePercentageMultiplier:new i.BN(125),priorityFeePercentageMultiplier:new i.BN(98),minSuggestedMaxPriorityFeePerGas:new i.BN(2e9),estimatedWaitTimes:{minWaitTimeEstimate:15e3,maxWaitTimeEstimate:6e4}}};n.default=function(e){return u.reduce(((t,n)=>{const r=function(e,t){const n=c[e],r=t[t.length-1].baseFeePerGas.mul(n.baseFeePercentageMultiplier).divn(100),u=t.map((e=>e.priorityFeesByPercentile[n.percentile])),l=a.default(u).mul(n.priorityFeePercentageMultiplier).divn(100),h=i.BN.max(l,n.minSuggestedMaxPriorityFeePerGas),d=r.add(h);return Object.assign(Object.assign({},n.estimatedWaitTimes),{suggestedMaxPriorityFeePerGas:s.fromWei(h,o.GWEI),suggestedMaxFeePerGas:s.fromWei(d,o.GWEI)})}(n,e);return Object.assign(Object.assign({},t),{[n]:r})}),{})}}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/calculateGasFeeEstimatesForPriorityLevels.js"}],[1299,{"../../constants":1293,"ethjs-unit":3247},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("ethjs-unit"),i=e("../../constants");n.default=function(e){const t=e.map((e=>e.baseFeePerGas)).sort(((e,t)=>e.cmp(t)));return[r.fromWei(t[0],i.GWEI),r.fromWei(t[t.length-1],i.GWEI)]}}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/calculateBaseFeeRange.js"}],[1298,{"../fetchBlockFeeHistory":1296},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const s=i(e("../fetchBlockFeeHistory"));n.default=class{constructor({ethQuery:e,endBlockNumber:t}){this.ethQuery=e,this.endBlockNumber=t}forAll(){return r(this,void 0,void 0,(function*(){const[e,t,n,r]=yield Promise.all([this.forMediumRange(),this.forSmallRange(),this.forTinyRange(),this.forLatestWithNextBlock()]);return{mediumRange:e,smallRange:t,tinyRange:n,latest:r.slice(0,-1),latestWithNextBlock:r}}))}forMediumRange(){return this.fetchExcludingNextBlock({numberOfBlocks:200,percentiles:[10,95]})}forSmallRange(){return this.fetchExcludingNextBlock({numberOfBlocks:5,percentiles:[10,20,30]})}forTinyRange(){return this.fetchExcludingNextBlock({numberOfBlocks:2,percentiles:[50]})}forLatestWithNextBlock(){return this.fetchIncludingNextBlock({numberOfBlocks:1,percentiles:[10,95]})}fetchExcludingNextBlock(e){return s.default(Object.assign({ethQuery:this.ethQuery,endBlock:this.endBlockNumber},e))}fetchIncludingNextBlock(e){return s.default(Object.assign({ethQuery:this.ethQuery,endBlock:this.endBlockNumber,includeNextBlock:!0},e))}}}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/BlockFeeHistoryDatasetFetcher.js"}],[1320,{"../Permission":1317},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.networkAccessEndowmentBuilder=void 0;const r=e("../Permission"),i="endowment:network-access";n.networkAccessEndowmentBuilder=Object.freeze({targetKey:i,specificationBuilder:e=>({permissionType:r.PermissionType.Endowment,targetKey:i,allowedCaveats:null,endowmentGetter:e=>["fetch","WebSocket"]})})}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/permissions/endowments/network-access.js"}],[1321,{"eth-rpc-errors":3129},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionsRequestNotFoundError=n.DuplicateCaveatError=n.ForbiddenCaveatError=n.InvalidCaveatFieldsError=n.CaveatInvalidJsonError=n.CaveatMissingValueError=n.InvalidCaveatTypeError=n.InvalidCaveatError=n.CaveatAlreadyExistsError=n.CaveatDoesNotExistError=n.InvalidCaveatsPropertyError=n.UnrecognizedCaveatTypeError=n.EndowmentPermissionDoesNotExistError=n.PermissionDoesNotExistError=n.InvalidApprovedPermissionError=n.UnrecognizedSubjectError=n.InvalidSubjectIdentifierError=n.internalError=n.userRejectedRequest=n.invalidParams=n.methodNotFound=n.unauthorized=void 0;const r=e("eth-rpc-errors");n.unauthorized=function(e){return r.ethErrors.provider.unauthorized({message:"Unauthorized to perform action. Try requesting the required permission(s) first. For more information, see: https://docs.metamask.io/guide/rpc-api.html#permissions",data:e.data})},n.methodNotFound=function(e,t){const n={message:`The method "${e}" does not exist / is not available.`};return t!==undefined&&(n.data=t),r.ethErrors.rpc.methodNotFound(n)},n.invalidParams=function(e){return r.ethErrors.rpc.invalidParams({data:e.data,message:e.message})},n.userRejectedRequest=function(e){return r.ethErrors.provider.userRejectedRequest({data:e})},n.internalError=function(e,t){return r.ethErrors.rpc.internal({message:e,data:t})};class i extends Error{constructor(e){super(`Invalid subject identifier: "${"string"==typeof e?e:typeof e}"`)}}n.InvalidSubjectIdentifierError=i;class s extends Error{constructor(e){super(`Unrecognized subject: "${e}" has no permissions.`)}}n.UnrecognizedSubjectError=s;class o extends Error{constructor(e,t,n){super(`Invalid approved permission for origin "${e}" and target "${t}".`),this.data={origin:e,target:t,approvedPermission:n}}}n.InvalidApprovedPermissionError=o;class a extends Error{constructor(e,t){super(`Subject "${e}" has no permission for "${t}".`)}}n.PermissionDoesNotExistError=a;class u extends Error{constructor(e,t){super(`Subject "${t}" has no permission for "${e}".`),t&&(this.data={origin:t})}}n.EndowmentPermissionDoesNotExistError=u;class c extends Error{constructor(e,t,n){super(`Unrecognized caveat type: "${e}"`),this.data={caveatType:e},t!==undefined&&(this.data.origin=t),n!==undefined&&(this.data.target=n)}}n.UnrecognizedCaveatTypeError=c;class l extends Error{constructor(e,t,n){super(`The "caveats" property of permission for "${t}" of subject "${e}" is invalid. It must be a non-empty array if specified.`),this.data={origin:e,target:t,caveatsProperty:n}}}n.InvalidCaveatsPropertyError=l;class h extends Error{constructor(e,t,n){super(`Permission for "${t}" of subject "${e}" has no caveat of type "${n}".`)}}n.CaveatDoesNotExistError=h;class d extends Error{constructor(e,t,n){super(`Permission for "${t}" of subject "${e}" already has a caveat of type "${n}".`)}}n.CaveatAlreadyExistsError=d;class f extends r.EthereumRpcError{constructor(e,t,n){super(r.errorCodes.rpc.invalidParams,"Invalid caveat. Caveats must be plain objects.",{receivedCaveat:e}),this.data={origin:t,target:n}}}n.InvalidCaveatError=f;class p extends Error{constructor(e,t,n){super(`Caveat types must be strings. Received: "${typeof e.type}"`),this.data={caveat:e,origin:t,target:n}}}n.InvalidCaveatTypeError=p;class m extends Error{constructor(e,t,n){super('Caveat is missing "value" field.'),this.data={caveat:e,origin:t,target:n}}}n.CaveatMissingValueError=m;class g extends Error{constructor(e,t,n){super('Caveat "value" is invalid JSON.'),this.data={caveat:e,origin:t,target:n}}}n.CaveatInvalidJsonError=g;class y extends Error{constructor(e,t,n){super(`Caveat has unexpected number of fields: "${Object.keys(e).length}"`),this.data={caveat:e,origin:t,target:n}}}n.InvalidCaveatFieldsError=y;class b extends Error{constructor(e,t,n){super(`Permissions for target "${n}" may not have caveats of type "${e}".`),this.data={caveatType:e,origin:t,target:n}}}n.ForbiddenCaveatError=b;class _ extends Error{constructor(e,t,n){super(`Permissions for target "${n}" contains multiple caveats of type "${e}".`),this.data={caveatType:e,origin:t,target:n}}}n.DuplicateCaveatError=_;class v extends Error{constructor(e){super(`Permissions request with id "${e}" not found.`)}}n.PermissionsRequestNotFoundError=v}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/permissions/errors.js"}],[1323,{"./errors":1321,"json-rpc-engine":5419},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionMiddlewareFactory=void 0;const i=e("json-rpc-engine"),s=e("./errors");n.getPermissionMiddlewareFactory=function({executeRestrictedMethod:e,getRestrictedMethod:t,isUnrestrictedMethod:n}){return function(o){const{origin:a}=o;if("string"!=typeof a||!a)throw new Error('The subject "origin" must be a non-empty string.');return i.createAsyncMiddleware(((i,u,c)=>r(this,void 0,void 0,(function*(){const{method:r,params:l}=i;if(n(r))return c();const h=t(r,a),d=yield e(h,o,r,l);return d===undefined?(u.error=s.internalError(`Request for method "${i.method}" returned undefined result.`,{request:i}),undefined):(u.result=d,undefined)}))))}}}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/permissions/permission-middleware.js"}],[1324,{"../utils":1327},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionsHandler=void 0;const i=e("../utils");n.getPermissionsHandler={methodNames:[i.MethodNames.getPermissions],implementation:function(e,t,n,i,{getPermissionsForOrigin:s}){return r(this,void 0,void 0,(function*(){return t.result=Object.values(s()||{}),i()}))},hookNames:{getPermissionsForOrigin:!0}}}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/permissions/rpc-methods/getPermissions.js"}],[1326,{"../../util":1335,"../errors":1321,"../utils":1327,"eth-rpc-errors":3129},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.requestPermissionsHandler=void 0;const i=e("eth-rpc-errors"),s=e("../utils"),o=e("../errors"),a=e("../../util");n.requestPermissionsHandler={methodNames:[s.MethodNames.requestPermissions],implementation:function(e,t,n,s,{requestPermissionsForOrigin:u}){return r(this,void 0,void 0,(function*(){const{id:n,params:r}=e;if("number"!=typeof n&&"string"!=typeof n||"string"==typeof n&&!n)return s(i.ethErrors.rpc.invalidRequest({message:"Invalid request: Must specify a valid id.",data:{request:e}}));if(!Array.isArray(r)||!a.isPlainObject(r[0]))return s(o.invalidParams({data:{request:e}}));const[c]=r,[l]=yield u(c,String(n));return t.result=Object.values(l),s()}))},hookNames:{requestPermissionsForOrigin:!0}}}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/permissions/rpc-methods/requestPermissions.js"}],[1345,{"./lib/bytesToUuid":1343,"./lib/rng":1344},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./lib/rng"),i=e("./lib/bytesToUuid");t.exports=function(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[s+a]=o[a];return t||i(o)}}}},{package:"uuid",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/ethereumjs-wallet/node_modules/uuid/v4.js"}],[1342,{"./index":1341,"aes-js":2063,buffer:2478,crypto:2592,"ethereumjs-util":3195,"scrypt-js":6459,utf8:6722},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.fromQuorumWallet=n.fromKryptoKit=n.fromEtherCamp=n.fromEtherWallet=void 0;var s=e("crypto"),o=e("ethereumjs-util"),a=e("scrypt-js"),u=e("./index"),c=e("utf8"),l=e("aes-js");var h={count:1,keysize:16,ivsize:16,digest:"md5"};function d(e,n,r){var i=function(e){return e?{count:e.count||h.count,keysize:e.keysize||h.keysize,ivsize:e.ivsize||h.ivsize,digest:e.digest||h.digest}:h}(r);function o(t){var r=s.createHash(i.digest);r.update(t),r.update(e),r.update(n),t=r.digest();for(var o=1,a=i.count;o<a;o++)(r=s.createHash(i.digest)).update(t),t=r.digest();return t}for(var a=[],u=0;t.concat(a).length<i.keysize+i.ivsize;)a[u]=o(0===u?t.alloc(0):a[u-1]),u++;var c=t.concat(a);return{key:c.slice(0,i.keysize),iv:c.slice(i.keysize,i.keysize+i.ivsize)}}function f(e,n){var r,i="object"==typeof e?e:JSON.parse(e);if(i.locked){if("string"!=typeof n)throw new Error("Password required");if(n.length<7)throw new Error("Password must be at least 7 characters");var o=function(e){var n=t.from(e,"base64");return"Salted__"===n.slice(0,8).toString()?{salt:n.slice(8,16),ciphertext:n.slice(16)}:{ciphertext:n}}(i.encrypted?i.private.slice(0,128):i.private);if(!o.salt)throw new Error("Unsupported EtherWallet key format");var a=d(t.from(n),o.salt,{keysize:32,ivsize:16});r=function(e,n){return t.concat([e.update(n),e.final()])}(s.createDecipheriv("aes-256-cbc",a.key,a.iv),t.from(o.ciphertext)),r=t.from(c.decode(r.toString()),"hex")}else{if(64!==i.private.length)throw new Error("Invalid private key length");r=t.from(i.private,"hex")}var l=new u.default(r);if(l.getAddressString()!==i.address)throw new Error("Invalid private key or address");return l}function p(e){return new u.default(o.keccak256(t.from(e)))}function m(e,n){return r(this,void 0,void 0,(function(){var r,s,c,h,d,f,p;return i(this,(function(i){switch(i.label){case 0:return"#"===e[0]&&(e=e.slice(1)),r=e[0],e=e.slice(1),"d"!==r?[3,1]:(s=o.sha256(o.toBuffer(e)),[3,4]);case 1:if("q"!==r)return[3,3];if("string"!=typeof n)throw new Error("Password required");return c=o.sha256(t.from(e.slice(0,30))),h=e.slice(30,46),d=function(e){function n(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}for(var r="",i="",s=0;s<e.length;s++)e[s]<=127?(r+=n(i)+String.fromCharCode(e[s]),i=""):i+="%"+e[s].toString(16);return t.from(r+n(i))}(c),[4,a.scrypt(t.from(n,"utf8"),d,16384,8,1,32)];case 2:if(f=i.sent(),p=new l.ModeOfOperation.ecb(f),s=t.concat([t.from(p.decrypt(c.slice(0,16))),t.from(p.decrypt(c.slice(16,32)))]),h.length>0&&h!==o.sha256(o.sha256(s)).slice(0,8).toString("hex"))throw new Error("Failed to decrypt input - possibly invalid passphrase");return[3,4];case 3:throw new Error("Unsupported or invalid entropy type");case 4:return[2,new u.default(s)]}}))}))}function g(e,t){if(e.length<10)throw new Error("Passphrase must be at least 10 characters");if(t.length<10)throw new Error("User id must be at least 10 characters");var n=e+t,r=s.pbkdf2Sync(n,n,2e3,32,"sha256");return new u.default(r)}n.fromEtherWallet=f,n.fromEtherCamp=p,n.fromKryptoKit=m,n.fromQuorumWallet=g;var y={fromEtherWallet:f,fromEtherCamp:p,fromKryptoKit:m,fromQuorumWallet:g};n.default=y}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-wallet",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/ethereumjs-wallet/dist/thirdparty.js"}],[1340,{"./index":1341,"ethereum-cryptography/hdkey":3165},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./index"),i=e("ethereum-cryptography/hdkey"),s=function(){function e(e){this._hdkey=e}return e.fromMasterSeed=function(t){return new e(i.HDKey.fromMasterSeed(t))},e.fromExtendedKey=function(t){return new e(i.HDKey.fromExtendedKey(t))},e.prototype.privateExtendedKey=function(){if(!this._hdkey.privateExtendedKey)throw new Error("This is a public key only wallet");return this._hdkey.privateExtendedKey},e.prototype.publicExtendedKey=function(){return this._hdkey.publicExtendedKey},e.prototype.derivePath=function(t){return new e(this._hdkey.derive(t))},e.prototype.deriveChild=function(t){return new e(this._hdkey.deriveChild(t))},e.prototype.getWallet=function(){return this._hdkey._privateKey?r.default.fromPrivateKey(this._hdkey._privateKey):r.default.fromPublicKey(this._hdkey._publicKey,!0)},e}();n.default=s}}},{package:"ethereumjs-wallet",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/ethereumjs-wallet/dist/hdkey.js"}],[1339,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={1:"0x44691B39d1a75dC4E0A0346CBB15E310e6ED1E86"}}}},{package:"eth-method-registry",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/eth-method-registry/registry-map.json"}],[1337,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=[{constant:!1,inputs:[{name:"_new",type:"address"}],name:"setOwner",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSignatures",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[],name:"drain",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"",type:"bytes4"}],name:"entries",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_method",type:"string"}],name:"register",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{inputs:[],type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"creator",type:"address"},{indexed:!0,name:"signature",type:"bytes4"},{indexed:!1,name:"method",type:"string"}],name:"Registered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"old",type:"address"},{indexed:!0,name:"current",type:"address"}],name:"NewOwner",type:"event"}]}}},{package:"eth-method-registry",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/eth-method-registry/abi.json"}],[1354,{"./lib/getTransactionSuccess.js":1355,"bn.js":1336,buffer:2478,"ethjs-abi":1346,"ethjs-contract":1350,"ethjs-filter":3241,"ethjs-provider-http":3243,"ethjs-query":1353,"ethjs-unit":3247,"ethjs-util":3249,"js-sha3":1356,"number-to-bn":5994},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=e("ethjs-query"),i=e("ethjs-filter"),s=e("ethjs-contract"),o=e("ethjs-provider-http"),a=e("ethjs-abi"),u=e("ethjs-unit"),c=e("js-sha3").keccak_256,l=e("number-to-bn"),h=e("bn.js"),d=e("ethjs-util"),f=e("./lib/getTransactionSuccess.js");function p(e,t){if(!(this instanceof p))throw new Error('[ethjs] the Eth object requires you construct it with the "new" flag (i.e. `const eth = new Eth(...);`).');var n=this;n.options=t||{};var o=new r(e,n.options.query);Object.keys(Object.getPrototypeOf(o)).forEach((function(e){n[e]=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return o[e].apply(o,n)}})),n.filter=new i(o,n.options.query),n.contract=new s(o,n.options.query),n.currentProvider=o.rpc.currentProvider,n.setProvider=o.setProvider,n.getTransactionSuccess=f(n)}t.exports=p,p.BN=h,p.isAddress=function(e){return d.isHexString(e,20)},p.keccak256=function(e){return"0x"+c(e)},p.Buffer=n,p.isHexString=d.isHexString,p.fromWei=u.fromWei,p.toWei=u.toWei,p.toBN=l,p.abi=a,p.fromAscii=d.fromAscii,p.toAscii=d.toAscii,p.fromUtf8=d.fromUtf8,p.toUtf8=d.toUtf8,p.HttpProvider=o}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethjs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/ethjs/lib/index.js"}],[1499,{"./url-alphabet/index.cjs":1500},function(){with(this)return function(){"use strict";return function(e,t,n){let{urlAlphabet:r}=e("./url-alphabet/index.cjs");let i=e=>crypto.getRandomValues(new Uint8Array(e)),s=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return()=>{let s="";for(;;){let o=n(i),a=i;for(;a--;)if(s+=e[o[a]&r]||"",s.length===t)return s}}};t.exports={nanoid:(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t},customAlphabet:(e,t)=>s(e,t,i),customRandom:s,urlAlphabet:r,random:i}}}},{package:"nanoid",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/node_modules/nanoid/index.browser.cjs"}],[1455,{"./ComposedStore":1451,"./MergedStore":1452,"./ObservableStore":1453,"./asStream":1454,"./transform":1456},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./asStream"),n),i(e("./ComposedStore"),n),i(e("./MergedStore"),n),i(e("./ObservableStore"),n),i(e("./transform"),n)}}},{package:"@metamask/obs-store",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/node_modules/@metamask/obs-store/dist/index.js"}],[1231,{"./ObjectMultiplex":1229},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("./ObjectMultiplex");t.exports=r.ObjectMultiplex}}},{package:"@metamask/object-multiplex",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/object-multiplex/dist/index.js"}],[1191,{"./common/enums":1190},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./common/enums"),n)}}},{package:"@metamask/execution-environments",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/execution-environments/dist/index.js"}],[1498,{"./createEngineStream":1496,"./createStreamMiddleware":1497},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createStreamMiddleware=n.createEngineStream=void 0;const i=r(e("./createEngineStream"));n.createEngineStream=i.default;const s=r(e("./createStreamMiddleware"));n.createStreamMiddleware=s.default}}},{package:"json-rpc-middleware-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/node_modules/json-rpc-middleware-stream/dist/index.js"}],[1245,{"./WindowPostMessageStream":1241,"./WorkerParentPostMessageStream":1242,"./WorkerPostMessageStream":1243},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WorkerParentPostMessageStream=n.WorkerPostMessageStream=n.WindowPostMessageStream=void 0;var r=e("./WindowPostMessageStream");Object.defineProperty(n,"WindowPostMessageStream",{enumerable:!0,get:function(){return r.WindowPostMessageStream}});var i=e("./WorkerPostMessageStream");Object.defineProperty(n,"WorkerPostMessageStream",{enumerable:!0,get:function(){return i.WorkerPostMessageStream}});var s=e("./WorkerParentPostMessageStream");Object.defineProperty(n,"WorkerParentPostMessageStream",{enumerable:!0,get:function(){return s.WorkerParentPostMessageStream}})}}},{package:"@metamask/post-message-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/post-message-stream/dist/index.js"}],[1460,{buffer:2478,inherits:5094,"readable-stream":1475},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=e("readable-stream").Writable,i=e("inherits"),s=Uint8Array;function o(e,t){if(!(this instanceof o))return new o(e,t);"function"==typeof e&&(t=e,e={}),e||(e={});var n=e.encoding,i=!1;n?"u8"!==(n=String(n).toLowerCase())&&"uint8"!==n||(n="uint8array"):i=!0,r.call(this,{objectMode:!0}),this.encoding=n,this.shouldInferEncoding=i,t&&this.on("finish",(function(){t(this.getBody())})),this.body=[]}function a(e){return"string"==typeof e||(t=e,/Array\]$/.test(Object.prototype.toString.call(t)))||e&&"function"==typeof e.subarray;var t}t.exports=o,i(o,r),o.prototype._write=function(e,t,n){this.body.push(e),n()},o.prototype.inferEncoding=function(e){var t=e===undefined?this.body[0]:e;return n.isBuffer(t)?"buffer":"undefined"!=typeof Uint8Array&&t instanceof Uint8Array?"uint8array":Array.isArray(t)?"array":"string"==typeof t?"string":"[object Object]"===Object.prototype.toString.call(t)?"object":"buffer"},o.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?function(e){for(var t=[],n=0;n<e.length;n++)t.push.apply(t,e[n]);return t}(this.body):"string"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];"string"==typeof i||n.isBuffer(i)?t.push(i):a(i)?t.push(n.from(i)):t.push(n.from(String(i)))}t=n.isBuffer(e[0])?(t=n.concat(t)).toString("utf8"):t.join("");return t}(this.body):"buffer"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];n.isBuffer(i)?t.push(i):a(i)?t.push(n.from(i)):t.push(n.from(String(i)))}return n.concat(t)}(this.body):"uint8array"===this.encoding?function(e){for(var t=0,r=0;r<e.length;r++)"string"==typeof e[r]&&(e[r]=n.from(e[r])),t+=e[r].length;for(var i=new s(t),o=(r=0,0);r<e.length;r++)for(var a=e[r],u=0;u<a.length;u++)i[o++]=a[u];return i}(this.body):this.body):[]}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"concat-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/node_modules/concat-stream/index.js"}],[6413,{"readable-stream":6428},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ReadableWebToNodeStream=void 0;const r=e("readable-stream");class i extends r.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released)return void this.push(null);this.pendingRead=this.reader.read();const e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}n.ReadableWebToNodeStream=i}}},{package:"readable-web-to-node-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/readable-web-to-node-stream/lib/index.js"}],[6624,{"./extract":6622,"./pack":6643},function(){with(this)return function(){"use strict";return function(e,t,n){n.extract=e("./extract"),n.pack=e("./pack")}}},{package:"tar-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/tar-stream/index.js"}],[5007,{"is-deflate":5382,"is-gzip":5385,"peek-stream":6113,pumpify:5023,through2:5024,zlib:5009},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("zlib"),i=e("peek-stream"),s=e("through2"),o=e("pumpify"),a=e("is-gzip"),u=e("is-deflate"),c=function(e){return e===undefined&&(e=3),i({newline:!1,maxBuffer:10},(function(t,n){if(e<0)return n(new Error("Maximum recursion reached"));switch(function(e){return a(e)?1:u(e)?2:0}(t)){case 1:n(null,o(r.createGunzip(),c(e-1)));break;case 2:n(null,o(r.createInflate(),c(e-1)));break;default:n(null,s())}}))};t.exports=c}}},{package:"gunzip-maybe",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/gunzip-maybe/index.js"}],[1384,{"ajv/dist/runtime/equal":1457,"ajv/dist/runtime/ucs2length":1458},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=c,t.exports.default=c;const r={title:"Snap Manifest",description:"The Snap manifest file MUST be named `snap.manifest.json` and located in the package root directory.",type:"object",additionalProperties:!1,required:["version","description","proposedName","source","initialPermissions","manifestVersion"],properties:{version:{type:"string",title:"Version",description:"MUST be a valid SemVer version string and equal to the corresponding `package.json` field.",pattern:"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"},description:{type:"string",title:"Description",description:"MUST be a non-empty string less than or equal to 280 characters. A short description of the Snap.",minLength:1,maxLength:280},proposedName:{type:"string",title:"Proposed Name",description:"MUST be a string less than or equal to 214 characters. The Snap author's proposed name for the Snap. The Snap host application may display this name unmodified in its user interface. The proposed name SHOULD be human-readable.",minLength:1,maxLength:214,pattern:"^(?:[A-Za-z0-9-_]+( [A-Za-z0-9-_]+)*)|(?:(?:@[A-Za-z0-9-*~][A-Za-z0-9-*._~]*/)?[A-Za-z0-9-~][A-Za-z0-9-._~]*)$"},repository:{title:"Repository",description:"MAY be omitted. If present, MUST be equal to the corresponding package.json field.",oneOf:[{type:"null"},{type:"object",additionalProperties:!1,required:["type","url"],properties:{type:{type:"string",minLength:1},url:{type:"string",minLength:1}}}]},source:{type:"object",title:"Source",description:"Specifies some Snap metadata and where to fetch the Snap during installation.",additionalProperties:!1,required:["shasum","location"],properties:{shasum:{type:"string",description:"MUST be the Base64-encoded string representation of the SHA-256 hash of the Snap source file.",minLength:44,maxLength:44,pattern:"^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$"},location:{title:"Source Location",type:"object",additionalProperties:!1,required:["npm"],properties:{npm:{title:"npm",type:"object",additionalProperties:!1,required:["filePath","packageName","registry"],properties:{filePath:{type:"string",title:"File Path",description:"The path to the Snap bundle file from the project root directory.",minLength:1},iconPath:{type:"string",title:"Icon Path",description:"The path to an .svg file from the project root directory.",pattern:"\\w+\\.svg$"},packageName:{type:"string",title:"Package Name",description:"The Snap's npm package name.",minLength:1},registry:{type:"string",title:"npm Registry",description:"The npm registry URL.",enum:["https://registry.npmjs.org","https://registry.npmjs.org/"]}}}}}}},initialPermissions:{type:"object",title:"Initial Permissions",description:"MUST be a valid EIP-2255 wallet_requestPermissions parameter object, specifying the initial permissions that will be requested when the Snap is added to the host application."},manifestVersion:{type:"string",title:"Manifest Version",description:"The Snap manifest specification version targeted by the manifest.",enum:["0.1"]}}},i=new RegExp("^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$","u"),s=new RegExp("^(?:[A-Za-z0-9-_]+( [A-Za-z0-9-_]+)*)|(?:(?:@[A-Za-z0-9-*~][A-Za-z0-9-*._~]*/)?[A-Za-z0-9-~][A-Za-z0-9-._~]*)$","u"),o=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$","u"),a=new RegExp("\\w+\\.svg$","u"),u=e("ajv/dist/runtime/ucs2length").default;e("ajv/dist/runtime/equal").default;function c(e,{instancePath:t="",parentData:n,parentDataProperty:l,rootData:h=e}={}){let d=null,f=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(e.version===undefined){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"version"},message:"must have required property '"+"version"+"'"};null===d?d=[e]:d.push(e),f++}if(e.description===undefined){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"description"},message:"must have required property '"+"description"+"'"};null===d?d=[e]:d.push(e),f++}if(e.proposedName===undefined){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"proposedName"},message:"must have required property '"+"proposedName"+"'"};null===d?d=[e]:d.push(e),f++}if(e.source===undefined){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"source"},message:"must have required property '"+"source"+"'"};null===d?d=[e]:d.push(e),f++}if(e.initialPermissions===undefined){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"initialPermissions"},message:"must have required property '"+"initialPermissions"+"'"};null===d?d=[e]:d.push(e),f++}if(e.manifestVersion===undefined){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"manifestVersion"},message:"must have required property '"+"manifestVersion"+"'"};null===d?d=[e]:d.push(e),f++}for(const n in e)if("version"!==n&&"description"!==n&&"proposedName"!==n&&"repository"!==n&&"source"!==n&&"initialPermissions"!==n&&"manifestVersion"!==n){const e={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===d?d=[e]:d.push(e),f++}if(e.version!==undefined){let n=e.version;if("string"==typeof n){if(!i.test(n)){const e={instancePath:t+"/version",schemaPath:"#/properties/version/pattern",keyword:"pattern",params:{pattern:"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"},message:'must match pattern "'+"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"+'"'};null===d?d=[e]:d.push(e),f++}}else{const e={instancePath:t+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[e]:d.push(e),f++}}if(e.description!==undefined){let n=e.description;if("string"==typeof n){if(u(n)>280){const e={instancePath:t+"/description",schemaPath:"#/properties/description/maxLength",keyword:"maxLength",params:{limit:280},message:"must NOT have more than 280 characters"};null===d?d=[e]:d.push(e),f++}if(u(n)<1){const e={instancePath:t+"/description",schemaPath:"#/properties/description/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===d?d=[e]:d.push(e),f++}}else{const e={instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[e]:d.push(e),f++}}if(e.proposedName!==undefined){let n=e.proposedName;if("string"==typeof n){if(u(n)>214){const e={instancePath:t+"/proposedName",schemaPath:"#/properties/proposedName/maxLength",keyword:"maxLength",params:{limit:214},message:"must NOT have more than 214 characters"};null===d?d=[e]:d.push(e),f++}if(u(n)<1){const e={instancePath:t+"/proposedName",schemaPath:"#/properties/proposedName/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===d?d=[e]:d.push(e),f++}if(!s.test(n)){const e={instancePath:t+"/proposedName",schemaPath:"#/properties/proposedName/pattern",keyword:"pattern",params:{pattern:"^(?:[A-Za-z0-9-_]+( [A-Za-z0-9-_]+)*)|(?:(?:@[A-Za-z0-9-*~][A-Za-z0-9-*._~]*/)?[A-Za-z0-9-~][A-Za-z0-9-._~]*)$"},message:'must match pattern "'+"^(?:[A-Za-z0-9-_]+( [A-Za-z0-9-_]+)*)|(?:(?:@[A-Za-z0-9-*~][A-Za-z0-9-*._~]*/)?[A-Za-z0-9-~][A-Za-z0-9-._~]*)$"+'"'};null===d?d=[e]:d.push(e),f++}}else{const e={instancePath:t+"/proposedName",schemaPath:"#/properties/proposedName/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[e]:d.push(e),f++}}if(e.repository!==undefined){let n=e.repository;const r=f;let i=!1,s=null;const o=f;if(null!==n){const e={instancePath:t+"/repository",schemaPath:"#/properties/repository/oneOf/0/type",keyword:"type",params:{type:"null"},message:"must be null"};null===d?d=[e]:d.push(e),f++}(p=o===f)&&(i=!0,s=0);const a=f;if(n&&"object"==typeof n&&!Array.isArray(n)){if(n.type===undefined){const e={instancePath:t+"/repository",schemaPath:"#/properties/repository/oneOf/1/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property '"+"type"+"'"};null===d?d=[e]:d.push(e),f++}if(n.url===undefined){const e={instancePath:t+"/repository",schemaPath:"#/properties/repository/oneOf/1/required",keyword:"required",params:{missingProperty:"url"},message:"must have required property '"+"url"+"'"};null===d?d=[e]:d.push(e),f++}for(const e in n)if("type"!==e&&"url"!==e){const n={instancePath:t+"/repository",schemaPath:"#/properties/repository/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"};null===d?d=[n]:d.push(n),f++}if(n.type!==undefined){let e=n.type;if("string"==typeof e){if(u(e)<1){const e={instancePath:t+"/repository/type",schemaPath:"#/properties/repository/oneOf/1/properties/type/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===d?d=[e]:d.push(e),f++}}else{const e={instancePath:t+"/repository/type",schemaPath:"#/properties/repository/oneOf/1/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[e]:d.push(e),f++}}if(n.url!==undefined){let e=n.url;if("string"==typeof e){if(u(e)<1){const e={instancePath:t+"/repository/url",schemaPath:"#/properties/repository/oneOf/1/properties/url/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===d?d=[e]:d.push(e),f++}}else{const e={instancePath:t+"/repository/url",schemaPath:"#/properties/repository/oneOf/1/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[e]:d.push(e),f++}}}else{const e={instancePath:t+"/repository",schemaPath:"#/properties/repository/oneOf/1/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[e]:d.push(e),f++}var p;if((p=a===f)&&i?(i=!1,s=[s,1]):p&&(i=!0,s=1),i)f=r,null!==d&&(r?d.length=r:d=null);else{const e={instancePath:t+"/repository",schemaPath:"#/properties/repository/oneOf",keyword:"oneOf",params:{passingSchemas:s},message:"must match exactly one schema in oneOf"};null===d?d=[e]:d.push(e),f++}}if(e.source!==undefined){let n=e.source;if(n&&"object"==typeof n&&!Array.isArray(n)){if(n.shasum===undefined){const e={instancePath:t+"/source",schemaPath:"#/properties/source/required",keyword:"required",params:{missingProperty:"shasum"},message:"must have required property '"+"shasum"+"'"};null===d?d=[e]:d.push(e),f++}if(n.location===undefined){const e={instancePath:t+"/source",schemaPath:"#/properties/source/required",keyword:"required",params:{missingProperty:"location"},message:"must have required property '"+"location"+"'"};null===d?d=[e]:d.push(e),f++}for(const e in n)if("shasum"!==e&&"location"!==e){const n={instancePath:t+"/source",schemaPath:"#/properties/source/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"};null===d?d=[n]:d.push(n),f++}if(n.shasum!==undefined){let e=n.shasum;if("string"==typeof e){if(u(e)>44){const e={instancePath:t+"/source/shasum",schemaPath:"#/properties/source/properties/shasum/maxLength",keyword:"maxLength",params:{limit:44},message:"must NOT have more than 44 characters"};null===d?d=[e]:d.push(e),f++}if(u(e)<44){const e={instancePath:t+"/source/shasum",schemaPath:"#/properties/source/properties/shasum/minLength",keyword:"minLength",params:{limit:44},message:"must NOT have fewer than 44 characters"};null===d?d=[e]:d.push(e),f++}if(!o.test(e)){const e={instancePath:t+"/source/shasum",schemaPath:"#/properties/source/properties/shasum/pattern",keyword:"pattern",params:{pattern:"^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$"},message:'must match pattern "'+"^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$"+'"'};null===d?d=[e]:d.push(e),f++}}else{const e={instancePath:t+"/source/shasum",schemaPath:"#/properties/source/properties/shasum/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[e]:d.push(e),f++}}if(n.location!==undefined){let e=n.location;if(e&&"object"==typeof e&&!Array.isArray(e)){if(e.npm===undefined){const e={instancePath:t+"/source/location",schemaPath:"#/properties/source/properties/location/required",keyword:"required",params:{missingProperty:"npm"},message:"must have required property '"+"npm"+"'"};null===d?d=[e]:d.push(e),f++}for(const n in e)if("npm"!==n){const e={instancePath:t+"/source/location",schemaPath:"#/properties/source/properties/location/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===d?d=[e]:d.push(e),f++}if(e.npm!==undefined){let n=e.npm;if(n&&"object"==typeof n&&!Array.isArray(n)){if(n.filePath===undefined){const e={instancePath:t+"/source/location/npm",schemaPath:"#/properties/source/properties/location/properties/npm/required",keyword:"required",params:{missingProperty:"filePath"},message:"must have required property '"+"filePath"+"'"};null===d?d=[e]:d.push(e),f++}if(n.packageName===undefined){const e={instancePath:t+"/source/location/npm",schemaPath:"#/properties/source/properties/location/properties/npm/required",keyword:"required",params:{missingProperty:"packageName"},message:"must have required property '"+"packageName"+"'"};null===d?d=[e]:d.push(e),f++}if(n.registry===undefined){const e={instancePath:t+"/source/location/npm",schemaPath:"#/properties/source/properties/location/properties/npm/required",keyword:"required",params:{missingProperty:"registry"},message:"must have required property '"+"registry"+"'"};null===d?d=[e]:d.push(e),f++}for(const e in n)if("filePath"!==e&&"iconPath"!==e&&"packageName"!==e&&"registry"!==e){const n={instancePath:t+"/source/location/npm",schemaPath:"#/properties/source/properties/location/properties/npm/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"};null===d?d=[n]:d.push(n),f++}if(n.filePath!==undefined){let e=n.filePath;if("string"==typeof e){if(u(e)<1){const e={instancePath:t+"/source/location/npm/filePath",schemaPath:"#/properties/source/properties/location/properties/npm/properties/filePath/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===d?d=[e]:d.push(e),f++}}else{const e={instancePath:t+"/source/location/npm/filePath",schemaPath:"#/properties/source/properties/location/properties/npm/properties/filePath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[e]:d.push(e),f++}}if(n.iconPath!==undefined){let e=n.iconPath;if("string"==typeof e){if(!a.test(e)){const e={instancePath:t+"/source/location/npm/iconPath",schemaPath:"#/properties/source/properties/location/properties/npm/properties/iconPath/pattern",keyword:"pattern",params:{pattern:"\\w+\\.svg$"},message:'must match pattern "'+"\\w+\\.svg$"+'"'};null===d?d=[e]:d.push(e),f++}}else{const e={instancePath:t+"/source/location/npm/iconPath",schemaPath:"#/properties/source/properties/location/properties/npm/properties/iconPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[e]:d.push(e),f++}}if(n.packageName!==undefined){let e=n.packageName;if("string"==typeof e){if(u(e)<1){const e={instancePath:t+"/source/location/npm/packageName",schemaPath:"#/properties/source/properties/location/properties/npm/properties/packageName/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===d?d=[e]:d.push(e),f++}}else{const e={instancePath:t+"/source/location/npm/packageName",schemaPath:"#/properties/source/properties/location/properties/npm/properties/packageName/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[e]:d.push(e),f++}}if(n.registry!==undefined){let e=n.registry;if("string"!=typeof e){const e={instancePath:t+"/source/location/npm/registry",schemaPath:"#/properties/source/properties/location/properties/npm/properties/registry/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[e]:d.push(e),f++}if("https://registry.npmjs.org"!==e&&"https://registry.npmjs.org/"!==e){const e={instancePath:t+"/source/location/npm/registry",schemaPath:"#/properties/source/properties/location/properties/npm/properties/registry/enum",keyword:"enum",params:{allowedValues:r.properties.source.properties.location.properties.npm.properties.registry.enum},message:"must be equal to one of the allowed values"};null===d?d=[e]:d.push(e),f++}}}else{const e={instancePath:t+"/source/location/npm",schemaPath:"#/properties/source/properties/location/properties/npm/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[e]:d.push(e),f++}}}else{const e={instancePath:t+"/source/location",schemaPath:"#/properties/source/properties/location/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[e]:d.push(e),f++}}}else{const e={instancePath:t+"/source",schemaPath:"#/properties/source/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[e]:d.push(e),f++}}if(e.initialPermissions!==undefined){let n=e.initialPermissions;if(!n||"object"!=typeof n||Array.isArray(n)){const e={instancePath:t+"/initialPermissions",schemaPath:"#/properties/initialPermissions/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[e]:d.push(e),f++}}if(e.manifestVersion!==undefined){let n=e.manifestVersion;if("string"!=typeof n){const e={instancePath:t+"/manifestVersion",schemaPath:"#/properties/manifestVersion/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[e]:d.push(e),f++}if("0.1"!==n){const e={instancePath:t+"/manifestVersion",schemaPath:"#/properties/manifestVersion/enum",keyword:"enum",params:{allowedValues:r.properties.manifestVersion.enum},message:"must be equal to one of the allowed values"};null===d?d=[e]:d.push(e),f++}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[e]:d.push(e),f++}return c.errors=d,d}}}},{package:"@metamask/snap-controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/dist/snaps/json-schemas/validateSnapManifest.js"}],[1383,{"ajv/dist/runtime/equal":1457,"ajv/dist/runtime/ucs2length":1458},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=a,t.exports.default=a;const r={title:"npm Snap package.json",type:"object",required:["version","name"],properties:{version:{type:"string",title:"Version",pattern:"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"},name:{type:"string",title:"Package Name",minLength:1,maxLength:214,pattern:"^(?:@[a-z0-9-*~][a-z0-9-*._~]*/)?[a-z0-9-~][a-z0-9-._~]*$"},private:{type:"boolean",title:"Private"},main:{type:"string",title:"Main",minLength:1},publishConfig:{type:"object",title:"Publish Config",required:["registry"],properties:{access:{type:"string",minLength:1},registry:{type:"string",enum:["https://registry.npmjs.org","https://registry.npmjs.org/"]}}},repository:{type:"object",title:"Repository",additionalProperties:!1,required:["type","url"],properties:{type:{type:"string",minLength:1},url:{type:"string",minLength:1}}}}},i=new RegExp("^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$","u"),s=new RegExp("^(?:@[a-z0-9-*~][a-z0-9-*._~]*/)?[a-z0-9-~][a-z0-9-._~]*$","u"),o=e("ajv/dist/runtime/ucs2length").default;e("ajv/dist/runtime/equal").default;function a(e,{instancePath:t="",parentData:n,parentDataProperty:u,rootData:c=e}={}){let l=null;if(e&&"object"==typeof e&&!Array.isArray(e)){if(e.version===undefined){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"version"},message:"must have required property '"+"version"+"'"};null===l?l=[e]:l.push(e)}if(e.name===undefined){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property '"+"name"+"'"};null===l?l=[e]:l.push(e)}if(e.version!==undefined){let n=e.version;if("string"==typeof n){if(!i.test(n)){const e={instancePath:t+"/version",schemaPath:"#/properties/version/pattern",keyword:"pattern",params:{pattern:"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"},message:'must match pattern "'+"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"+'"'};null===l?l=[e]:l.push(e)}}else{const e={instancePath:t+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[e]:l.push(e)}}if(e.name!==undefined){let n=e.name;if("string"==typeof n){if(o(n)>214){const e={instancePath:t+"/name",schemaPath:"#/properties/name/maxLength",keyword:"maxLength",params:{limit:214},message:"must NOT have more than 214 characters"};null===l?l=[e]:l.push(e)}if(o(n)<1){const e={instancePath:t+"/name",schemaPath:"#/properties/name/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===l?l=[e]:l.push(e)}if(!s.test(n)){const e={instancePath:t+"/name",schemaPath:"#/properties/name/pattern",keyword:"pattern",params:{pattern:"^(?:@[a-z0-9-*~][a-z0-9-*._~]*/)?[a-z0-9-~][a-z0-9-._~]*$"},message:'must match pattern "'+"^(?:@[a-z0-9-*~][a-z0-9-*._~]*/)?[a-z0-9-~][a-z0-9-._~]*$"+'"'};null===l?l=[e]:l.push(e)}}else{const e={instancePath:t+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[e]:l.push(e)}}if(e.private!==undefined&&"boolean"!=typeof e.private){const e={instancePath:t+"/private",schemaPath:"#/properties/private/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[e]:l.push(e)}if(e.main!==undefined){let n=e.main;if("string"==typeof n){if(o(n)<1){const e={instancePath:t+"/main",schemaPath:"#/properties/main/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===l?l=[e]:l.push(e)}}else{const e={instancePath:t+"/main",schemaPath:"#/properties/main/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[e]:l.push(e)}}if(e.publishConfig!==undefined){let n=e.publishConfig;if(n&&"object"==typeof n&&!Array.isArray(n)){if(n.registry===undefined){const e={instancePath:t+"/publishConfig",schemaPath:"#/properties/publishConfig/required",keyword:"required",params:{missingProperty:"registry"},message:"must have required property '"+"registry"+"'"};null===l?l=[e]:l.push(e)}if(n.access!==undefined){let e=n.access;if("string"==typeof e){if(o(e)<1){const e={instancePath:t+"/publishConfig/access",schemaPath:"#/properties/publishConfig/properties/access/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===l?l=[e]:l.push(e)}}else{const e={instancePath:t+"/publishConfig/access",schemaPath:"#/properties/publishConfig/properties/access/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[e]:l.push(e)}}if(n.registry!==undefined){let e=n.registry;if("string"!=typeof e){const e={instancePath:t+"/publishConfig/registry",schemaPath:"#/properties/publishConfig/properties/registry/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[e]:l.push(e)}if("https://registry.npmjs.org"!==e&&"https://registry.npmjs.org/"!==e){const e={instancePath:t+"/publishConfig/registry",schemaPath:"#/properties/publishConfig/properties/registry/enum",keyword:"enum",params:{allowedValues:r.properties.publishConfig.properties.registry.enum},message:"must be equal to one of the allowed values"};null===l?l=[e]:l.push(e)}}}else{const e={instancePath:t+"/publishConfig",schemaPath:"#/properties/publishConfig/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[e]:l.push(e)}}if(e.repository!==undefined){let n=e.repository;if(n&&"object"==typeof n&&!Array.isArray(n)){if(n.type===undefined){const e={instancePath:t+"/repository",schemaPath:"#/properties/repository/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property '"+"type"+"'"};null===l?l=[e]:l.push(e)}if(n.url===undefined){const e={instancePath:t+"/repository",schemaPath:"#/properties/repository/required",keyword:"required",params:{missingProperty:"url"},message:"must have required property '"+"url"+"'"};null===l?l=[e]:l.push(e)}for(const e in n)if("type"!==e&&"url"!==e){const n={instancePath:t+"/repository",schemaPath:"#/properties/repository/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"};null===l?l=[n]:l.push(n)}if(n.type!==undefined){let e=n.type;if("string"==typeof e){if(o(e)<1){const e={instancePath:t+"/repository/type",schemaPath:"#/properties/repository/properties/type/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===l?l=[e]:l.push(e)}}else{const e={instancePath:t+"/repository/type",schemaPath:"#/properties/repository/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[e]:l.push(e)}}if(n.url!==undefined){let e=n.url;if("string"==typeof e){if(o(e)<1){const e={instancePath:t+"/repository/url",schemaPath:"#/properties/repository/properties/url/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===l?l=[e]:l.push(e)}}else{const e={instancePath:t+"/repository/url",schemaPath:"#/properties/repository/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[e]:l.push(e)}}}else{const e={instancePath:t+"/repository",schemaPath:"#/properties/repository/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[e]:l.push(e)}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[e]:l.push(e)}return a.errors=l,l}}}},{package:"@metamask/snap-controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/dist/snaps/json-schemas/validateNpmSnapPackageJson.js"}],[1378,{},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RequestQueue=void 0;n.RequestQueue=class{constructor(e){this.maxQueueSize=e,this.queueSizes=new Map}increment(e){var t;const n=null!==(t=this.queueSizes.get(e))&&void 0!==t?t:0;if(n>=this.maxQueueSize)throw new Error("Maximum number of requests reached. Try again later.");this.queueSizes.set(e,n+1)}decrement(e){var t;const n=null!==(t=this.queueSizes.get(e))&&void 0!==t?t:0;if(0===n)throw new Error(`Cannot decrement, ${e} does not have any outstanding requests.`);this.queueSizes.set(e,n-1)}get(e){var t;return null!==(t=this.queueSizes.get(e))&&void 0!==t?t:0}}}}},{package:"@metamask/snap-controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/dist/snaps/RequestQueue.js"}],[1423,{"./BaseController":1387,"./BaseControllerV2":1388,"./ComposableController":1389,"./ControllerMessenger":1390,"./approval/ApprovalController":1393,"./assets/AccountTrackerController":1394,"./assets/AssetsContractController":1395,"./assets/CollectibleDetectionController":1396,"./assets/CollectiblesController":1397,"./assets/CurrencyRateController":1398,"./assets/TokenBalancesController":1402,"./assets/TokenDetectionController":1403,"./assets/TokenListController":1404,"./assets/TokenRatesController":1405,"./assets/TokensController":1406,"./gas/GasFeeController":1409,"./keyring/KeyringController":1424,"./message-manager/MessageManager":1426,"./message-manager/PersonalMessageManager":1427,"./message-manager/TypedMessageManager":1428,"./network/NetworkController":1429,"./notification/NotificationController":1430,"./permissions":1437,"./ratelimit/RateLimitController":1443,"./subject-metadata":1445,"./third-party/PhishingController":1446,"./transaction/TransactionController":1447,"./user/AddressBookController":1448,"./user/PreferencesController":1449,"./util":1450,"isomorphic-fetch":5406},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.util=n.getAnonymizedState=n.getPersistentState=n.BaseControllerV2=void 0,e("isomorphic-fetch");const a=s(e("./util"));n.util=a,o(e("./assets/AccountTrackerController"),n),o(e("./user/AddressBookController"),n),o(e("./approval/ApprovalController"),n),o(e("./assets/AssetsContractController"),n),o(e("./BaseController"),n);var u=e("./BaseControllerV2");Object.defineProperty(n,"BaseControllerV2",{enumerable:!0,get:function(){return u.BaseController}}),Object.defineProperty(n,"getPersistentState",{enumerable:!0,get:function(){return u.getPersistentState}}),Object.defineProperty(n,"getAnonymizedState",{enumerable:!0,get:function(){return u.getAnonymizedState}}),o(e("./ComposableController"),n),o(e("./ControllerMessenger"),n),o(e("./assets/CurrencyRateController"),n),o(e("./keyring/KeyringController"),n),o(e("./message-manager/MessageManager"),n),o(e("./network/NetworkController"),n),o(e("./third-party/PhishingController"),n),o(e("./user/PreferencesController"),n),o(e("./assets/TokenBalancesController"),n),o(e("./assets/TokenRatesController"),n),o(e("./transaction/TransactionController"),n),o(e("./message-manager/PersonalMessageManager"),n),o(e("./message-manager/TypedMessageManager"),n),o(e("./notification/NotificationController"),n),o(e("./assets/TokenListController"),n),o(e("./gas/GasFeeController"),n),o(e("./assets/TokensController"),n),o(e("./assets/CollectiblesController"),n),o(e("./assets/TokenDetectionController"),n),o(e("./assets/CollectibleDetectionController"),n),o(e("./permissions"),n),o(e("./subject-metadata"),n),o(e("./ratelimit/RateLimitController"),n)}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/node_modules/@metamask/controllers/dist/index.js"}],[1201,{"./bip32":1199,"./bip39":1200},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.derivers=void 0;const o=s(e("./bip32")),a=s(e("./bip39"));n.derivers={bip32:o,bip39:a}}}},{package:"@metamask/key-tree",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/key-tree/dist/derivers/index.js"}],[6148,{},function(){with(this)return function(){"use strict";return function(e,t,n){
/*!
  * prr
  * (c) 2013 Rod Vagg <rod@vagg.org>
  * https://github.com/rvagg/prr
  * License: MIT
  */
var r,i;r=this,i=function(){var e="function"==typeof Object.defineProperty?function(e,t,n){return Object.defineProperty(e,t,n),e}:function(e,t,n){return e[t]=n.value,e};return function(t,n,r,i){var s;if(i=function(e,t){var n="object"==typeof t,r=!n&&"string"==typeof t,i=function(e){return n?!!t[e]:!!r&&t.indexOf(e[0])>-1};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:e}}(r,i),"object"==typeof n){for(s in n)Object.hasOwnProperty.call(n,s)&&(i.value=n[s],e(t,s,i));return t}return e(t,n,i)}},void 0!==t&&t.exports?t.exports=i():r.prr=i()}}},{package:"prr",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/prr/prr.js"}],[5480,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function s(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(n===undefined||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(s(t,"type"));else{var u=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(u," ").concat(r," ").concat(s(t,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/errors-browser.js"}],[5493,{events:2479},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e("events").EventEmitter}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[5488,{_process:6127},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,s){var o=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(s?s(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!s&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(r,o):(o._writableState.errorEmitted=!0,e.nextTick(n,o,t)):e.nextTick(n,o,t):s?(e.nextTick(r,o),s(t)):e.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[5492,{"../../../errors":5480},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var s=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new r(i?n:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/state.js"}],[5490,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[5487,{buffer:2478,util:2477},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=e("buffer").Buffer,a=e("util").inspect,u=a&&a.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,c;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,n,r,i=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=i,r=a,o.prototype.copy.call(t,n,r),a+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?r+=i:r+=i.slice(0,e),0==(e-=s)){s===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(s));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&s(t.prototype,n),c&&s(t,c),e}()}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[5486,{"./end-of-stream":5489,_process:6127},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=e("./end-of-stream"),o=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var n=e[d].read();null!==n&&(e[l]=null,e[o]=null,e[a]=null,t(f(n,!1)))}}function m(e){n.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(r={get stream(){return this[d]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(f(undefined,!0));if(this[d].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[u]?r(e[u]):t(f(undefined,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[c]?n(f(undefined,!0)):t[h](n,r)}),r)}}(i,this));else{var s=this[d].read();if(null!==s)return Promise.resolve(f(s,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(f(undefined,!0))}))}))})),r),g);t.exports=function(e){var t,n=Object.create(y,(i(t={},d,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[d].read();r?(n[l]=null,n[o]=null,n[a]=null,e(f(r,!1))):(n[o]=e,n[a]=t)},writable:!0}),t));return n[l]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[l]=null,n[o]=null,n[a]=null,t(e)),void(n[u]=e)}var r=n[o];null!==r&&(n[l]=null,n[o]=null,n[a]=null,r(f(undefined,!0))),n[c]=!0})),e.on("readable",m.bind(null,n)),n}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[5495,{"safe-buffer":6450},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return n!==undefined?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}n.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if((t=this.fillLast(e))===undefined)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}}}},{package:"string_decoder",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/level-iterator-stream/node_modules/string_decoder/lib/string_decoder.js"}],[5078,{stream:2481,xtend:6886},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("stream"),i=e("xtend");t.exports=function(e,t,n){if("object"!=typeof e)throw new TypeError("db must be an object");if("string"!=typeof t)throw new TypeError("storeName must be a string");if(null==n&&(n={}),"object"!=typeof n)throw new TypeError("opts must be an object");var s=new r.Transform(i(n,{objectMode:!0,transform:function(e,t,n){n(null,e)}}));n=i({snapshot:!1},n);var o=null;return s._cursorsOpened=0,function r(){var i,a,u,c,l,h=n.direction||"next",d=n.range||{};i=d.lower,a=d.upper,u=!!d.lowerOpen,c=!!d.upperOpen,o&&("next"===h?(u=!0,i=o):(c=!0,a=o)),i&&a?l=IDBKeyRange.bound(i,a,u,c):i?l=IDBKeyRange.lowerBound(i,u):a&&(l=IDBKeyRange.upperBound(a,c));var f=e.transaction(t,"readonly"),p=f.objectStore(t);s._cursorsOpened++;var m=p.openCursor(l,n.direction);function g(e){try{e.continue()}catch(e){"TransactionInactiveError"!==e.name||n.snapshot?s.emit("error",e):r()}}m.onsuccess=function(){var e=m.result;if(e){o=e.key;var t=s.write({key:e.key,value:e.value});n.snapshot||t?g(e):s.once("drain",(function(){g(e)}))}else s.end()},f.onabort=function(){s.emit("error",f.error)},f.onerror=function(){s.emit("error",f.error)}}(),s}}}},{package:"idb-readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/idb-readable-stream/index.js"}],[2642,{_process:6127},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){function n(e){this.db=e,this._ended=!1,this._nexting=!1}n.prototype.next=function(t){var n=this;if("function"!=typeof t)throw new Error("next() requires a callback argument");return n._ended?t(new Error("cannot call next() after end()")):n._nexting?t(new Error("cannot call next() before previous next() has completed")):(n._nexting=!0,"function"==typeof n._next?n._next((function(){n._nexting=!1,t.apply(null,arguments)})):void e.nextTick((function(){n._nexting=!1,t()})))},n.prototype.end=function(t){if("function"!=typeof t)throw new Error("end() requires a callback argument");return this._ended?t(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(t):void e.nextTick(t))},t.exports=n}).call(this)}).call(this,e("_process"))}}},{package:"abstract-leveldown",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/datastore-level/node_modules/abstract-leveldown/abstract-iterator.js"}],[2641,{_process:6127},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){function n(e){this._db=e,this._operations=[],this._written=!1}n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(e,t){this._checkWritten();var n=this._db._checkKey(e,"key",this._db._isBuffer);if(n)throw n;return this._db._isBuffer(e)||(e=String(e)),this._db._isBuffer(t)||(t=String(t)),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},n.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return this._db._isBuffer(e)||(e=String(e)),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},n.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},n.prototype.write=function(t,n){if(this._checkWritten(),"function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("write() requires a callback argument");return"object"!=typeof t&&(t={}),this._written=!0,"function"==typeof this._write?this._write(n):"function"==typeof this._db._batch?this._db._batch(this._operations,t,n):void e.nextTick(n)},t.exports=n}).call(this)}).call(this,e("_process"))}}},{package:"abstract-leveldown",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/datastore-level/node_modules/abstract-leveldown/abstract-chained-batch.js"}],[2645,{"./abstract-leveldown":2643},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./abstract-leveldown");t.exports=function(e){return!(!e||"object"!=typeof e)&&Object.keys(r.prototype).filter((function(e){return"_"!=e[0]&&"approximateSize"!=e})).every((function(t){return"function"==typeof e[t]}))}}}},{package:"abstract-leveldown",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/datastore-level/node_modules/abstract-leveldown/is-leveldown.js"}],[2643,{"../../../is-buffer/index.js":5378,"./abstract-chained-batch":2641,"./abstract-iterator":2642,_process:6127,xtend:6886},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n,r){(function(){var i=e("xtend"),s=e("./abstract-iterator"),o=e("./abstract-chained-batch");function a(e){if(!arguments.length||e===undefined)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}a.prototype.open=function(e,t){var n=this,i=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,(function(e){if(e)return n.status=i,t(e);n.status="open",t()}))):(this.status="open",r.nextTick(t))},a.prototype.close=function(e){var t=this,n=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close((function(r){if(r)return t.status=n,e(r);t.status="closed",e()}))):(this.status="closed",r.nextTick(e))},a.prototype.get=function(e,t,n){var i;if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("get() requires a callback argument");return(i=this._checkKey(e,"key",this._isBuffer))?n(i):(this._isBuffer(e)||(e=String(e)),"object"!=typeof t&&(t={}),t.asBuffer=0!=t.asBuffer,"function"==typeof this._get?this._get(e,t,n):void r.nextTick((function(){n(new Error("NotFound"))})))},a.prototype.put=function(e,t,n,i){var s;if("function"==typeof n&&(i=n),"function"!=typeof i)throw new Error("put() requires a callback argument");return(s=this._checkKey(e,"key",this._isBuffer))?i(s):(this._isBuffer(e)||(e=String(e)),null==t||this._isBuffer(t)||r.browser||(t=String(t)),"object"!=typeof n&&(n={}),"function"==typeof this._put?this._put(e,t,n,i):void r.nextTick(i))},a.prototype.del=function(e,t,n){var i;if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("del() requires a callback argument");return(i=this._checkKey(e,"key",this._isBuffer))?n(i):(this._isBuffer(e)||(e=String(e)),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,n):void r.nextTick(n))},a.prototype.batch=function(e,t,n){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(n=t),"function"==typeof e&&(n=e),"function"!=typeof n)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return n(new Error("batch(array) requires an array argument"));t&&"object"==typeof t||(t={});for(var i,s,o=0,a=e.length;o<a;o++)if("object"==typeof(i=e[o])){if(s=this._checkKey(i.type,"type",this._isBuffer))return n(s);if(s=this._checkKey(i.key,"key",this._isBuffer))return n(s)}if("function"==typeof this._batch)return this._batch(e,t,n);r.nextTick(n)},a.prototype.approximateSize=function(e,t,n){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof n)throw new Error("approximateSize() requires a callback argument");if(this._isBuffer(e)||(e=String(e)),this._isBuffer(t)||(t=String(t)),"function"==typeof this._approximateSize)return this._approximateSize(e,t,n);r.nextTick((function(){n(null,0)}))},a.prototype._setupIteratorOptions=function(e){var t=this;return e=i(e),["start","end","gt","gte","lt","lte"].forEach((function(n){e[n]&&t._isBuffer(e[n])&&0===e[n].length&&delete e[n]})),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},a.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new s(this)},a.prototype._chainedBatch=function(){return new o(this)},a.prototype._isBuffer=function(e){return n.isBuffer(e)},a.prototype._checkKey=function(e,t){if(null===e||e===undefined)return new Error(t+" cannot be `null` or `undefined`");if(this._isBuffer(e)){if(0===e.length)return new Error(t+" cannot be an empty Buffer")}else if(""===String(e))return new Error(t+" cannot be an empty String")},t.exports=a}).call(this)}).call(this,{isBuffer:e("../../../is-buffer/index.js")},e("_process"))}}},{package:"abstract-leveldown",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/datastore-level/node_modules/abstract-leveldown/abstract-leveldown.js"}],[5477,{buffer:2478},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){n.utf8=n["utf-8"]={encode:function(e){return r(e)?e:String(e)},decode:t,buffer:!1,type:"utf8"},n.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},n.binary={encode:function(t){return r(t)?t:e.from(t)},decode:t,buffer:!0,type:"binary"},n.none={encode:t,decode:t,buffer:!1,type:"id"},n.id=n.none;function t(e){return e}function r(t){return t===undefined||null===t||e.isBuffer(t)}["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"].forEach((function(t){n[t]={encode:function(n){return r(n)?n:e.from(n,t)},decode:function(e){return e.toString(t)},buffer:!0,type:t}}))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"level-codec",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/level-codec/lib/encodings.js"}],[3007,{"./next-tick":3010},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./next-tick");function i(e){if("object"!=typeof e||null===e)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=e,this._ended=!1,this._nexting=!1}i.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?(r(e,new Error("cannot call next() after end()")),t):t._nexting?(r(e,new Error("cannot call next() before previous next() has completed")),t):(t._nexting=!0,t._next((function(){t._nexting=!1,e.apply(null,arguments)})),t)},i.prototype._next=function(e){r(e)},i.prototype.seek=function(e){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");e=this.db._serializeKey(e),this._seek(e)},i.prototype._seek=function(e){},i.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");if(this._ended)return r(e,new Error("end() already called on iterator"));this._ended=!0,this._end(e)},i.prototype._end=function(e){r(e)},i.prototype._nextTick=r,t.exports=i}}},{package:"abstract-leveldown",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/encoding-down/node_modules/abstract-leveldown/abstract-iterator.js"}],[3006,{"./next-tick":3010},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./next-tick");function i(e){if("object"!=typeof e||null===e)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=e,this._operations=[],this._written=!1}i.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},i.prototype.put=function(e,t){this._checkWritten();var n=this.db._checkKey(e)||this.db._checkValue(t);if(n)throw n;return e=this.db._serializeKey(e),t=this.db._serializeValue(t),this._put(e,t),this},i.prototype._put=function(e,t){this._operations.push({type:"put",key:e,value:t})},i.prototype.del=function(e){this._checkWritten();var t=this.db._checkKey(e);if(t)throw t;return e=this.db._serializeKey(e),this._del(e),this},i.prototype._del=function(e){this._operations.push({type:"del",key:e})},i.prototype.clear=function(){return this._checkWritten(),this._clear(),this},i.prototype._clear=function(){this._operations=[]},i.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");"object"==typeof e&&null!==e||(e={}),this._written=!0,this._write(e,t)},i.prototype._write=function(e,t){this.db._batch(this._operations,e,t)},i.prototype._nextTick=r,t.exports=i}}},{package:"abstract-leveldown",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/encoding-down/node_modules/abstract-leveldown/abstract-chained-batch.js"}],[3008,{"./abstract-chained-batch":3006,"./abstract-iterator":3007,"./next-tick":3010,buffer:2478,"level-supports":3011,xtend:6886},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("xtend"),i=e("level-supports"),s=e("buffer").Buffer,o=e("./abstract-iterator"),a=e("./abstract-chained-batch"),u=e("./next-tick"),c=Object.prototype.hasOwnProperty,l="start end gt gte lt lte".split(" ");function h(e){this.status="new",this.supports=i(e,{status:!0})}function d(e,t){var n={};for(var r in t)if(c.call(t,r)){var i=t[r];f(r)&&(i=e._serializeKey(i)),n[r]=i}return n}function f(e){return-1!==l.indexOf(e)}h.prototype.open=function(e,t){var n=this,r=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"==typeof e&&null!==e||(e={}),e.createIfMissing=!1!==e.createIfMissing,e.errorIfExists=!!e.errorIfExists,this.status="opening",this._open(e,(function(e){if(e)return n.status=r,t(e);n.status="open",t()}))},h.prototype._open=function(e,t){u(t)},h.prototype.close=function(e){var t=this,n=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");this.status="closing",this._close((function(r){if(r)return t.status=n,e(r);t.status="closed",e()}))},h.prototype._close=function(e){u(e)},h.prototype.get=function(e,t,n){if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("get() requires a callback argument");var r=this._checkKey(e);if(r)return u(n,r);e=this._serializeKey(e),"object"==typeof t&&null!==t||(t={}),t.asBuffer=!1!==t.asBuffer,this._get(e,t,n)},h.prototype._get=function(e,t,n){u((function(){n(new Error("NotFound"))}))},h.prototype.put=function(e,t,n,r){if("function"==typeof n&&(r=n),"function"!=typeof r)throw new Error("put() requires a callback argument");var i=this._checkKey(e)||this._checkValue(t);if(i)return u(r,i);e=this._serializeKey(e),t=this._serializeValue(t),"object"==typeof n&&null!==n||(n={}),this._put(e,t,n,r)},h.prototype._put=function(e,t,n,r){u(r)},h.prototype.del=function(e,t,n){if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("del() requires a callback argument");var r=this._checkKey(e);if(r)return u(n,r);e=this._serializeKey(e),"object"==typeof t&&null!==t||(t={}),this._del(e,t,n)},h.prototype._del=function(e,t,n){u(n)},h.prototype.batch=function(e,t,n){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(n=t),"function"==typeof e&&(n=e),"function"!=typeof n)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return u(n,new Error("batch(array) requires an array argument"));if(0===e.length)return u(n);"object"==typeof t&&null!==t||(t={});for(var i=new Array(e.length),s=0;s<e.length;s++){if("object"!=typeof e[s]||null===e[s])return u(n,new Error("batch(array) element must be an object and not `null`"));var o=r(e[s]);if("put"!==o.type&&"del"!==o.type)return u(n,new Error("`type` must be 'put' or 'del'"));var a=this._checkKey(o.key);if(a)return u(n,a);if(o.key=this._serializeKey(o.key),"put"===o.type){var c=this._checkValue(o.value);if(c)return u(n,c);o.value=this._serializeValue(o.value)}i[s]=o}this._batch(i,t,n)},h.prototype._batch=function(e,t,n){u(n)},h.prototype.clear=function(e,t){if("function"==typeof e)t=e;else if("function"!=typeof t)throw new Error("clear() requires a callback argument");(e=d(this,e)).reverse=!!e.reverse,e.limit="limit"in e?e.limit:-1,this._clear(e,t)},h.prototype._clear=function(e,t){e.keys=!0,e.values=!1,e.keyAsBuffer=!0,e.valueAsBuffer=!0;var n=this._iterator(e),r={},i=this,s=function(e){if(e)return n.end((function(){t(e)}));n.next((function(e,o){return e?s(e):o===undefined?n.end(t):void i._del(o,r,s)}))};s()},h.prototype._setupIteratorOptions=function(e){return(e=d(this,e)).reverse=!!e.reverse,e.keys=!1!==e.keys,e.values=!1!==e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=!1!==e.keyAsBuffer,e.valueAsBuffer=!1!==e.valueAsBuffer,e},h.prototype.iterator=function(e){return"object"==typeof e&&null!==e||(e={}),e=this._setupIteratorOptions(e),this._iterator(e)},h.prototype._iterator=function(e){return new o(this)},h.prototype._chainedBatch=function(){return new a(this)},h.prototype._serializeKey=function(e){return e},h.prototype._serializeValue=function(e){return e},h.prototype._checkKey=function(e){return null===e||e===undefined?new Error("key cannot be `null` or `undefined`"):s.isBuffer(e)&&0===e.length?new Error("key cannot be an empty Buffer"):""===e?new Error("key cannot be an empty String"):Array.isArray(e)&&0===e.length?new Error("key cannot be an empty Array"):void 0},h.prototype._checkValue=function(e){if(null===e||e===undefined)return new Error("value cannot be `null` or `undefined`")},h.prototype._nextTick=u,t.exports=h}}},{package:"abstract-leveldown",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/encoding-down/node_modules/abstract-leveldown/abstract-leveldown.js"}],[2079,{},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e){const t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);const r=e[n];t[r]=n})),t}n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=r(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=r(n.tag)}}},{package:"asn1.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/asn1.js/lib/asn1/constants/der.js"}],[2075,{"../base/reporter":2078,buffer:2478,inherits:5094},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("inherits"),i=e("../base/reporter").Reporter,s=e("buffer").Buffer;function o(e,t){i.call(this,t),s.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function a(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return a.isEncoderBuffer(e)||(e=new a(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}r(o,i),n.DecoderBuffer=o,o.isDecoderBuffer=function(e){if(e instanceof o)return!0;return"object"==typeof e&&s.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},o.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},o.prototype.restore=function(e){const t=new o(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},o.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const n=new o(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},o.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},n.EncoderBuffer=a,a.isEncoderBuffer=function(e){if(e instanceof a)return!0;return"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},a.prototype.join=function(e,t){return e||(e=new s(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(e,t),t+=n.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):s.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}}}},{package:"asn1.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/asn1.js/lib/asn1/base/buffer.js"}],[2078,{inherits:5094},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("inherits");function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function s(e,t){this.path=e,this.rethrow(t)}n.Reporter=i,i.prototype.isError=function(e){return e instanceof s},i.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,n){const r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){const t=this._reporterState,n=t.obj;return t.obj=e,n},i.prototype.error=function(e){let t;const n=this._reporterState,r=e instanceof s;if(t=r?e:new s(n.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},i.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(s,Error),s.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}}}},{package:"asn1.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/asn1.js/lib/asn1/base/reporter.js"}],[2077,{"../base/buffer":2075,"../base/reporter":2078,"minimalistic-assert":5891},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../base/reporter").Reporter,i=e("../base/buffer").EncoderBuffer,s=e("../base/buffer").DecoderBuffer,o=e("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function c(e,t,n){const r={};this._baseState=r,r.name=n,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){const e=this._baseState,t={};l.forEach((function(n){t[n]=e[n]}));const n=new this.constructor(t.parent);return n._baseState=t,n},c.prototype._wrap=function(){const e=this._baseState;u.forEach((function(t){this[t]=function(){const n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}}),this)},c.prototype._init=function(e){const t=this._baseState;o(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),o.equal(t.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(e){const t=this._baseState,n=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==n.length&&(o(null===t.children),t.children=n,n.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(o(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach((function(n){n==(0|n)&&(n|=0);const r=e[n];t[r]=n})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){c.prototype[e]=function(){const t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),a.forEach((function(e){c.prototype[e]=function(){const t=this._baseState,n=Array.prototype.slice.call(arguments);return o(null===t.tag),t.tag=e,this._useArgs(n),this}})),c.prototype.use=function(e){o(e);const t=this._baseState;return o(null===t.use),t.use=e,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(e){const t=this._baseState;return o(null===t.default),t.default=e,t.optional=!0,this},c.prototype.explicit=function(e){const t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.explicit=e,this},c.prototype.implicit=function(e){const t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.implicit=e,this},c.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},c.prototype.key=function(e){const t=this._baseState;return o(null===t.key),t.key=e,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(e){const t=this._baseState;return o(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},c.prototype.contains=function(e){const t=this._baseState;return o(null===t.use),t.contains=e,this},c.prototype._decode=function(e,t){const n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));let r,i=n.default,o=!0,a=null;if(null!==n.key&&(a=e.enterKey(n.key)),n.optional){let r=null;if(null!==n.explicit?r=n.explicit:null!==n.implicit?r=n.implicit:null!==n.tag&&(r=n.tag),null!==r||n.any){if(o=this._peekTag(e,r,n.any),e.isError(o))return o}else{const r=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),o=!0}catch(e){o=!1}e.restore(r)}}if(n.obj&&o&&(r=e.enterObject()),o){if(null!==n.explicit){const t=this._decodeTag(e,n.explicit);if(e.isError(t))return t;e=t}const r=e.offset;if(null===n.use&&null===n.choice){let t;n.any&&(t=e.save());const r=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(r))return r;n.any?i=e.raw(t):e=r}if(t&&t.track&&null!==n.tag&&t.track(e.path(),r,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),n.any||(i=null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(e,t)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){const r=new s(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(r,t)}}return n.obj&&o&&(i=e.leaveObject(r)),null===n.key||null===i&&!0!==o?null!==a&&e.exitKey(a):e.leaveKey(a,n.key,i),i},c.prototype._decodeGeneric=function(e,t,n){const r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},c.prototype._getUse=function(e,t){const n=this._baseState;return n.useDecoder=this._use(e,t),o(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},c.prototype._decodeChoice=function(e,t){const n=this._baseState;let r=null,i=!1;return Object.keys(n.choice).some((function(s){const o=e.save(),a=n.choice[s];try{const n=a._decode(e,t);if(e.isError(n))return!1;r={type:s,value:n},i=!0}catch(t){return e.restore(o),!1}return!0}),this),i?r:e.error("Choice not matched")},c.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},c.prototype._encode=function(e,t,n){const r=this._baseState;if(null!==r.default&&r.default===e)return;const i=this._encodeValue(e,t,n);return i===undefined||this._skipDefault(i,t,n)?void 0:i},c.prototype._encodeValue=function(e,t,n){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new r);let s=null;if(this.reporter=t,i.optional&&e===undefined){if(null===i.default)return;e=i.default}let o=null,a=!1;if(i.any)s=this._createEncoderBuffer(e);else if(i.choice)s=this._encodeChoice(e,t);else if(i.contains)o=this._getUse(i.contains,n)._encode(e,t),a=!0;else if(i.children)o=i.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");const r=t.enterKey(n._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");const i=n._encode(e[n._baseState.key],t,e);return t.leaveKey(r),i}),this).filter((function(e){return e})),o=this._createEncoderBuffer(o);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const n=this.clone();n._baseState.implicit=null,o=this._createEncoderBuffer(e.map((function(n){const r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)}),n))}else null!==i.use?s=this._getUse(i.use,n)._encode(e,t):(o=this._encodePrimitive(i.tag,e),a=!0);if(!i.any&&null===i.choice){const e=null!==i.implicit?i.implicit:i.tag,n=null===i.implicit?"universal":"context";null===e?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(s=this._encodeComposite(e,a,n,o))}return null!==i.explicit&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},c.prototype._encodeChoice=function(e,t){const n=this._baseState,r=n.choice[e.type];return r||o(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},c.prototype._encodePrimitive=function(e,t){const n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},c.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},c.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}}}},{package:"asn1.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/asn1.js/lib/asn1/base/node.js"}],[2086,{"./der":2084,inherits:5094},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("inherits"),i=e("./der");function s(e){i.call(this,e),this.enc="pem"}r(s,i),t.exports=s,s.prototype.encode=function(e,t){const n=i.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"];for(let e=0;e<n.length;e+=64)r.push(n.slice(e,e+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}}}},{package:"asn1.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/asn1.js/lib/asn1/encoders/pem.js"}],[2084,{"../base/node":2077,"../constants/der":2079,buffer:2478,inherits:5094},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("inherits"),i=e("buffer").Buffer,s=e("../base/node"),o=e("../constants/der");function a(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){s.call(this,"der",e)}function c(e){return e<10?"0"+e:e}t.exports=a,a.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(u,s),u.prototype._encodeComposite=function(e,t,n,r){const s=function(e,t,n,r){let i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(o.tagByName.hasOwnProperty(e))i=o.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);i=e}if(i>=31)return r.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=o.tagClassByName[n||"universal"]<<6,i}(e,t,n,this.reporter);if(r.length<128){const e=new i(2);return e[0]=s,e[1]=r.length,this._createEncoderBuffer([e,r])}let a=1;for(let e=r.length;e>=256;e>>=8)a++;const u=new i(2+a);u[0]=s,u[1]=128|a;for(let e=1+a,t=r.length;t>0;e--,t>>=8)u[e]=255&t;return this._createEncoderBuffer([u,r])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){const t=new i(2*e.length);for(let n=0;n<e.length;n++)t.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports "+"only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports "+"only latin upper and lower case letters, "+"digits, space, apostrophe, left and rigth "+"parenthesis, plus sign, comma, hyphen, "+"dot, slash, colon, equal sign, "+"question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, "+"got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let r=0;for(let t=0;t<e.length;t++){let n=e[t];for(r++;n>=128;n>>=7)r++}const s=new i(r);let o=s.length-1;for(let t=e.length-1;t>=0;t--){let n=e[t];for(s[o--]=127&n;(n>>=7)>0;)s[o--]=128|127&n}return this._createEncoderBuffer(s)},u.prototype._encodeTime=function(e,t){let n;const r=new Date(e);return"gentime"===t?n=[c(r.getUTCFullYear()),c(r.getUTCMonth()+1),c(r.getUTCDate()),c(r.getUTCHours()),c(r.getUTCMinutes()),c(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[c(r.getUTCFullYear()%100),c(r.getUTCMonth()+1),c(r.getUTCDate()),c(r.getUTCHours()),c(r.getUTCMinutes()),c(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){const t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=new i(t)}if(i.isBuffer(e)){let t=e.length;0===e.length&&t++;const n=new i(t);return e.copy(n),0===e.length&&(n[0]=0),this._createEncoderBuffer(n)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let t=e;t>=256;t>>=8)n++;const r=new Array(n);for(let t=r.length-1;t>=0;t--)r[t]=255&e,e>>=8;return 128&r[0]&&r.unshift(0),this._createEncoderBuffer(new i(r))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,n){const r=this._baseState;let i;if(null===r.default)return!1;const s=e.join();if(r.defaultBuffer===undefined&&(r.defaultBuffer=this._encodeValue(r.default,t,n).join()),s.length!==r.defaultBuffer.length)return!1;for(i=0;i<s.length;i++)if(s[i]!==r.defaultBuffer[i])return!1;return!0}}}},{package:"asn1.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/asn1.js/lib/asn1/encoders/der.js"}],[2083,{"./der":2081,buffer:2478,inherits:5094},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("inherits"),i=e("buffer").Buffer,s=e("./der");function o(e){s.call(this,e),this.enc="pem"}r(o,s),t.exports=o,o.prototype.decode=function(e,t){const n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let e=0;e<n.length;e++){const t=n[e].match(o);if(null!==t&&t[2]===r){if(-1!==a){if("END"!==t[1])break;u=e;break}if("BEGIN"!==t[1])break;a=e}}if(-1===a||-1===u)throw new Error("PEM section not found for: "+r);const c=n.slice(a+1,u).join("");c.replace(/[^a-z0-9+/=]+/gi,"");const l=new i(c,"base64");return s.prototype.decode.call(this,l,t)}}}},{package:"asn1.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/asn1.js/lib/asn1/decoders/pem.js"}],[2081,{"../base/buffer":2075,"../base/node":2077,"../constants/der":2079,"bn.js":2432,inherits:5094},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("inherits"),i=e("bn.js"),s=e("../base/buffer").DecoderBuffer,o=e("../base/node"),a=e("../constants/der");function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.call(this,"der",e)}function l(e,t){let n=e.readUInt8(t);if(e.isError(n))return n;const r=a.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){let r=n;for(n=0;128==(128&r);){if(r=e.readUInt8(t),e.isError(r))return r;n<<=7,n|=127&r}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:a.tag[n]}}function h(e,t,n){let r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0==(128&r))return r;const i=127&r;if(i>4)return e.error("length octect is too long");r=0;for(let t=0;t<i;t++){r<<=8;const t=e.readUInt8(n);if(e.isError(t))return t;r|=t}return r}t.exports=u,u.prototype.decode=function(e,t){return s.isDecoderBuffer(e)||(e=new s(e,t)),this.tree._decode(e,t)},r(c,o),c.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;const r=e.save(),i=l(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(r),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},c.prototype._decodeTag=function(e,t,n){const r=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;let i=h(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');const s=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(i=e.offset-s.offset,e.restore(s),e.skip(i,'Failed to match body of: "'+t+'"'))},c.prototype._skipUntilEnd=function(e,t){for(;;){const n=l(e,t);if(e.isError(n))return n;const r=h(e,n.primitive,t);if(e.isError(r))return r;let i;if(i=n.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===n.tagStr)break}},c.prototype._decodeList=function(e,t,n,r){const i=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const s=n.decode(e,"der",r);if(e.isError(s)&&t)break;i.push(s)}return i},c.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let e=0;e<t.length/2;e++)n+=String.fromCharCode(t.readUInt16BE(2*e));return n}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: "+"numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: "+"printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},c.prototype._decodeObjid=function(e,t,n){let r;const i=[];let s=0,o=0;for(;!e.isEmpty();)o=e.readUInt8(),s<<=7,s|=127&o,0==(128&o)&&(i.push(s),s=0);128&o&&i.push(s);const a=i[0]/40|0,u=i[0]%40;if(r=n?i:[a,u].concat(i.slice(1)),t){let e=t[r.join(" ")];e===undefined&&(e=t[r.join(".")]),e!==undefined&&(r=e)}return r},c.prototype._decodeTime=function(e,t){const n=e.raw().toString();let r,i,s,o,a,u;if("gentime"===t)r=0|n.slice(0,4),i=0|n.slice(4,6),s=0|n.slice(6,8),o=0|n.slice(8,10),a=0|n.slice(10,12),u=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|n.slice(0,2),i=0|n.slice(2,4),s=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),u=0|n.slice(10,12),r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,s,o,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){const n=e.raw();let r=new i(n);return t&&(r=t[r.toString(10)]||r),r},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}}}},{package:"asn1.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/asn1.js/lib/asn1/decoders/der.js"}],[5539,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_RANGE_INVALID:"private key range is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:"scalar was invalid (zero or overflow)",ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:"nonce generation function failed or private key is invalid",ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"}}}},{package:"secp256k1",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/messages.json"}],[5530,{"../../../../is-buffer/index.js":5378},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){var t=Object.prototype.toString;n.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)},n.isBoolean=function(e,n){if("[object Boolean]"!==t.call(e))throw TypeError(n)},n.isBuffer=function(t,n){if(!e.isBuffer(t))throw TypeError(n)},n.isFunction=function(e,n){if("[object Function]"!==t.call(e))throw TypeError(n)},n.isNumber=function(e,n){if("[object Number]"!==t.call(e))throw TypeError(n)},n.isObject=function(e,n){if("[object Object]"!==t.call(e))throw TypeError(n)},n.isBufferLength=function(e,t,n){if(e.length!==t)throw RangeError(n)},n.isBufferLength2=function(e,t,n,r){if(e.length!==t&&e.length!==n)throw RangeError(r)},n.isLengthGTZero=function(e,t){if(0===e.length)throw RangeError(t)},n.isNumberInInterval=function(e,t,n,r){if(e<=t||e>=n)throw RangeError(r)}}).call(this)}).call(this,{isBuffer:e("../../../../is-buffer/index.js")})}}},{package:"secp256k1",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/assert.js"}],[5531,{bip66:2364,"safe-buffer":6450},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer,i=e("bip66"),s=r.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=r.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);n.privateKeyExport=function(e,t,n){var i=r.from(n?s:o);return e.copy(i,n?8:9),t.copy(i,n?181:214),i},n.privateKeyImport=function(e){var t=e.length,n=0;if(!(t<n+1||48!==e[n])&&!(t<(n+=1)+1)&&128&e[n]){var r=127&e[n];if(n+=1,!(r<1||r>2||t<n+r)){var i=e[n+r-1]|(r>1?e[n+r-2]<<8:0);if(!(t<(n+=r)+i||t<n+3||2!==e[n]||1!==e[n+1]||1!==e[n+2]||t<(n+=3)+2||4!==e[n]||e[n+1]>32||t<n+2+e[n+1]))return e.slice(n+2,n+2+e[n+1])}}},n.signatureExport=function(e){for(var t=r.concat([r.from([0]),e.r]),n=33,s=0;n>1&&0===t[s]&&!(128&t[s+1]);--n,++s);for(var o=r.concat([r.from([0]),e.s]),a=33,u=0;a>1&&0===o[u]&&!(128&o[u+1]);--a,++u);return i.encode(t.slice(s),o.slice(u))},n.signatureImport=function(e){var t=r.alloc(32,0),n=r.alloc(32,0);try{var s=i.decode(e);if(33===s.r.length&&0===s.r[0]&&(s.r=s.r.slice(1)),s.r.length>32)throw new Error("R length is too long");if(33===s.s.length&&0===s.s[0]&&(s.s=s.s.slice(1)),s.s.length>32)throw new Error("S length is too long")}catch(e){return}return s.r.copy(t,32-s.r.length),s.s.copy(n,32-s.s.length),{r:t,s:n}},n.signatureImportLax=function(e){var t=r.alloc(32,0),n=r.alloc(32,0),i=e.length,s=0;if(48===e[s++]){var o=e[s++];if(!(128&o&&(s+=o-128)>i)&&2===e[s++]){var a=e[s++];if(128&a){if(s+(o=a-128)>i)return;for(;o>0&&0===e[s];s+=1,o-=1);for(a=0;o>0;s+=1,o-=1)a=(a<<8)+e[s]}if(!(a>i-s)){var u=s;if(s+=a,2===e[s++]){var c=e[s++];if(128&c){if(s+(o=c-128)>i)return;for(;o>0&&0===e[s];s+=1,o-=1);for(c=0;o>0;s+=1,o-=1)c=(c<<8)+e[s]}if(!(c>i-s)){var l=s;for(s+=c;a>0&&0===e[u];a-=1,u+=1);if(!(a>32)){var h=e.slice(u,u+a);for(h.copy(t,32-h.length);c>0&&0===e[l];c-=1,l+=1);if(!(c>32)){var d=e.slice(l,l+c);return d.copy(n,32-d.length),{r:t,s:n}}}}}}}}}}}},{package:"secp256k1",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/der.js"}],[5537,{"./bn":5533,"./ecjpoint":5535,"./ecpoint":5536,"safe-buffer":6450},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer,i=e("./bn"),s=e("./ecpoint"),o=e("./ecjpoint");function a(){this.x=i.fromBuffer(r.from("79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","hex")),this.y=i.fromBuffer(r.from("483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8","hex")),this.inf=!1,this._precompute()}a.prototype._precompute=function(){for(var e=new s(this.x,this.y),t=new Array(1+Math.ceil(64.25)),n=t[0]=e,r=1;r<t.length;++r){for(var i=0;i<4;i++)n=n.dbl();t[r]=n}this.precomputed={naf:e._getNAFPoints(7),doubles:{step:4,points:t,negpoints:t.map((function(e){return e.neg()}))}}},a.prototype.mul=function(e){for(var t=this.precomputed.doubles.step,n=this.precomputed.doubles.points,r=this.precomputed.doubles.negpoints,i=e.getNAF(1),a=((1<<t+1)-(t%2==0?2:1))/3,u=[],c=0;c<i.length;c+=t){for(var l=0,h=c+t-1;h>=c;h--)l=(l<<1)+i[h];u.push(l)}for(var d=new o(null,null,null),f=new o(null,null,null),p=a;p>0;p--){for(var m=0;m<u.length;m++)u[m]===p?f=f.mixedAdd(n[m]):u[m]===-p&&(f=f.mixedAdd(r[m]));d=d.add(f)}return s.fromECJPoint(d)},a.prototype.mulAdd=function(e,t,n){for(var r=this.precomputed.naf,i=t._getNAFPoints1(),s=[r.points,i.points],a=[e.getNAF(r.wnd),n.getNAF(i.wnd)],u=new o(null,null,null),c=[null,null],l=Math.max(a[0].length,a[1].length);l>=0;l--){for(var h=0;l>=0&&(c[0]=0|a[0][l],c[1]=0|a[1][l],0===c[0]&&0===c[1]);++h,--l);if(l>=0&&(h+=1),u=u.dblp(h),l<0)break;for(var d=0;d<2;d++){var f,p=c[d];0!==p&&(p>0?f=s[d][p>>1]:p<0&&(f=s[d][-p>>1].neg()),u=f.z===undefined?u.mixedAdd(f):u.add(f))}}return u},t.exports=new a}}},{package:"secp256k1",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/js/ecpointg.js"}],[5536,{"./bn":5533,"./ecjpoint":5535,"safe-buffer":6450},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer,i=e("./bn"),s=e("./ecjpoint");function o(e,t){null===e&&null===t?(this.x=this.y=null,this.inf=!0):(this.x=e,this.y=t,this.inf=!1)}o.fromPublicKey=function(e){var t,n,r=e[0];return 33!==e.length||2!==r&&3!==r?65!==e.length||4!==r&&6!==r&&7!==r?null:(t=i.fromBuffer(e.slice(1,33)),n=i.fromBuffer(e.slice(33,65)),t.ucmp(i.p)>=0||n.ucmp(i.p)>=0?null:6!==r&&7!==r||n.isOdd()===(7===r)?0!==t.redSqr().redMul(t).redIAdd7().ucmp(n.redSqr())?null:new o(t,n):null):(t=i.fromBuffer(e.slice(1,33))).ucmp(i.p)>=0||null===(n=t.redSqr().redMul(t).redIAdd7().redSqrt())?null:(3===r!==n.isOdd()&&(n=n.redNeg()),new o(t,n))},o.prototype.toPublicKey=function(e){var t,n=this.x,i=this.y;return e?((t=r.alloc(33))[0]=i.isOdd()?3:2,n.toBuffer().copy(t,1)):((t=r.alloc(65))[0]=4,n.toBuffer().copy(t,1),i.toBuffer().copy(t,33)),t},o.fromECJPoint=function(e){if(e.inf)return new o(null,null);var t=e.z.redInvm(),n=t.redSqr();return new o(e.x.redMul(n),e.y.redMul(n).redMul(t))},o.prototype.toECJPoint=function(){return this.inf?new s(null,null,null):new s(this.x,this.y,s.one)},o.prototype.neg=function(){return this.inf?this:new o(this.x,this.y.redNeg())},o.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(0===this.x.ucmp(e.x))return 0===this.y.ucmp(e.y)?this.dbl():new o(null,null);var t=this.y.redSub(e.y);t.isZero()||(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x);return new o(n,t.redMul(this.x.redSub(n)).redISub(this.y))},o.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.isZero())return new o(null,null);var t=this.x.redSqr(),n=t.redAdd(t).redIAdd(t).redMul(e.redInvm()),r=n.redSqr().redISub(this.x.redAdd(this.x));return new o(r,n.redMul(this.x.redSub(r)).redISub(this.y))},o.prototype.mul=function(e){for(var t=this._getNAFPoints(4),n=t.points,r=e.getNAF(t.wnd),i=new s(null,null,null),a=r.length-1;a>=0;a--){for(var u=0;a>=0&&0===r[a];a--,++u);if(a>=0&&(u+=1),i=i.dblp(u),a<0)break;var c=r[a];i=c>0?i.mixedAdd(n[c-1>>1]):i.mixedAdd(n[-c-1>>1].neg())}return o.fromECJPoint(i)},o.prototype._getNAFPoints1=function(){return{wnd:1,points:[this]}},o.prototype._getNAFPoints=function(e){var t=new Array((1<<e)-1);t[0]=this;for(var n=this.dbl(),r=1;r<t.length;++r)t[r]=t[r-1].add(n);return{wnd:e,points:t}},t.exports=o}}},{package:"secp256k1",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/js/ecpoint.js"}],[5533,{"./optimized":5534,"safe-buffer":6450},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer,i=e("./optimized");function s(){this.negative=0,this.words=null,this.length=0}s.fromNumber=function(e){var t=new s;return t.words=[67108863&e],t.length=1,t},s.fromBuffer=function(e){var t=new s;return t.words=new Array(10),t.words[0]=(3&e[28])<<24|e[29]<<16|e[30]<<8|e[31],t.words[1]=(15&e[25])<<22|e[26]<<14|e[27]<<6|e[28]>>>2,t.words[2]=(63&e[22])<<20|e[23]<<12|e[24]<<4|e[25]>>>4,t.words[3]=(255&e[19])<<18|e[20]<<10|e[21]<<2|e[22]>>>6,t.words[4]=(3&e[15])<<24|e[16]<<16|e[17]<<8|e[18],t.words[5]=(15&e[12])<<22|e[13]<<14|e[14]<<6|e[15]>>>2,t.words[6]=(63&e[9])<<20|e[10]<<12|e[11]<<4|e[12]>>>4,t.words[7]=(255&e[6])<<18|e[7]<<10|e[8]<<2|e[9]>>>6,t.words[8]=(3&e[2])<<24|e[3]<<16|e[4]<<8|e[5],t.words[9]=e[0]<<14|e[1]<<6|e[2]>>>2,t.length=10,t.strip()},s.prototype.toBuffer=function(){for(var e=this.words,t=this.length;t<10;++t)e[t]=0;return r.from([e[9]>>>14&255,e[9]>>>6&255,(63&e[9])<<2|e[8]>>>24&3,e[8]>>>16&255,e[8]>>>8&255,255&e[8],e[7]>>>18&255,e[7]>>>10&255,e[7]>>>2&255,(3&e[7])<<6|e[6]>>>20&63,e[6]>>>12&255,e[6]>>>4&255,(15&e[6])<<4|e[5]>>>22&15,e[5]>>>14&255,e[5]>>>6&255,(63&e[5])<<2|e[4]>>>24&3,e[4]>>>16&255,e[4]>>>8&255,255&e[4],e[3]>>>18&255,e[3]>>>10&255,e[3]>>>2&255,(3&e[3])<<6|e[2]>>>20&63,e[2]>>>12&255,e[2]>>>4&255,(15&e[2])<<4|e[1]>>>22&15,e[1]>>>14&255,e[1]>>>6&255,(63&e[1])<<2|e[0]>>>24&3,e[0]>>>16&255,e[0]>>>8&255,255&e[0]])},s.prototype.clone=function(){var e=new s;e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];return e.length=this.length,e.negative=this.negative,e},s.prototype.strip=function(){for(;this.length>1&&0==(0|this.words[this.length-1]);)this.length--;return this},s.prototype.normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.ucmp=function(e){if(this.length!==e.length)return this.length>e.length?1:-1;for(var t=this.length-1;t>=0;--t)if(this.words[t]!==e.words[t])return this.words[t]>e.words[t]?1:-1;return 0},s.prototype.gtOne=function(){return this.length>1||this.words[0]>1},s.prototype.isOverflow=function(){return this.ucmp(s.n)>=0},s.prototype.isHigh=function(){return 1===this.ucmp(s.nh)},s.prototype.bitLengthGT256=function(){return this.length>10||10===this.length&&this.words[9]>4194303},s.prototype.iuaddn=function(e){this.words[0]+=e;for(var t=0;this.words[t]>67108863&&t<this.length;++t)this.words[t]-=67108864,this.words[t+1]+=1;return t===this.length&&(this.words[t]=1,this.length+=1),this},s.prototype.iadd=function(e){if(this.negative!==e.negative)return 0!==this.negative?(this.negative=0,this.isub(e),this.negative^=1):(e.negative=0,this.isub(e),e.negative=1),this.normSign();var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0,i=0;r<n.length;++r){var s=t.words[r]+n.words[r]+i;this.words[r]=67108863&s,i=s>>>26}for(;0!==i&&r<t.length;++r)s=t.words[r]+i,this.words[r]=67108863&s,i=s>>>26;if(this.length=t.length,0!==i)this.words[this.length++]=i;else if(t!==this)for(;r<t.length;++r)this.words[r]=t.words[r];return this},s.prototype.add=function(e){return this.clone().iadd(e)},s.prototype.isub=function(e){if(this.negative!==e.negative)return 0!==this.negative?(this.negative=0,this.iadd(e),this.negative=1):(e.negative=0,this.iadd(e),e.negative=1),this.normSign();var t,n,r=this.ucmp(e);if(0===r)return this.negative=0,this.words[0]=0,this.length=1,this;r>0?(t=this,n=e):(t=e,n=this);for(var i=0,s=0;i<n.length;++i){var o=t.words[i]-n.words[i]+s;s=o>>26,this.words[i]=67108863&o}for(;0!==s&&i<t.length;++i)s=(o=t.words[i]+s)>>26,this.words[i]=67108863&o;if(0===s&&i<t.length&&t!==this)for(;i<t.length;++i)this.words[i]=t.words[i];return this.length=Math.max(this.length,i),t!==this&&(this.negative^=1),this.strip().normSign()},s.prototype.sub=function(e){return this.clone().isub(e)},s.umulTo=function(e,t,n){n.length=e.length+t.length-1;var r=e.words[0]*t.words[0],i=r/67108864|0;n.words[0]=67108863&r;for(var s=1,o=n.length;s<o;s++){for(var a=i>>>26,u=67108863&i,c=Math.max(0,s-e.length+1),l=Math.min(s,t.length-1);c<=l;c++){var h=s-c,d=e.words[h]*t.words[c]+u;a+=d/67108864|0,u=67108863&d}n.words[s]=u,i=a}return 0!==i&&(n.words[n.length++]=i),n.strip()},s.umulTo10x10=Math.imul?i.umulTo10x10:s.umulTo,s.umulnTo=function(e,t,n){if(0===t)return n.words=[0],n.length=1,n;for(var r=0,i=0;r<e.length;++r){var s=e.words[r]*t+i;n.words[r]=67108863&s,i=s/67108864|0}return i>0?(n.words[r]=i,n.length=e.length+1):n.length=e.length,n},s.prototype.umul=function(e){var t=new s;return t.words=new Array(this.length+e.length),10===this.length&&10===e.length?s.umulTo10x10(this,e,t):1===this.length?s.umulnTo(e,this.words[0],t):1===e.length?s.umulnTo(this,e.words[0],t):s.umulTo(this,e,t)},s.prototype.isplit=function(e){e.length=Math.min(this.length,9);for(var t=0;t<e.length;++t)e.words[t]=this.words[t];if(this.length<=9)return this.words[0]=0,this.length=1,this;var n=this.words[9];for(e.words[e.length++]=4194303&n,t=10;t<this.length;++t){var r=this.words[t];this.words[t-10]=(4194303&r)<<4|n>>>22,n=r}return n>>>=22,this.words[t-10]=n,0===n&&this.length>10?this.length-=10:this.length-=9,this},s.prototype.fireduce=function(){return this.isOverflow()&&this.isub(s.n),this},s.prototype.ureduce=function(){var e=this.clone().isplit(s.tmp).umul(s.nc).iadd(s.tmp);return e.bitLengthGT256()&&(e=e.isplit(s.tmp).umul(s.nc).iadd(s.tmp)).bitLengthGT256()&&(e=e.isplit(s.tmp).umul(s.nc).iadd(s.tmp)),e.fireduce()},s.prototype.ishrn=function(e){for(var t=(1<<e)-1,n=26-e,r=this.length-1,i=0;r>=0;--r){var s=this.words[r];this.words[r]=i<<n|s>>>e,i=s&t}return this.length>1&&0===this.words[this.length-1]&&(this.length-=1),this},s.prototype.uinvm=function(){for(var e=this.clone(),t=s.n.clone(),n=s.fromNumber(1),r=s.fromNumber(0),i=s.fromNumber(0),o=s.fromNumber(1);e.isEven()&&t.isEven();){for(var a=1,u=1;0==(e.words[0]&u)&&0==(t.words[0]&u)&&a<26;++a,u<<=1);e.ishrn(a),t.ishrn(a)}for(var c=t.clone(),l=e.clone();!e.isZero();){for(var h=0,d=1;0==(e.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(e.ishrn(h);h-- >0;)(n.isOdd()||r.isOdd())&&(n.iadd(c),r.isub(l)),n.ishrn(1),r.ishrn(1);for(var f=0,p=1;0==(t.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(t.ishrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(l)),i.ishrn(1),o.ishrn(1);e.ucmp(t)>=0?(e.isub(t),n.isub(i),r.isub(o)):(t.isub(e),i.isub(n),o.isub(r))}if(1===i.negative){i.negative=0;var m=i.ureduce();return m.negative^=1,m.normSign().iadd(s.n)}return i.ureduce()},s.prototype.imulK=function(){this.words[this.length]=0,this.words[this.length+1]=0,this.length+=2;for(var e=0,t=0;e<this.length;++e){var n=0|this.words[e];t+=977*n,this.words[e]=67108863&t,t=64*n+(t/67108864|0)}return 0===this.words[this.length-1]&&(this.length-=1,0===this.words[this.length-1]&&(this.length-=1)),this},s.prototype.redIReduce=function(){this.isplit(s.tmp).imulK().iadd(s.tmp),this.bitLengthGT256()&&this.isplit(s.tmp).imulK().iadd(s.tmp);var e=this.ucmp(s.p);return 0===e?(this.words[0]=0,this.length=1):e>0?this.isub(s.p):this.strip(),this},s.prototype.redNeg=function(){return this.isZero()?s.fromNumber(0):s.p.sub(this)},s.prototype.redAdd=function(e){return this.clone().redIAdd(e)},s.prototype.redIAdd=function(e){return this.iadd(e),this.ucmp(s.p)>=0&&this.isub(s.p),this},s.prototype.redIAdd7=function(){return this.iuaddn(7),this.ucmp(s.p)>=0&&this.isub(s.p),this},s.prototype.redSub=function(e){return this.clone().redISub(e)},s.prototype.redISub=function(e){return this.isub(e),0!==this.negative&&this.iadd(s.p),this},s.prototype.redMul=function(e){return this.umul(e).redIReduce()},s.prototype.redSqr=function(){return this.umul(this).redIReduce()},s.prototype.redSqrt=function(){if(this.isZero())return this.clone();for(var e=this.redSqr(),t=e.redSqr(),n=t.redSqr().redMul(t),r=n.redMul(e),i=r.redMul(this),s=i,o=0;o<54;++o)s=s.redSqr().redSqr().redSqr().redSqr().redMul(i);for(s=s.redSqr().redSqr().redSqr().redSqr().redMul(r),o=0;o<5;++o)s=s.redSqr().redSqr().redSqr().redSqr().redMul(i);return 0===(s=(s=s.redSqr().redSqr().redSqr().redSqr().redMul(n)).redSqr().redSqr().redSqr().redSqr().redSqr().redSqr().redMul(n)).redSqr().ucmp(this)?s:null},s.prototype.redInvm=function(){for(var e,t=this.clone(),n=s.p.clone(),r=s.fromNumber(1),i=s.fromNumber(0);t.gtOne()&&n.gtOne();){for(var o=0,a=1;0==(t.words[0]&a)&&o<26;++o,a<<=1);if(o>0)for(t.ishrn(o);o-- >0;)r.isOdd()&&r.iadd(s.p),r.ishrn(1);for(var u=0,c=1;0==(n.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(n.ishrn(u);u-- >0;)i.isOdd()&&i.iadd(s.p),i.ishrn(1);t.ucmp(n)>=0?(t.isub(n),r.isub(i)):(n.isub(t),i.isub(r))}return 0!==(e=1===t.length&&1===t.words[0]?r:i).negative&&e.iadd(s.p),0!==e.negative?(e.negative=0,e.redIReduce().redNeg()):e.redIReduce()},s.prototype.getNAF=function(e){for(var t=[],n=1<<e+1,r=n-1,i=n>>1,s=this.clone();!s.isZero();){for(var o=0,a=1;0==(s.words[0]&a)&&o<26;++o,a<<=1)t.push(0);if(0!==o)s.ishrn(o);else{var u=s.words[0]&r;if(u>=i)t.push(i-u),s.iuaddn(u-i).ishrn(1);else if(t.push(u),s.words[0]-=u,!s.isZero()){for(o=e-1;o>0;--o)t.push(0);s.ishrn(e)}}}return t},s.prototype.inspect=function(){if(this.isZero())return"0";for(var e=this.toBuffer().toString("hex"),t=0;"0"===e[t];++t);return e.slice(t)},s.n=s.fromBuffer(r.from("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","hex")),s.nh=s.n.clone().ishrn(1),s.nc=s.fromBuffer(r.from("000000000000000000000000000000014551231950B75FC4402DA1732FC9BEBF","hex")),s.p=s.fromBuffer(r.from("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","hex")),s.psn=s.p.sub(s.n),s.tmp=new s,s.tmp.words=new Array(10),s.fromNumber(1).words[3]=0,t.exports=s}}},{package:"secp256k1",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-crypto/node_modules/secp256k1/lib/js/bn/index.js"}],[2986,{"./lib/hash-info.json":2987,buffer:2478,"create-hmac":2588},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=e("create-hmac"),i=e("./lib/hash-info.json"),s=new n(0),o=new n([0]),a=new n([1]);function u(e,t,n,r){var s=i[e];if(s===undefined)throw new Error("hash "+e+" is not supported");this._algo=e,this._securityStrength=s.securityStrength/8,this._outlen=s.outlen/8,this._reseedInterval=281474976710656,this._init(t,n,r)}u.prototype._update=function(e){var t=r(this._algo,this._K).update(this._V).update(o);e&&t.update(e),this._K=t.digest(),this._V=r(this._algo,this._K).update(this._V).digest(),e&&(this._K=r(this._algo,this._K).update(this._V).update(a).update(e).digest(),this._V=r(this._algo,this._K).update(this._V).digest())},u.prototype._init=function(e,t,r){if(e.length<this._securityStrength)throw new Error("Not enough entropy");this._K=new n(this._outlen),this._V=new n(this._outlen);for(var i=0;i<this._K.length;++i)this._K[i]=0,this._V[i]=1;this._update(n.concat([e,t,r||s])),this._reseed=1},u.prototype.reseed=function(e,t){if(e.length<this._securityStrength)throw new Error("Not enough entropy");this._update(n.concat([e,t||s])),this._reseed=1},u.prototype.generate=function(e,t){if(this._reseed>this._reseedInterval)throw new Error("Reseed is required");t&&0===t.length&&(t=undefined),t&&this._update(t);for(var i=new n(0);i.length<e;)this._V=r(this._algo,this._K).update(this._V).digest(),i=n.concat([i,this._V]);return this._update(t),this._reseed+=1,i.slice(0,e)},t.exports=u}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"drbg.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/drbg.js/hmac.js"}],[6701,{},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e){return e>=55296&&e<=56319}function i(e){return e>=56320&&e<=57343}t.exports=function(e,t,n){if("string"!=typeof t)throw new Error("Input must be string");for(var s,o,a=t.length,u=0,c=0;c<a;c+=1){if(s=t.charCodeAt(c),o=t[c],r(s)&&i(t.charCodeAt(c+1))&&(o+=t[c+=1]),(u+=e(o))===n)return t.slice(0,c+1);if(u>n)return t.slice(0,c-o.length+1)}return t}}}},{package:"truncate-utf8-bytes",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/truncate-utf8-bytes/lib/truncate.js"}],[6721,{},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e){return e>=55296&&e<=56319}function i(e){return e>=56320&&e<=57343}t.exports=function(e){if("string"!=typeof e)throw new Error("Input must be string");for(var t=e.length,n=0,s=null,o=null,a=0;a<t;a++)i(s=e.charCodeAt(a))?null!=o&&r(o)?n+=1:n+=3:s<=127?n+=1:s>=128&&s<=2047?n+=2:s>=2048&&s<=65535&&(n+=3),o=s;return n}}}},{package:"utf8-byte-length",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/utf8-byte-length/browser.js"}],[5987,{"./aes":5958,"./asn1":5959,"./des":5963,"./forge":5964,"./md":5967,"./mgf":5968,"./oids":5970,"./pem":5973,"./pss":5979,"./rsa":5982,"./util":5986},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./forge");e("./aes"),e("./asn1"),e("./des"),e("./md"),e("./mgf"),e("./oids"),e("./pem"),e("./pss"),e("./rsa"),e("./util");var i=r.asn1,s=t.exports=r.pki=r.pki||{},o=s.oids,a={};a.CN=o.commonName,a.commonName="CN",a.C=o.countryName,a.countryName="C",a.L=o.localityName,a.localityName="L",a.ST=o.stateOrProvinceName,a.stateOrProvinceName="ST",a.O=o.organizationName,a.organizationName="O",a.OU=o.organizationalUnitName,a.organizationalUnitName="OU",a.E=o.emailAddress,a.emailAddress="E";var u=r.pki.rsa.publicKeyValidator,c={name:"Certificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},u,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},l={name:"rsapss",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},h={name:"CertificationRequestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},u,{name:"CertificationRequestInfo.attributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},d={name:"CertificationRequest",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[h,{name:"CertificationRequest.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function f(e,t){"string"==typeof t&&(t={shortName:t});for(var n,r=null,i=0;null===r&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}s.RDNAttributesAsArray=function(e,t){for(var n,r,s,u=[],c=0;c<e.value.length;++c){n=e.value[c];for(var l=0;l<n.value.length;++l)s={},r=n.value[l],s.type=i.derToOid(r.value[0].value),s.value=r.value[1].value,s.valueTagClass=r.value[1].type,s.type in o&&(s.name=o[s.type],s.name in a&&(s.shortName=a[s.name])),t&&(t.update(s.type),t.update(s.value)),u.push(s)}return u},s.CRIAttributesAsArray=function(e){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],u=i.derToOid(r.value[0].value),c=r.value[1].value,l=0;l<c.length;++l){var h={};if(h.type=u,h.value=c[l].value,h.valueTagClass=c[l].type,h.type in o&&(h.name=o[h.type],h.name in a&&(h.shortName=a[h.name])),h.type===o.extensionRequest){h.extensions=[];for(var d=0;d<h.value.length;++d)h.extensions.push(s.certificateExtensionFromAsn1(h.value[d]))}t.push(h)}return t};var p=function(e,t,n){var r={};if(e!==o["RSASSA-PSS"])return r;n&&(r={hash:{algorithmOid:o.sha1},mgf:{algorithmOid:o.mgf1,hash:{algorithmOid:o.sha1}},saltLength:20});var s={},a=[];if(!i.validate(t,l,s,a)){var u=new Error("Cannot read RSASSA-PSS parameter block.");throw u.errors=a,u}return s.hashOid!==undefined&&(r.hash=r.hash||{},r.hash.algorithmOid=i.derToOid(s.hashOid)),s.maskGenOid!==undefined&&(r.mgf=r.mgf||{},r.mgf.algorithmOid=i.derToOid(s.maskGenOid),r.mgf.hash=r.mgf.hash||{},r.mgf.hash.algorithmOid=i.derToOid(s.maskGenHashOid)),s.saltLength!==undefined&&(r.saltLength=s.saltLength.charCodeAt(0)),r},m=function(e){switch(o[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return r.md.sha1.create();case"md5WithRSAEncryption":return r.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return r.md.sha256.create();case"sha384WithRSAEncryption":return r.md.sha384.create();case"sha512WithRSAEncryption":return r.md.sha512.create();default:var t=new Error("Could not compute "+e.type+" digest. "+"Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},g=function(e){var t,n=e.certificate;switch(n.signatureOid){case o.sha1WithRSAEncryption:case o.sha1WithRSASignature:break;case o["RSASSA-PSS"]:var i,s,a;if((i=o[n.signatureParameters.mgf.hash.algorithmOid])===undefined||r.md[i]===undefined)throw(a=new Error("Unsupported MGF hash function.")).oid=n.signatureParameters.mgf.hash.algorithmOid,a.name=i,a;if((s=o[n.signatureParameters.mgf.algorithmOid])===undefined||r.mgf[s]===undefined)throw(a=new Error("Unsupported MGF function.")).oid=n.signatureParameters.mgf.algorithmOid,a.name=s,a;if(s=r.mgf[s].create(r.md[i].create()),(i=o[n.signatureParameters.hash.algorithmOid])===undefined||r.md[i]===undefined)throw(a=new Error("Unsupported RSASSA-PSS hash function.")).oid=n.signatureParameters.hash.algorithmOid,a.name=i,a;t=r.pss.create(r.md[i].create(),s,n.signatureParameters.saltLength)}return n.publicKey.verify(e.md.digest().getBytes(),e.signature,t)};function y(e){for(var t,n,s=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),o=e.attributes,a=0;a<o.length;++a){var u=(t=o[a]).value,c=i.Type.PRINTABLESTRING;"valueTagClass"in t&&(c=t.valueTagClass)===i.Type.UTF8&&(u=r.util.encodeUtf8(u)),n=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,c,!1,u)])]),s.value.push(n)}return s}function b(e){for(var t,n=0;n<e.length;++n){if(void 0===(t=e[n]).name&&(t.type&&t.type in s.oids?t.name=s.oids[t.type]:t.shortName&&t.shortName in a&&(t.name=s.oids[a[t.shortName]])),void 0===t.type){if(!t.name||!(t.name in s.oids))throw(u=new Error("Attribute type not specified.")).attribute=t,u;t.type=s.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in a&&(t.shortName=a[t.name]),t.type===o.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=i.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var r=0;r<t.extensions.length;++r)t.value.push(s.certificateExtensionToAsn1(_(t.extensions[r])))}var u;if(void 0===t.value)throw(u=new Error("Attribute value not specified.")).attribute=t,u}}function _(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in s.oids&&(e.name=s.oids[e.id]),void 0===e.id){if(!e.name||!(e.name in s.oids))throw(w=new Error("Extension ID not specified.")).extension=e,w;e.id=s.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var n=0,a=0,u=0;e.digitalSignature&&(a|=128,n=7),e.nonRepudiation&&(a|=64,n=6),e.keyEncipherment&&(a|=32,n=5),e.dataEncipherment&&(a|=16,n=4),e.keyAgreement&&(a|=8,n=3),e.keyCertSign&&(a|=4,n=2),e.cRLSign&&(a|=2,n=1),e.encipherOnly&&(a|=1,n=0),e.decipherOnly&&(u|=128,n=7);var c=String.fromCharCode(n);0!==u?c+=String.fromCharCode(a)+String.fromCharCode(u):0!==a&&(c+=String.fromCharCode(a)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if("basicConstraints"===e.name)e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var h in e)!0===e[h]&&(h in o?l.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o[h]).getBytes())):-1!==h.indexOf(".")&&l.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(h).getBytes())))}else if("nsCertType"===e.name){n=0,a=0;e.client&&(a|=128,n=7),e.server&&(a|=64,n=6),e.email&&(a|=32,n=5),e.objsign&&(a|=16,n=4),e.reserved&&(a|=8,n=3),e.sslCA&&(a|=4,n=2),e.emailCA&&(a|=2,n=1),e.objCA&&(a|=1,n=0);c=String.fromCharCode(n);0!==a&&(c+=String.fromCharCode(a)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var d=0;d<e.altNames.length;++d){c=(b=e.altNames[d]).value;if(7===b.type&&b.ip){if(null===(c=r.util.bytesFromIP(b.ip)))throw(w=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,w}else 8===b.type&&(c=b.oid?i.oidToDer(i.oidToDer(b.oid)):i.oidToDer(c));e.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,b.type,!1,c))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=i.create(i.Class.UNIVERSAL,i.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){var f=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=f.toHex(),e.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,f.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);l=e.value.value;if(e.keyIdentifier){var p=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,p))}if(e.authorityCertIssuer){var m=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[y(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];l.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,m))}if(e.serialNumber){var g=r.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);l.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if("cRLDistributionPoints"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);l=e.value.value;var b,_=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),v=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(d=0;d<e.altNames.length;++d){c=(b=e.altNames[d]).value;if(7===b.type&&b.ip){if(null===(c=r.util.bytesFromIP(b.ip)))throw(w=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,w}else 8===b.type&&(c=b.oid?i.oidToDer(i.oidToDer(b.oid)):i.oidToDer(c));v.value.push(i.create(i.Class.CONTEXT_SPECIFIC,b.type,!1,c))}_.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[v])),l.push(_)}var w;if(void 0===e.value)throw(w=new Error("Extension value not specified.")).extension=e,w;return e}function v(e,t){if(e===o["RSASSA-PSS"]){var n=[];return t.hash.algorithmOid!==undefined&&n.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==undefined&&n.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])])),t.saltLength!==undefined&&n.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,n)}return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")}function w(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var n=e.attributes,s=0;s<n.length;++s){var o=n[s],a=o.value,u=i.Type.UTF8;"valueTagClass"in o&&(u=o.valueTagClass),u===i.Type.UTF8&&(a=r.util.encodeUtf8(a));var c=!1;"valueConstructed"in o&&(c=o.valueConstructed);var l=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,u,c,a)])]);t.value.push(l)}return t}s.certificateFromPem=function(e,t,n){var o=r.pem.decode(e)[0];if("CERTIFICATE"!==o.type&&"X509 CERTIFICATE"!==o.type&&"TRUSTED CERTIFICATE"!==o.type){var a=new Error("Could not convert certificate from PEM; PEM header type "+'is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw a.headerType=o.type,a}if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=i.fromDer(o.body,n);return s.certificateFromAsn1(u,t)},s.certificateToPem=function(e,t){var n={type:"CERTIFICATE",body:i.toDer(s.certificateToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},s.publicKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var n=new Error("Could not convert public key from PEM; PEM header "+'type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var o=i.fromDer(t.body);return s.publicKeyFromAsn1(o)},s.publicKeyToPem=function(e,t){var n={type:"PUBLIC KEY",body:i.toDer(s.publicKeyToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},s.publicKeyToRSAPublicKeyPem=function(e,t){var n={type:"RSA PUBLIC KEY",body:i.toDer(s.publicKeyToRSAPublicKey(e)).getBytes()};return r.pem.encode(n,{maxline:t})},s.getPublicKeyFingerprint=function(e,t){var n,o=(t=t||{}).md||r.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":n=i.toDer(s.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":n=i.toDer(s.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}o.start(),o.update(n);var a=o.digest();if("hex"===t.encoding){var u=a.toHex();return t.delimiter?u.match(/.{2}/g).join(t.delimiter):u}if("binary"===t.encoding)return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return a},s.certificationRequestFromPem=function(e,t,n){var o=r.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==o.type){var a=new Error("Could not convert certification request from PEM; "+'PEM header type is not "CERTIFICATE REQUEST".');throw a.headerType=o.type,a}if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert certification request from PEM; "+"PEM is encrypted.");var u=i.fromDer(o.body,n);return s.certificationRequestFromAsn1(u,t)},s.certificationRequestToPem=function(e,t){var n={type:"CERTIFICATE REQUEST",body:i.toDer(s.certificationRequestToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},s.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return f(e.issuer,t)},e.issuer.addField=function(t){b([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){b([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,n){b(t),e.subject.attributes=t,delete e.subject.uniqueId,n&&(e.subject.uniqueId=n),e.subject.hash=null},e.setIssuer=function(t,n){b(t),e.issuer.attributes=t,delete e.issuer.uniqueId,n&&(e.issuer.uniqueId=n),e.issuer.hash=null},e.setExtensions=function(t){for(var n=0;n<t.length;++n)_(t[n],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var n,r=null,i=0;null===r&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,n){e.md=n||r.md.sha1.create();var a=o[e.md.algorithm+"WithRSAEncryption"];if(!a){var u=new Error("Could not compute certificate digest. "+"Unknown message digest algorithm OID.");throw u.algorithm=e.md.algorithm,u}e.signatureOid=e.siginfo.algorithmOid=a,e.tbsCertificate=s.getTBSCertificate(e);var c=i.toDer(e.tbsCertificate);e.md.update(c.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var n=!1;if(!e.issued(t)){var r=t.issuer,o=e.subject,a=new Error("The parent certificate did not issue the given child "+"certificate; the child certificate's issuer does not match the "+"parent's subject.");throw a.expectedIssuer=o.attributes,a.actualIssuer=r.attributes,a}var u=t.md;if(null===u){u=m({signatureOid:t.signatureOid,type:"certificate"});var c=t.tbsCertificate||s.getTBSCertificate(t),l=i.toDer(c);u.update(l.getBytes())}return null!==u&&(n=g({certificate:e,md:u,signature:t.signature})),n},e.isIssuer=function(t){var n=!1,r=e.issuer,i=t.subject;if(r.hash&&i.hash)n=r.hash===i.hash;else if(r.attributes.length===i.attributes.length){var s,o;n=!0;for(var a=0;n&&a<r.attributes.length;++a)s=r.attributes[a],o=i.attributes[a],s.type===o.type&&s.value===o.value||(n=!1)}return n},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return s.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=o.subjectKeyIdentifier,n=0;n<e.extensions.length;++n){var i=e.extensions[n];if(i.id===t){var s=e.generateSubjectKeyIdentifier().getBytes();return r.util.hexToBytes(i.subjectKeyIdentifier)===s}}return!1},e},s.certificateFromAsn1=function(e,t){var n={},o=[];if(!i.validate(e,c,n,o)){var a=new Error("Cannot read X.509 certificate. "+"ASN.1 object is not an X509v3 Certificate.");throw a.errors=o,a}if(i.derToOid(n.publicKeyOid)!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=s.createCertificate();u.version=n.certVersion?n.certVersion.charCodeAt(0):0;var l=r.util.createBuffer(n.certSerialNumber);u.serialNumber=l.toHex(),u.signatureOid=r.asn1.derToOid(n.certSignatureOid),u.signatureParameters=p(u.signatureOid,n.certSignatureParams,!0),u.siginfo.algorithmOid=r.asn1.derToOid(n.certinfoSignatureOid),u.siginfo.parameters=p(u.siginfo.algorithmOid,n.certinfoSignatureParams,!1),u.signature=n.certSignature;var h=[];if(n.certValidity1UTCTime!==undefined&&h.push(i.utcTimeToDate(n.certValidity1UTCTime)),n.certValidity2GeneralizedTime!==undefined&&h.push(i.generalizedTimeToDate(n.certValidity2GeneralizedTime)),n.certValidity3UTCTime!==undefined&&h.push(i.utcTimeToDate(n.certValidity3UTCTime)),n.certValidity4GeneralizedTime!==undefined&&h.push(i.generalizedTimeToDate(n.certValidity4GeneralizedTime)),h.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more "+"than two times were provided in the certificate.");if(h.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they "+"were not provided as either UTCTime or GeneralizedTime.");if(u.validity.notBefore=h[0],u.validity.notAfter=h[1],u.tbsCertificate=n.tbsCertificate,t){u.md=m({signatureOid:u.signatureOid,type:"certificate"});var d=i.toDer(u.tbsCertificate);u.md.update(d.getBytes())}var g=r.md.sha1.create(),y=i.toDer(n.certIssuer);g.update(y.getBytes()),u.issuer.getField=function(e){return f(u.issuer,e)},u.issuer.addField=function(e){b([e]),u.issuer.attributes.push(e)},u.issuer.attributes=s.RDNAttributesAsArray(n.certIssuer),n.certIssuerUniqueId&&(u.issuer.uniqueId=n.certIssuerUniqueId),u.issuer.hash=g.digest().toHex();var _=r.md.sha1.create(),v=i.toDer(n.certSubject);return _.update(v.getBytes()),u.subject.getField=function(e){return f(u.subject,e)},u.subject.addField=function(e){b([e]),u.subject.attributes.push(e)},u.subject.attributes=s.RDNAttributesAsArray(n.certSubject),n.certSubjectUniqueId&&(u.subject.uniqueId=n.certSubjectUniqueId),u.subject.hash=_.digest().toHex(),n.certExtensions?u.extensions=s.certificateExtensionsFromAsn1(n.certExtensions):u.extensions=[],u.publicKey=s.publicKeyFromAsn1(n.subjectPublicKeyInfo),u},s.certificateExtensionsFromAsn1=function(e){for(var t=[],n=0;n<e.value.length;++n)for(var r=e.value[n],i=0;i<r.value.length;++i)t.push(s.certificateExtensionFromAsn1(r.value[i]));return t},s.certificateExtensionFromAsn1=function(e){var t={};if(t.id=i.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===i.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in o)if(t.name=o[t.id],"keyUsage"===t.name){var n=0,s=0;(u=i.fromDer(t.value)).value.length>1&&(n=u.value.charCodeAt(1),s=u.value.length>2?u.value.charCodeAt(2):0),t.digitalSignature=128==(128&n),t.nonRepudiation=64==(64&n),t.keyEncipherment=32==(32&n),t.dataEncipherment=16==(16&n),t.keyAgreement=8==(8&n),t.keyCertSign=4==(4&n),t.cRLSign=2==(2&n),t.encipherOnly=1==(1&n),t.decipherOnly=128==(128&s)}else if("basicConstraints"===t.name){(u=i.fromDer(t.value)).value.length>0&&u.value[0].type===i.Type.BOOLEAN?t.cA=0!==u.value[0].value.charCodeAt(0):t.cA=!1;var a=null;u.value.length>0&&u.value[0].type===i.Type.INTEGER?a=u.value[0].value:u.value.length>1&&(a=u.value[1].value),null!==a&&(t.pathLenConstraint=i.derToInteger(a))}else if("extKeyUsage"===t.name)for(var u=i.fromDer(t.value),c=0;c<u.value.length;++c){var l=i.derToOid(u.value[c].value);l in o?t[o[l]]=!0:t[l]=!0}else if("nsCertType"===t.name){n=0;(u=i.fromDer(t.value)).value.length>1&&(n=u.value.charCodeAt(1)),t.client=128==(128&n),t.server=64==(64&n),t.email=32==(32&n),t.objsign=16==(16&n),t.reserved=8==(8&n),t.sslCA=4==(4&n),t.emailCA=2==(2&n),t.objCA=1==(1&n)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){var h;t.altNames=[];u=i.fromDer(t.value);for(var d=0;d<u.value.length;++d){var f={type:(h=u.value[d]).type,value:h.value};switch(t.altNames.push(f),h.type){case 1:case 2:case 6:break;case 7:f.ip=r.util.bytesToIP(h.value);break;case 8:f.oid=i.derToOid(h.value)}}}else if("subjectKeyIdentifier"===t.name){u=i.fromDer(t.value);t.subjectKeyIdentifier=r.util.bytesToHex(u.value)}return t},s.certificationRequestFromAsn1=function(e,t){var n={},o=[];if(!i.validate(e,d,n,o)){var a=new Error("Cannot read PKCS#10 certificate request. "+"ASN.1 object is not a PKCS#10 CertificationRequest.");throw a.errors=o,a}if(i.derToOid(n.publicKeyOid)!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=s.createCertificationRequest();if(u.version=n.csrVersion?n.csrVersion.charCodeAt(0):0,u.signatureOid=r.asn1.derToOid(n.csrSignatureOid),u.signatureParameters=p(u.signatureOid,n.csrSignatureParams,!0),u.siginfo.algorithmOid=r.asn1.derToOid(n.csrSignatureOid),u.siginfo.parameters=p(u.siginfo.algorithmOid,n.csrSignatureParams,!1),u.signature=n.csrSignature,u.certificationRequestInfo=n.certificationRequestInfo,t){u.md=m({signatureOid:u.signatureOid,type:"certification request"});var c=i.toDer(u.certificationRequestInfo);u.md.update(c.getBytes())}var l=r.md.sha1.create();return u.subject.getField=function(e){return f(u.subject,e)},u.subject.addField=function(e){b([e]),u.subject.attributes.push(e)},u.subject.attributes=s.RDNAttributesAsArray(n.certificationRequestInfoSubject,l),u.subject.hash=l.digest().toHex(),u.publicKey=s.publicKeyFromAsn1(n.subjectPublicKeyInfo),u.getAttribute=function(e){return f(u,e)},u.addAttribute=function(e){b([e]),u.attributes.push(e)},u.attributes=s.CRIAttributesAsArray(n.certificationRequestInfoAttributes||[]),u},s.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){b([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return f(e,t)},e.addAttribute=function(t){b([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){b(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){b(t),e.attributes=t},e.sign=function(t,n){e.md=n||r.md.sha1.create();var a=o[e.md.algorithm+"WithRSAEncryption"];if(!a){var u=new Error("Could not compute certification request digest. "+"Unknown message digest algorithm OID.");throw u.algorithm=e.md.algorithm,u}e.signatureOid=e.siginfo.algorithmOid=a,e.certificationRequestInfo=s.getCertificationRequestInfo(e);var c=i.toDer(e.certificationRequestInfo);e.md.update(c.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,n=e.md;if(null===n){n=m({signatureOid:e.signatureOid,type:"certification request"});var r=e.certificationRequestInfo||s.getCertificationRequestInfo(e),o=i.toDer(r);n.update(o.getBytes())}return null!==n&&(t=g({certificate:e,md:n,signature:e.signature})),t},e};var E=new Date("1950-01-01T00:00:00Z"),k=new Date("2050-01-01T00:00:00Z");function C(e){return e>=E&&e<k?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(e))}s.getTBSCertificate=function(e){var t=C(e.validity.notBefore),n=C(e.validity.notAfter),o=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,r.util.hexToBytes(e.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.siginfo.algorithmOid).getBytes()),v(e.siginfo.algorithmOid,e.siginfo.parameters)]),y(e.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,n]),y(e.subject),s.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&o.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&o.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&o.value.push(s.certificateExtensionsToAsn1(e.extensions)),o},s.getCertificationRequestInfo=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),y(e.subject),s.publicKeyToAsn1(e.publicKey),w(e)])},s.distinguishedNameToAsn1=function(e){return y(e)},s.certificateToAsn1=function(e){var t=e.tbsCertificate||s.getTBSCertificate(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),v(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.certificateExtensionsToAsn1=function(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),n=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(n);for(var r=0;r<e.length;++r)n.value.push(s.certificateExtensionToAsn1(e[r]));return t},s.certificateExtensionToAsn1=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.id).getBytes())),e.critical&&t.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var n=e.value;return"string"!=typeof e.value&&(n=i.toDer(n).getBytes()),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,n)),t},s.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||s.getCertificationRequestInfo(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),v(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.createCaStore=function(e){var t={certs:{}};function n(e){return o(e),t.certs[e.hash]||null}function o(e){if(!e.hash){var t=r.md.sha1.create();e.attributes=s.RDNAttributesAsArray(y(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return n(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=r.pki.certificateFromPem(e)),o(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var n=t.certs[e.subject.hash];r.util.isArray(n)||(n=[n]),n.push(e),t.certs[e.subject.hash]=n}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"==typeof e&&(e=r.pki.certificateFromPem(e));var t=n(e.subject);if(!t)return!1;r.util.isArray(t)||(t=[t]);for(var o=i.toDer(s.certificateToAsn1(e)).getBytes(),a=0;a<t.length;++a){if(o===i.toDer(s.certificateToAsn1(t[a])).getBytes())return!0}return!1},t.listAllCertificates=function(){var e=[];for(var n in t.certs)if(t.certs.hasOwnProperty(n)){var i=t.certs[n];if(r.util.isArray(i))for(var s=0;s<i.length;++s)e.push(i[s]);else e.push(i)}return e},t.removeCertificate=function(e){var a;if("string"==typeof e&&(e=r.pki.certificateFromPem(e)),o(e.subject),!t.hasCertificate(e))return null;var u=n(e.subject);if(!r.util.isArray(u))return a=t.certs[e.subject.hash],delete t.certs[e.subject.hash],a;for(var c=i.toDer(s.certificateToAsn1(e)).getBytes(),l=0;l<u.length;++l){c===i.toDer(s.certificateToAsn1(u[l])).getBytes()&&(a=u[l],u.splice(l,1))}return 0===u.length&&delete t.certs[e.subject.hash],a},e)for(var a=0;a<e.length;++a){var u=e[a];t.addCertificate(u)}return t},s.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},s.verifyCertificateChain=function(e,t,n){"function"==typeof n&&(n={verify:n}),n=n||{};var i=(t=t.slice(0)).slice(0),o=n.validityCheckDate;void 0===o&&(o=new Date);var a=!0,u=null,c=0;do{var l=t.shift(),h=null,d=!1;if(o&&(o<l.validity.notBefore||o>l.validity.notAfter)&&(u={message:"Certificate is not valid yet or has expired.",error:s.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:o}),null===u){if(null===(h=t[0]||e.getIssuer(l))&&l.isIssuer(l)&&(d=!0,h=l),h){var f=h;r.util.isArray(f)||(f=[f]);for(var p=!1;!p&&f.length>0;){h=f.shift();try{p=h.verify(l)}catch(e){}}p||(u={message:"Certificate signature is invalid.",error:s.certificateError.bad_certificate})}null!==u||h&&!d||e.hasCertificate(l)||(u={message:"Certificate is not trusted.",error:s.certificateError.unknown_ca})}if(null===u&&h&&!l.isIssuer(h)&&(u={message:"Certificate issuer is invalid.",error:s.certificateError.bad_certificate}),null===u)for(var m={keyUsage:!0,basicConstraints:!0},g=0;null===u&&g<l.extensions.length;++g){var y=l.extensions[g];y.critical&&!(y.name in m)&&(u={message:"Certificate has an unsupported critical extension.",error:s.certificateError.unsupported_certificate})}if(null===u&&(!a||0===t.length&&(!h||d))){var b=l.getExtension("basicConstraints"),_=l.getExtension("keyUsage");if(null!==_&&(_.keyCertSign&&null!==b||(u={message:"Certificate keyUsage or basicConstraints conflict "+"or indicate that the certificate is not a CA. "+"If the certificate is the only one in the chain or "+"isn't the first then the certificate must be a "+"valid CA.",error:s.certificateError.bad_certificate})),null!==u||null===b||b.cA||(u={message:"Certificate basicConstraints indicates the certificate "+"is not a CA.",error:s.certificateError.bad_certificate}),null===u&&null!==_&&"pathLenConstraint"in b)c-1>b.pathLenConstraint&&(u={message:"Certificate basicConstraints pathLenConstraint violated.",error:s.certificateError.bad_certificate})}var v=null===u||u.error,w=n.verify?n.verify(v,c,i):v;if(!0!==w)throw!0===v&&(u={message:"The application rejected the certificate.",error:s.certificateError.bad_certificate}),(w||0===w)&&("object"!=typeof w||r.util.isArray(w)?"string"==typeof w&&(u.error=w):(w.message&&(u.message=w.message),w.error&&(u.error=w.error))),u;u=null,a=!1,++c}while(t.length>0);return!0}}}},{package:"node-forge",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/node-forge/lib/x509.js"}],[5976,{"./asn1":5959,"./forge":5964,"./util":5986},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./forge");e("./asn1"),e("./util");var i=r.asn1,s=t.exports=r.pkcs7asn1=r.pkcs7asn1||{};r.pkcs7=r.pkcs7||{},r.pkcs7.asn1=s;var o={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};s.contentInfoValidator=o;var a={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};s.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(a)},s.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(a)};var u={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};s.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},o,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[u]}]},s.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}}}},{package:"node-forge",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/node-forge/lib/pkcs7asn1.js"}],[5111,{"./blake":5109,"./crypto-sha1-2":5110,"./utils":5113,buffer:2478,"js-sha3":5411,murmurhash3js:5949},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("js-sha3"),i=e("murmurhash3js"),s=e("./utils"),o=e("./crypto-sha1-2"),a=s.toCallback,u=s.toBuf,c=s.fromString,l=s.fromNumberTo32BitBuf;t.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:a(u(r.sha3_512)),sha3384:a(u(r.sha3_384)),sha3256:a(u(r.sha3_256)),sha3224:a(u(r.sha3_224)),shake128:a(u(r.shake_128,128)),shake256:a(u(r.shake_256,256)),keccak224:a(u(r.keccak_224)),keccak256:a(u(r.keccak_256)),keccak384:a(u(r.keccak_384)),keccak512:a(u(r.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(l(c(i.x86.hash32))),addBlake:e("./blake"),dblSha2256:(e,t)=>{o.sha2256(e,((e,r)=>{e&&t(e),o.sha2256(n.from(r),t)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-bitswap/node_modules/multihashing-async/src/crypto.js"}],[6179,{"./state":6180},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("./state");function i(e){return"function"==typeof e}function s(e,t){return t?function(n,r){var i=setTimeout((function(){e(new Error("pull-reader: read exceeded timeout"),r)}),t);e(n,(function(e,t){clearTimeout(i),r(e,t)}))}:e}t.exports=function(e){var t,n,o,a,u,c=[],l=!1,h=r();function d(){for(;c.length;)if(null==c[0].length&&h.has(1))c.shift().cb(null,h.get());else if(h.has(c[0].length)){var e=c.shift();e.cb(null,h.get(e.length))}else if(1==o&&c[0].length&&h.length<c[0].length){var t="stream ended with:"+h.length+" but wanted:"+c[0].length;c.shift().cb(new Error(t))}else{if(!o)return!!c.length;c.shift().cb(o)}return c.length||!h.has(1)||u}function f(){d()&&!l&&(!t||l||a||(l=!0,n(null,(function(e,t){if(l=!1,e)return o=e,d();h.add(t),f()}))))}function p(r){if(u){for(;c.length;)c.shift().cb(u);return cb&&cb(u)}n=s(r,e),t=r,f()}return p.abort=function(e,n){u=e||!0,t?(l=!0,t(u,(function(){for(;c.length;)c.shift().cb(u);n&&n(u)}))):n()},p.read=function(n,r,o){if(i(r)&&(o=r,r=e),!i(o))return a=!0,function(e,n){if(l||h.has(1)){if(e)return t(e,n);c.push({length:null,cb:n}),f()}else s(t,r)(e,(function(e,t){n(e,t)}))};var u;c.push({length:(u=n,Number.isFinite(u)?n:null),cb:o}),f()},p}}}},{package:"pull-reader",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-reader/index.js"}],[5624,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=(e,t)=>0}}},{package:"libp2p-record",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-record/src/selectors/public-key.js"}],[2491,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t,n){for(var r=0,i=-1,s=n=n||0;s<e.length;++s)if(e[s]==t[r]){if(-1==i&&(i=s),++r==t.length)break}else i=-1,r=0;return i>-1&&e.length-i<t.length?-1:i}}}},{package:"buffer-indexof",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/buffer-indexof/index.js"}],[5628,{"../../../is-buffer/index.js":5378,"async/setImmediate":2161,"multihashing-async":5617},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("async/setImmediate"),i=e("multihashing-async");t.exports={func:(e,t,s)=>{const o=e=>r((()=>s(e)));if(!n.isBuffer(e))return o(new Error('"key" must be a Buffer'));if(e.length<3)return o(new Error("invalid public key record"));if("/pk/"!==e.slice(0,4).toString())return o(new Error("key was not prefixed with /pk/"));const a=e.slice(4);i(t,"sha2-256",((e,t)=>e?o(e):a.equals(t)?void o():o(new Error("public key does not match passed in key"))))},sign:!1}}).call(this)}).call(this,{isBuffer:e("../../../is-buffer/index.js")})}}},{package:"libp2p-record",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-record/src/validators/public-key.js"}],[6219,{"./client":6217,"./duplex":6218,"./server":2477,"./sink":6222,"./source":6223},function(){with(this)return function(){"use strict";return function(e,t,n){(n=t.exports=e("./duplex")).source=e("./source"),n.sink=e("./sink"),n.createServer=e("./server"),n.connect=e("./client")}}},{package:"pull-ws",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-ws/index.js"}],[6438,{url:6717},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("url");t.exports=function(e,t,n,i){var s;return n=n||{},s=(e=r.parse(e,!1,!0)).protocol?e.protocol:(n[s=t.protocol?t.protocol.replace(/:$/,""):"http"]||i||s)+":",e.host&&":"===e.host[0]&&(e.host=null),e.hostname?r.format({protocol:s,slashes:!0,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search}):(e.host=t.host,e.port?r.format({protocol:s,slashes:!0,host:t.hostname+":"+e.port,port:e.port,pathname:e.pathname,search:e.search}):e.pathname?r.format({protocol:s,slashes:!0,host:e.host,pathname:e.pathname,search:e.search}):(e.pathname=t.pathname,e.search?r.format({protocol:s,slashes:!0,host:e.host,pathname:e.pathname,search:e.search}):(e.search=t.search,e.format(e))))}}}},{package:"relative-url",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/relative-url/index.js"}],[6222,{"./ready":6220,_process:6127,timers:6647},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n,r){(function(){var i=e("./ready"),s=void 0!==r?r:n.nextTick;t.exports=function(e,t){return function(n){var r=!1!==(t=t||{}).closeOnEnd,o="function"==typeof t?t:t.onClose;n(null,(function t(a,u){a?r&&e.readyState<=1&&(o&&e.addEventListener("close",(function(e){if(e.wasClean||1006===e.code)o();else{var t=new Error("ws error");t.event=e,o(t)}})),e.close()):i(e,(function(r){if(r)return n(r,(function(){}));e.send(u),s((function(){n(null,t)}))}))}))}}}).call(this)}).call(this,e("_process"),e("timers").setImmediate)}}},{package:"pull-ws",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-ws/sink.js"}],[6223,{"safe-buffer":6450},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer;t.exports=function(e,t){var n,i,s=[],o=!1;return e.addEventListener("message",(function(e){var t,i=e.data;if(((t=i)instanceof ArrayBuffer||null!=t&&null!=t.constructor&&"ArrayBuffer"===t.constructor.name&&"number"==typeof t.byteLength)&&(i=r.from(i)),n)return n(null,i);s.push(i)})),e.addEventListener("close",(function(e){i||n&&n(i=!0)})),e.addEventListener("error",(function(e){i||(i=e,o||(o=!0,t&&t(e)),n&&n(i))})),e.addEventListener("open",(function(e){o||i||(o=!0)})),function(t,r){if(n=null,i)return r(i);t?(n=r,e.close()):s.length>0?r(null,s.shift()):n=r}}}}},{package:"pull-ws",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-ws/source.js"}],[6177,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(){var e,t;return{source:function(n,r){e?e(n,r):t=[n,r]},sink:function(n){if("function"!=typeof n)throw new Error("read must be function");if(e)throw new Error("already piped");if(e=n,t){var r=t;t=null,e.apply(null,r)}}}}}}},{package:"pull-pair",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/pull-pair/index.js"}],[5643,{"async/parallel":2156,buffer:2478,"libp2p-crypto":5544,"multihashing-async":5632,"pull-length-prefixed":6166,"pull-stream/pull":6185,"pull-stream/sinks/collect":6186,"pull-stream/sources/values":6201},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("multihashing-async"),i=e("pull-length-prefixed"),s=e("pull-stream/pull"),o=e("pull-stream/sources/values"),a=e("pull-stream/sinks/collect"),u=e("libp2p-crypto"),c=e("async/parallel");n.exchanges=["P-256","P-384","P-521"],n.ciphers=["AES-256","AES-128"],n.hashes=["SHA256","SHA512"],n.theBest=(e,t,n)=>{let r,i;if(e<0)r=n,i=t;else{if(!(e>0))return t[0];r=t,i=n}for(let e of r)for(let t of i)if(e===t)return e;throw new Error("No algorithms in common!")},n.makeMacAndCipher=(e,t)=>{c([t=>function(e,t,n){u.hmac.create(e,t,n)}(e.hashT,e.keys.macKey,t),t=>function(e,t,n,r){if("AES-128"===e||"AES-256"===e)return u.aes.create(n,t,r);r(new Error(`unrecognized cipher type: ${e}`))}(e.cipherT,e.keys.iv,e.keys.cipherKey,t)],((n,r)=>{if(n)return t(n);e.mac=r[0],e.cipher=r[1],t()}))},n.selectBest=(e,r,i)=>{n.digest(t.concat([r.pubKeyBytes,e.nonce]),((s,o)=>{if(s)return i(s);n.digest(t.concat([e.pubKeyBytes,r.nonce]),((s,a)=>{if(s)return i(s);const u=t.compare(o,a);if(0===u)return i(new Error("you are trying to talk to yourself"));i(null,{curveT:n.theBest(u,e.exchanges,r.exchanges),cipherT:n.theBest(u,e.ciphers,r.ciphers),hashT:n.theBest(u,e.hashes,r.hashes),order:u})}))}))},n.digest=(e,t)=>{r.digest(e,"sha2-256",e.length,t)},n.write=function(e,t,n){n=n||(()=>{}),s(o([t]),i.encode({fixed:!0,bytes:4}),a(((t,r)=>{if(t)return n(t);e.shake.write(r[0]),n()})))},n.read=function(e,t){i.decodeFromReader(e,{fixed:!0,bytes:4},t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-secio",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-secio/src/support.js"}],[5635,{"../support":5643,"./secio.proto":5640,"async/parallel":2156,"async/waterfall":2167,buffer:2478,debug:2927,"libp2p-crypto":5544,"peer-id":6117,protons:6147},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("protons"),i=e("peer-id"),s=e("libp2p-crypto"),o=e("async/parallel"),a=e("async/waterfall"),u=e("debug"),c=u("libp2p:secio");c.error=u("libp2p:secio:error");const l=r(e("./secio.proto")),h=e("../support");n.createProposal=e=>(e.proposal.out={rand:s.randomBytes(16),pubkey:e.key.local.public.bytes,exchanges:h.exchanges.join(","),ciphers:h.ciphers.join(","),hashes:h.hashes.join(",")},e.proposalEncoded.out=l.Propose.encode(e.proposal.out),e.proposalEncoded.out),n.createExchange=(e,n)=>{s.keys.generateEphemeralKeyPair(e.protocols.local.curveT,((r,i)=>{if(r)return n(r);e.ephemeralKey.local=i.key,e.shared.generate=i.genSharedKey;const s=t.concat([e.proposalEncoded.out,e.proposalEncoded.in,e.ephemeralKey.local]);e.key.local.sign(s,((t,r)=>{if(t)return n(t);e.exchange.out={epubkey:e.ephemeralKey.local,signature:r},n(null,l.Exchange.encode(e.exchange.out))}))}))},n.identify=(e,t,n)=>{c("1.1 identify"),e.proposalEncoded.in=t,e.proposal.in=l.Propose.decode(t);const r=e.proposal.in.pubkey;e.key.remote=s.keys.unmarshalPublicKey(r),i.createFromPubKey(r.toString("base64"),((t,r)=>{if(t)return n(t);if(e.id.remote){if(e.id.remote.toB58String()!==r.toB58String())return n(new Error("dialed to the wrong peer, Ids do not match"))}else e.id.remote=r;c("1.1 identify - %s - identified remote peer as %s",e.id.local.toB58String(),e.id.remote.toB58String()),n()}))},n.selectProtocols=(e,t)=>{c("1.2 selection");const n={pubKeyBytes:e.key.local.public.bytes,exchanges:h.exchanges,hashes:h.hashes,ciphers:h.ciphers,nonce:e.proposal.out.rand},r={pubKeyBytes:e.proposal.in.pubkey,exchanges:e.proposal.in.exchanges.split(","),hashes:e.proposal.in.hashes.split(","),ciphers:e.proposal.in.ciphers.split(","),nonce:e.proposal.in.rand};h.selectBest(n,r,((n,r)=>{if(n)return t(n);e.protocols.remote={order:r.order,curveT:r.curveT,cipherT:r.cipherT,hashT:r.hashT},e.protocols.local={order:r.order,curveT:r.curveT,cipherT:r.cipherT,hashT:r.hashT},t()}))},n.verify=(e,n,r)=>{c("2.1. verify"),e.exchange.in=l.Exchange.decode(n),e.ephemeralKey.remote=e.exchange.in.epubkey;const i=t.concat([e.proposalEncoded.in,e.proposalEncoded.out,e.ephemeralKey.remote]);e.key.remote.verify(i,e.exchange.in.signature,((e,t)=>e?r(e):t?(c("2.1. verify - signature verified"),void r()):r(new Error("Bad signature"))))},n.generateKeys=(e,t)=>{c("2.2. keys"),a([t=>e.shared.generate(e.exchange.in.epubkey,t),(t,n)=>{e.shared.secret=t,s.keys.keyStretcher(e.protocols.local.cipherT,e.protocols.local.hashT,e.shared.secret,n)},(t,n)=>{if(e.protocols.local.order>0)e.protocols.local.keys=t.k1,e.protocols.remote.keys=t.k2;else{if(!(e.protocols.local.order<0))return n(new Error("you are trying to talk to yourself"));e.protocols.local.keys=t.k2,e.protocols.remote.keys=t.k1}c("2.3. mac + cipher"),o([t=>h.makeMacAndCipher(e.protocols.local,t),t=>h.makeMacAndCipher(e.protocols.remote,t)],n)}],t)},n.verifyNonce=(e,t)=>{const n=e.proposal.out.rand;if(!n.equals(t))throw new Error(`Failed to read our encrypted nonce: ${n.toString("hex")} != ${t.toString("hex")}`)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-secio",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-secio/src/handshake/crypto.js"}],[5634,{buffer:2478,"pull-length-prefixed":6166,"pull-stream/pull":6185,"pull-stream/throughs/async-map":6202,"pull-stream/throughs/map":6207},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){const r=e("pull-stream/pull"),i=e("pull-stream/throughs/map"),s=e("pull-stream/throughs/async-map"),o=e("pull-length-prefixed"),a={fixed:!0,bytes:4};function u(){return i((e=>"string"==typeof e?t.from(e,"utf-8"):e))}n.createBoxStream=(e,n)=>r(u(),s(((r,i)=>{e.encrypt(r,((e,r)=>{if(e)return i(e);n.digest(r,((e,n)=>{if(e)return i(e);i(null,t.concat([r,n]))}))}))})),o.encode(a)),n.createUnboxStream=(e,t)=>r(u(),o.decode(a),s(((n,r)=>{const i=n.length,s=t.length;if(i<s)return r(new Error(`buffer (${i}) shorter than MAC size (${s})`));const o=i-s,a=n.slice(0,o),u=n.slice(o);t.digest(a,((t,n)=>t?r(t):u.equals(n)?void e.decrypt(a,((e,t)=>{if(e)return r(e);r(null,t)})):r(new Error(`MAC Invalid: ${u.toString("hex")} != ${n.toString("hex")}`))))})))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-secio",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-secio/src/etm.js"}],[5578,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=class{constructor(){this.list=[]}push(e){return!this.has(e)&&(this.list.push(e),!0)}has(e){const t=this.list.find((t=>t.id.isEqual(e.id)));return Boolean(t)}toArray(){return this.list.slice()}pop(){return this.list.pop()}get length(){return this.list.length}}}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-kad-dht/src/peer-list.js"}],[5568,{"./blake":5566,"./crypto-sha1-2":5567,"./utils":5570,buffer:2478,"js-sha3":5411,murmurhash3js:5949},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("js-sha3"),i=e("murmurhash3js"),s=e("./utils"),o=e("./crypto-sha1-2"),a=s.toCallback,u=s.toBuf,c=s.fromString,l=s.fromNumberTo32BitBuf;t.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:a(u(r.sha3_512)),sha3384:a(u(r.sha3_384)),sha3256:a(u(r.sha3_256)),sha3224:a(u(r.sha3_224)),shake128:a(u(r.shake_128,128)),shake256:a(u(r.shake_256,256)),keccak224:a(u(r.keccak_224)),keccak256:a(u(r.keccak_256)),keccak384:a(u(r.keccak_384)),keccak512:a(u(r.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(l(c(i.x86.hash32))),addBlake:e("./blake"),dblSha2256:(e,t)=>{o.sha2256(e,((e,r)=>{e&&t(e),o.sha2256(n.from(r),t)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-kad-dht/node_modules/multihashing-async/src/crypto.js"}],[3256,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=Object.prototype.hasOwnProperty,i="~";function s(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,r,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,r||e,s),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new s:delete e._events[t]}function c(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,s=n.length,o=new Array(s);r<s;r++)o[r]=n[r].fn;return o},c.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,s,o){var a=i?i+e:e;if(!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,undefined,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,s),!0;case 6:return l.fn.call(l.context,t,n,r,s,o),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,undefined,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var s=i?i+e:e;if(!this._events[s])return this;if(!t)return u(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||u(this,s);else{for(var a=0,c=[],l=o.length;a<l;a++)(o[a].fn!==t||r&&!o[a].once||n&&o[a].context!==n)&&c.push(o[a]);c.length?this._events[s]=1===c.length?c[0]:c:u(this,s)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,void 0!==t&&(t.exports=c)}}},{package:"eventemitter3",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/eventemitter3/index.js"}],[5577,{"./utils":5597,"async/map":2152,"xor-distance":6885},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("xor-distance"),i=e("./utils"),s=e("async/map");t.exports=class{constructor(e,t){this.originDhtKey=e,this.capacity=t,this.peerDistances=[]}get length(){return this.peerDistances.length}get peers(){return this.peerDistances.map((e=>e.peerId))}add(e,t){if(this.peerDistances.find((t=>t.peerId.id.equals(e.id))))return t();i.convertPeerId(e,((n,i)=>{if(n)return t(n);const s={peerId:e,distance:r(this.originDhtKey,i)};this.peerDistances.push(s),this.peerDistances.sort(((e,t)=>r.compare(e.distance,t.distance))),this.peerDistances=this.peerDistances.slice(0,this.capacity),t()}))}anyCloser(e,t){return e.length?this.length?void s(e,((e,t)=>i.convertPeerId(e,t)),((e,n)=>{if(e)return t(e);const i=this.peerDistances[this.peerDistances.length-1].distance;for(const e of n){const n=r(this.originDhtKey,e);if(r.compare(n,i)<0)return t(null,!0)}return t(null,!1)})):t(null,!0):t(null,!1)}}}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-kad-dht/src/peer-distance-list.js"}],[5586,{"async/queue":2157,"promise-to-callback":6129,"promisify-es6":6131},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/queue"),i=e("promisify-es6"),s=e("promise-to-callback");t.exports=class{constructor(e,t,n,r){this.dht=e,this.run=t,this.path=n,this.log=r,this.concurrency=this.dht.concurrency,this.queue=this.setupQueue(),this.execution=null}setupQueue(){const e=r(((e,t)=>{s(this.processNext(e))(t)}),this.concurrency);return e.error=e=>{this.log.error("queue",e),this.stop(e)},e.drain=()=>{this.log("queue:drain"),this.stop()},e.unsaturated=()=>{this.running&&this.fill()},e.buffer=0,e}stop(e){this.running&&(this.running=!1,this.queue.kill(),this.log("worker:stop, %d workers still running",this.run.workers.filter((e=>e.running)).length),e?this.execution.reject(e):this.execution.resolve())}async execute(){this.running=!0,this.execution={};const e=new Promise(((e,t)=>Object.assign(this.execution,{resolve:e,reject:t})));this.fill(),await e}fill(){for(;this.queue.running()+this.queue.length()<this.concurrency&&this.path.peersToQuery.length>0;)this.queue.push(this.path.peersToQuery.dequeue())}async processNext(e){if(!this.running)return;if(this.run.peersSeen.has(e))return;let t,n,r,i;try{t=await this.run.continueQuerying(this)}catch(e){n=e}if(this.running){if(n)throw n;if(t){if(!this.run.peersSeen.has(e)){this.run.peersSeen.add(e),this.log("queue:work");try{r=await this.execQuery(e)}catch(e){i=e}if(this.running){if(this.log("queue:work:done",i,r),i)throw i;if(r&&r.queryComplete)return this.log("query:complete"),void this.run.stop();r&&r.pathComplete&&this.stop()}}}else this.stop()}}async execQuery(e){let t,n;try{t=await this.path.queryFunc(e)}catch(e){n=e}if(this.running)if(n)this.run.errors.push(n);else{if(await i((t=>this.run.peersQueried.add(e,t)))(),t.pathComplete||t.queryComplete)return this.path.res=t,{pathComplete:t.pathComplete,queryComplete:t.queryComplete};t.closerPeers&&t.closerPeers.length>0&&await Promise.all(t.closerPeers.map((async e=>{this.dht._isSelf(e.id)||(e=this.dht.peerBook.put(e),this.dht._peerDiscovered(e),await this.path.addPeerToQuery(e.id))})))}}}}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-kad-dht/src/query/workerQueue.js"}],[5584,{"../peer-queue":5579,"../utils":5597},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../peer-queue"),i=e("../utils");t.exports=class{constructor(e,t){if(this.run=e,this.queryFunc=i.withTimeout(t,3e4),!this.queryFunc)throw new Error("Path requires a `queryFn` to be specified");if("function"!=typeof this.queryFunc)throw new Error("Path expected `queryFn` to be a function. Got "+typeof this.queryFunc);this.initialPeers=[],this.peersToQuery=null}addInitialPeer(e){this.initialPeers.push(e)}async execute(){const e=await r.fromKey(this.run.query.key);this.peersToQuery=e,await Promise.all(this.initialPeers.map((e=>this.addPeerToQuery(e)))),await this.run.workerQueue(this)}async addPeerToQuery(e){this.run.query.dht._isSelf(e)||this.run.peersSeen.has(e)||await this.peersToQuery.enqueue(e)}}}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-kad-dht/src/query/path.js"}],[5593,{"../../message":5575,"./add-provider":5589,"./find-node":5590,"./get-providers":5591,"./get-value":5592,"./ping":5594,"./put-value":5595},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("../../message").TYPES;t.exports=t=>{const n={[r.GET_VALUE]:e("./get-value")(t),[r.PUT_VALUE]:e("./put-value")(t),[r.FIND_NODE]:e("./find-node")(t),[r.ADD_PROVIDER]:e("./add-provider")(t),[r.GET_PROVIDERS]:e("./get-providers")(t),[r.PING]:e("./ping")(t)};return function(e){return n[e]}}}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-kad-dht/src/rpc/handlers/index.js"}],[5671,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.ERR_WS_STAR_WEBSOCKET_CONNECTION="ERR_WS_STAR_WEBSOCKET_CONNECTION"}}},{package:"libp2p-websocket-star",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-websocket-star/src/errors/index.js"}],[6571,{buffer:2478,"data-queue":2632,debug:6564,"pull-stream":6184,uuid:6566},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("data-queue"),i=e("uuid"),s=e("pull-stream"),o=(e,t)=>"socket.io-pull-stream."+e+(t?"."+t:""),a=e("debug")("socket.io-pull-stream");function u(e,t){if(null==t)return t;try{return e(t)}catch(e){return console.error("Codec Error"),console.error(e),!1}}const c={hex:{encode:e=>e.toString("hex"),decode:e=>n.from(e,"hex")},plain:{encode:e=>e,decode:e=>e},buffer:{encode:e=>n.from(e),decode:e=>n.from(e)}};function l(e){if(e||(e="plain"),"object"==typeof e)return e;const t=c[e];if(!t)throw new Error("Invalid codec "+e);return t}t.exports=function(e,t){e.createSink||(e.sioplog=e.id?a.bind(a,"["+e.id+"]"):a,e.createSink=(n,s)=>{n||(n=i());const a=function(e,t,n){const i=r(),s=e.sioplog.bind(e.sioplog,"  sink("+t+")"),a=l(n.codec).encode;let c;function h(e){i.append({err:e}),c=e}return s("create sink"),e.once(o("accept",t),(()=>{s("start transmission"),function n(){i.get(((r,c)=>{let{data:l,err:h}=c||{};if(r&&(h=r),s("send",h&&!0===h?"finish":h?"error":l?"data":"<invalid>"),h&&!r&&i.error(h),h)return e.emit(o("error",t),h);l&&e.emit(o("queue",t),u(a,l)),n()}))}()})),e.once("disconnect",(()=>h(!0))),function(e){e(null,(function t(n,r){return n?h(n):c?e(c,t):(i.append({data:r}),void e(null,t))}))}}(e,n,t||s);return a.id=n,a},e.createSource=(n,i)=>{const s=function(e,t,n){const i=r(),s=e.sioplog.bind(e.sioplog,"source("+t+")"),a=l(n.codec).decode;function c(){e.removeAllListeners(o("error",t)),e.removeAllListeners(o("queue",t))}return s("create source"),e.emit(o("accept",t)),e.on(o("error",t),(e=>{s(!0===e?"finish":"error"),c(),i.append({end:e})})),e.on(o("queue",t),(e=>{s("queue data"),i.append({data:u(a,e)})})),e.once("disconnect",(()=>{c(),i.append({end:!0})})),function(e,t){if(s("reading"),e)return t(e);i.get(((e,n)=>e?t(e):n.end?(i.error(n.end),t(n.end)):t(null,n.data)))}}(e,n,t||i);return s.id=n,s},e.createProxy=(t,n,r)=>{s(e.createSource(t,r),n.createSink(t,r))})}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"socket.io-pull-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/socket.io-pull-stream/src/index.js"}],[6540,{"../../../errors":6531},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,n,s){if("function"==typeof n)return e(t,null,n);n||(n={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(s||i);var o=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){a=!1,c=!0,o||s.call(t)},h=t._readableState&&t._readableState.endEmitted,d=function(){o=!1,h=!0,a||s.call(t)},f=function(e){s.call(t,e)},p=function(){var e;return o&&!h?(t._readableState&&t._readableState.ended||(e=new r),s.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new r),s.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/simple-peer/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[6542,{"../../../errors":6531,"./end-of-stream":6540},function(){with(this)return function(){"use strict";return function(e,t,n){var r;var i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(t,n,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),r===undefined&&(r=e("./end-of-stream")),r(t,{readable:n,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var u=!1;return function(e){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,n){var s=n<t.length-1;return u(e,s,n>0,(function(e){r||(r=e),e&&o.forEach(c),s||(o.forEach(c),i(r))}))}));return t.reduce(l)}}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/simple-peer/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[6533,{"./_stream_transform":6535,inherits:5094},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=i;var r=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e("inherits")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/simple-peer/node_modules/readable-stream/lib/_stream_passthrough.js"}],[6532,{"./_stream_readable":6534,"./_stream_writable":6536,_process:6127,inherits:5094},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=c;var i=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(c,i);for(var o=r(s.prototype),a=0;a<o.length;a++){var u=o[a];c.prototype[u]||(c.prototype[u]=s.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/simple-peer/node_modules/readable-stream/lib/_stream_duplex.js"}],[6536,{"../errors":6531,"./_stream_duplex":6532,"./internal/streams/destroy":6539,"./internal/streams/state":6543,"./internal/streams/stream":6544,_process:6127,buffer:2478,inherits:5094,"util-deprecate":6723},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=C,C.WritableState=k;var s={deprecate:e("util-deprecate")},o=e("./internal/streams/stream"),a=e("buffer").Buffer,u=global.Uint8Array||function(){};var c,l=e("./internal/streams/destroy"),h=e("./internal/streams/state").getHighWaterMark,d=e("../errors").codes,f=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,_=d.ERR_STREAM_WRITE_AFTER_END,v=d.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;function E(){}function k(t,s,o){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof o&&(o=s instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,s=r.writecb;if("function"!=typeof s)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,s){--t.pendingcb,r?(n.nextTick(s,i),n.nextTick(N,e,t),e._writableState.errorEmitted=!0,w(e,i)):(s(i),e._writableState.errorEmitted=!0,w(e,i),N(e,t))}(e,r,i,t,s);else{var o=A(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||I(e,r),i?n.nextTick(x,e,r,o,s):x(e,r,o,s)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function C(t){var n=this instanceof(i=i||e("./_stream_duplex"));if(!n&&!c.call(C,this))return new C(t);this._writableState=new k(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function S(e,t,n,r,i,s,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function x(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),N(e,t)}function I(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)s[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;s.allBuffers=u,S(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,h=n.callback;if(S(e,t,!1,t.objectMode?1:c.length,c,l,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(n){t.pendingcb--,n&&w(e,n),t.prefinished=!0,e.emit("prefinish"),N(e,t)}))}function N(e,t){var r=A(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}e("inherits")(C,o),k.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(k.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===C&&(e&&e._writableState instanceof k)}})):c=function(e){return e instanceof this},C.prototype.pipe=function(){w(this,new g)},C.prototype.write=function(e,t,r){var i,s=this._writableState,o=!1,c=!s.objectMode&&(i=e,a.isBuffer(i)||i instanceof u);return c&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),c?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof r&&(r=E),s.ending?function(e,t){var r=new _;w(e,r),n.nextTick(t,r)}(this,r):(c||function(e,t,r,i){var s;return null===r?s=new b:"string"==typeof r||t.objectMode||(s=new f("chunk",["string","Buffer"],r)),!s||(w(e,s),n.nextTick(i,s),!1)}(this,s,e,r))&&(s.pendingcb++,o=function(e,t,n,r,i,s){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var u=t.objectMode?1:r.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,u,r,i,s);return c}(this,s,c,e,t,r)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new p("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,N(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=l.destroy,C.prototype._undestroy=l.undestroy,C.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/simple-peer/node_modules/readable-stream/lib/_stream_writable.js"}],[6535,{"../errors":6531,"./_stream_duplex":6532,inherits:5094},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=l;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new s);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/simple-peer/node_modules/readable-stream/lib/_stream_transform.js"}],[6534,{"../errors":6531,"./_stream_duplex":6532,"./internal/streams/async_iterator":6537,"./internal/streams/buffer_list":6538,"./internal/streams/destroy":6539,"./internal/streams/from":6541,"./internal/streams/state":6543,"./internal/streams/stream":6544,_process:6127,buffer:2478,events:2479,inherits:5094,"string_decoder/":6546,util:2477},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r;t.exports=C,C.ReadableState=k;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),o=e("buffer").Buffer,a=global.Uint8Array||function(){};var u,c=e("util");u=c&&c.debuglog?c.debuglog("stream"):function(){};var l,h,d,f=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,_=g.ERR_METHOD_NOT_IMPLEMENTED,v=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(C,s);var w=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function k(t,n,i){r=r||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=n instanceof r),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function C(t){if(r=r||e("./_stream_duplex"),!(this instanceof C))return new C(t);var n=this instanceof r;this._readableState=new k(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function S(e,t,n,r,i){u("readableAddChunk",t);var s,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}(e,c);else if(i||(s=function(e,t){var n;r=t,o.isBuffer(r)||r instanceof a||"string"==typeof t||t===undefined||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(c,t)),s)w(e,s);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),r)c.endEmitted?w(e,new v):x(e,c,t,!0);else if(c.ended)w(e,new b);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!n?(t=c.decoder.write(t),c.objectMode||0!==t.length?x(e,c,t,!1):R(e,c)):x(e,c,t,!1)}else r||(c.reading=!1,R(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),R(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=o.from(e,t),t=""),n=!0),S(this,e,t,!1,n)},C.prototype.unshift=function(e){return S(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var n=new l(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var I=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=I?e=I:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(N,e))}function N(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,O(e)}function R(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function j(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){u("readable nexttick read 0"),e.read(0)}function L(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function U(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function D(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(B,t,e))}function B(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function F(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):T(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&D(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(r=e>0?U(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&D(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(e){w(this,new _("_read()"))},C.prototype.pipe=function(e,t){var r=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,u("pipe count=%d opts=%j",s.pipesCount,t);var o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?c:g;function a(t,n){u("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",g),r.removeListener("data",d),h=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}s.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,O(e))}}(r);e.on("drain",l);var h=!1;function d(t){u("ondata");var n=e.write(t);u("dest.write",n),!1===n&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==F(s.pipes,e))&&!h&&(u("false write response, pause",s.awaitDrain),s.awaitDrain++),r.pause())}function f(t){u("onerror",t),g(),e.removeListener("error",f),0===i(e,"error")&&w(e,t)}function p(){e.removeListener("finish",m),g()}function m(){u("onfinish"),e.removeListener("close",p),g()}function g(){u("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",p),e.once("finish",m),e.emit("pipe",r),s.flowing||(u("pipe resume"),r.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=F(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?T(this):i.reading||n.nextTick(M,this))),r},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(j,this),r},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||n.nextTick(j,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(L,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&i!==undefined)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return h===undefined&&(h=e("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=U,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(t,n){return d===undefined&&(d=e("./internal/streams/from")),d(C,t,n)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/simple-peer/node_modules/readable-stream/lib/_stream_readable.js"}],[6101,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),s=e.indexOf("]");-1!=n&&-1!=s&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));for(var o,a,u=r.exec(e||""),c={},l=14;l--;)c[i[l]]=u[l]||"";return-1!=n&&-1!=s&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||r.splice(0,1);"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1);return r}(0,c.path),c.queryKey=(o=c.query,a={},o.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(a[t]=n)})),a),c}}}},{package:"parseuri",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/parseuri/index.js"}],[6551,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}}}},{package:"socket.io-client",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/socket.io-client/lib/on.js"}],[6652,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}}}},{package:"to-array",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/to-array/index.js"}],[2548,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}}}},{package:"component-bind",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/component-bind/index.js"}],[6100,{},function(){with(this)return function(){"use strict";return function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}}}},{package:"parseqs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/parseqs/index.js"}],[5029,{buffer:2478,isarray:5030},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=e("isarray"),i=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.exports=function e(t){if(!t||"object"!=typeof t)return!1;if(r(t)){for(var i=0,a=t.length;i<a;i++)if(e(t[i]))return!0;return!1}if("function"==typeof n&&n.isBuffer&&n.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||o&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)&&e(t[u]))return!0;return!1}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"has-binary2",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/has-binary2/index.js"}],[6555,{ms:6556},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e){var t;function r(){if(r.enabled){var e=r,i=+new Date,s=i-(t||i);e.diff=s,e.prev=t,e.curr=i,t=i;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(t,r){if("%%"===t)return t;u++;var i=n.formatters[r];if("function"==typeof i){var s=o[u];t=i.call(e,s),o.splice(u,1),u--}return t})),n.formatArgs.call(e,o);var c=r.log||n.log||console.log.bind(console);c.apply(e,o)}}return r.namespace=e,r.enabled=n.enabled(e),r.useColors=n.useColors(),r.color=function(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}(e),r.destroy=i,"function"==typeof n.init&&n.init(r),n.instances.push(r),r}function i(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}(n=t.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var s=n.instances[t];s.enabled=n.enabled(s.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=e("ms"),n.instances=[],n.names=[],n.skips=[],n.formatters={}}}},{package:"debug",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/socket.io-client/node_modules/debug/src/debug.js"}],[6562,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}}}},{package:"isarray",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/socket.io-parser/node_modules/isarray/index.js"}],[6559,{buffer:2478},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){t.exports=function(t){return n&&e.isBuffer(t)||r&&(t instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(t))};var n="function"==typeof e&&"function"==typeof e.isBuffer,r="function"==typeof ArrayBuffer}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"socket.io-parser",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/socket.io-parser/is-buffer.js"}],[6557,{"./is-buffer":6559,isarray:6562},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("isarray"),i=e("./is-buffer"),s=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);function u(e,t){if(!e)return e;if(i(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(r(e)){for(var s=new Array(e.length),o=0;o<e.length;o++)s[o]=u(e[o],t);return s}if("object"==typeof e&&!(e instanceof Date)){s={};for(var a in e)s[a]=u(e[a],t);return s}return e}function c(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(r(e))for(var n=0;n<e.length;n++)e[n]=c(e[n],t);else if("object"==typeof e)for(var i in e)e[i]=c(e[i],t);return e}n.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=u(n,t),r.attachments=t.length,{packet:r,buffers:t}},n.reconstructPacket=function(e,t){return e.data=c(e.data,t),e.attachments=undefined,e},n.removeBlobs=function(e,t){var n=0,s=e;!function e(u,c,l){if(!u)return u;if(o&&u instanceof Blob||a&&u instanceof File){n++;var h=new FileReader;h.onload=function(){l?l[c]=this.result:s=this.result,--n||t(s)},h.readAsArrayBuffer(u)}else if(r(u))for(var d=0;d<u.length;d++)e(u[d],d,u);else if("object"==typeof u&&!i(u))for(var f in u)e(u[f],f,u)}(s),n||t(s)}}}},{package:"socket.io-parser",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/socket.io-parser/binary.js"}],[6560,{"./debug":6561,_process:6127},function(){with(this)return function(){"use strict";return function(e,t,n){(function(r){(function(){function i(){var e;try{e=n.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(n=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))})),e.splice(s,0,r)},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}},n.load=i,n.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(i())}).call(this)}).call(this,e("_process"))}}},{package:"debug",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/socket.io-parser/node_modules/debug/src/browser.js"}],[2331,{},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}}}},{package:"backo2",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/backo2/index.js"}],[5093,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}}}},{package:"indexof",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/indexof/index.js"}],[3014,{"./socket":3015,"engine.io-parser":3026},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")}}},{package:"engine.io-client",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/engine.io-client/lib/index.js"}],[5602,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={PROTOCOL:"/ipfs/ping/1.0.0",PING_LENGTH:32}}}},{package:"libp2p-ping",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-ping/src/constants.js"}],[5606,{"./constants":5602,"libp2p-crypto":5544},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("libp2p-crypto"),i=e("./constants");t.exports.rnd=e=>(e||(e=i.PING_LENGTH),r.randomBytes(e))}}},{package:"libp2p-ping",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-ping/src/util.js"}],[5560,{debug:2927},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("debug"),i=r("libp2p:floodsub");i.err=r("libp2p:floodsub:error"),t.exports={log:i,multicodec:"/floodsub/1.0.0"}}}},{package:"libp2p-floodsub",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-floodsub/src/config.js"}],[5607,{"./message":5608,"./message/sign":5610,"./peer":5612,"./utils":5613,"async/each":2121,"async/nextTick":2155,debug:2927,"err-code":3029,events:2479,"pull-stream/pull":6185,"pull-stream/sources/empty":6195,"time-cache":6646},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events"),i=e("pull-stream/pull"),s=e("pull-stream/sources/empty"),o=e("async/each"),a=e("time-cache"),u=e("debug"),c=e("err-code"),l=e("./peer"),h=e("./message"),{signMessage:d}=e("./message/sign"),f=e("./utils"),p=e("async/nextTick");t.exports=class extends r{constructor(e,t,n,r){super(),r={signMessages:!0,...r},this.log=u(e),this.log.err=u(`${e}:error`),this.multicodec=t,this.libp2p=n,this.started=!1,r.signMessages&&(this.peerId=this.libp2p.peerInfo.id),this.topics=new Map,this.seenCache=new a,this.peers=new Map,this._dials=new Set,this._onConnection=this._onConnection.bind(this),this._dialPeer=this._dialPeer.bind(this)}_addPeer(e){const t=e.info.id.toB58String();let n=this.peers.get(t);return n||(this.log("new peer",t),this.peers.set(t,e),n=e,e.once("close",(()=>this._removePeer(e)))),++n._references,n}_removePeer(e){const t=e.info.id.toB58String();return this.log("remove",t,e._references),0==--e._references&&(this.log("delete peer",t),this.peers.delete(t)),e}_dialPeer(e,t){t=t||function(){};const n=e.id.toB58String(),r=this.peers.get(n);return r&&r.isConnected?p((()=>t())):this._dials.has(n)?(this.log("already dialing %s, ignoring dial attempt",n),p((()=>t()))):(this._dials.add(n),this.log("dialing %s",n),void this.libp2p.dialProtocol(e,this.multicodec,((r,i)=>{this.log("dial to %s complete",n);const s=!this._dials.has(n);return this._dials.delete(n),r?(this.log.err(r),t()):s?(this.log("pubsub was stopped, not processing dial to %s",n),t()):void this._onDial(e,i,t)})))}_onDial(e,t,n){const r=e.id.toB58String();this.log("connected",r);this._addPeer(new l(e)).attachConnection(t),p((()=>n()))}_onConnection(e,t){t.getPeerInfo(((e,n)=>{if(e)return this.log.err("Failed to identify incomming conn",e),i(s(),t);const r=n.id.toB58String(),o=this._addPeer(new l(n));this._processConnection(r,t,o)}))}_processConnection(e,t,n){throw c("_processConnection must be implemented by the subclass","ERR_NOT_IMPLEMENTED")}_onConnectionEnd(e,t,n){n&&"socket hang up"!==n.message&&this.log.err(n),this.log("connection ended",e,n?n.message:""),this._removePeer(t)}_buildMessage(e,t){const n=f.normalizeOutRpcMessage(e);this.peerId?d(this.peerId,n,t):p(t,null,n)}publish(e,t,n){throw c("publish must be implemented by the subclass","ERR_NOT_IMPLEMENTED")}subscribe(e){throw c("subscribe must be implemented by the subclass","ERR_NOT_IMPLEMENTED")}unsubscribe(e){throw c("unsubscribe must be implemented by the subclass","ERR_NOT_IMPLEMENTED")}start(e){if(this.started)return p((()=>e(new Error("already started"))));this.log("starting"),this.libp2p.handle(this.multicodec,this._onConnection),this.libp2p.on("peer:connect",this._dialPeer);const t=Object.values(this.libp2p.peerBook.getAll());o(t,((e,t)=>this._dialPeer(e,t)),(t=>{p((()=>{this.log("started"),this.started=!0,e(t)}))}))}stop(e){if(!this.started)return p((()=>e(new Error("not started yet"))));this.libp2p.unhandle(this.multicodec),this.libp2p.removeListener("peer:connect",this._dialPeer),this._dials=new Set,this.log("stopping"),o(this.peers.values(),((e,t)=>e.close(t)),(t=>{if(t)return e(t);this.log("stopped"),this.peers=new Map,this.started=!1,e()}))}},t.exports.message=h,t.exports.utils=f}}},{package:"libp2p-pubsub",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-pubsub/src/index.js"}],[5470,{"./VisibilityChangeEmitter":5471,_process:6127,debug:5473,events:2479,"lodash/get":5845,"lodash/isFunction":5855},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(e("events")),s=u(e("lodash/get")),o=u(e("lodash/isFunction")),a=u(e("./VisibilityChangeEmitter"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=e("debug")("latency-monitor:LatencyMonitor"),d=function(e){function n(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=e.latencyCheckIntervalMs,i=e.dataEmitIntervalMs,o=e.asyncTestFn,u=e.latencyRandomPercentage;c(this,n);var d=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),p=d;return p.latencyCheckIntervalMs=r||500,p.latencyRandomPercentage=u||10,p._latecyCheckMultiply=p.latencyRandomPercentage/100*2*p.latencyCheckIntervalMs,p._latecyCheckSubtract=p._latecyCheckMultiply/2,p.dataEmitIntervalMs=null===i||0===i?undefined:i||5e3,h("latencyCheckIntervalMs: %s dataEmitIntervalMs: %s",p.latencyCheckIntervalMs,p.dataEmitIntervalMs),p.dataEmitIntervalMs?h("Expecting ~%s events per summary",p.latencyCheckIntervalMs/p.dataEmitIntervalMs):h("Not emitting summaries"),p.asyncTestFn=o,t&&t.hrtime?(h("Using process.hrtime for timing"),p.now=t.hrtime,p.getDeltaMS=function(e){var t=p.now(e);return 1e3*t[0]+t[1]/1e6}):"undefined"!=typeof window&&(0,s.default)(window,"performance.now")?(h("Using performance.now for timing"),p.now=window.performance.now.bind(window.performance),p.getDeltaMS=function(e){return Math.round(p.now()-e)}):(h("Using Date.now for timing"),p.now=Date.now,p.getDeltaMS=function(e){return p.now()-e}),p._latencyData=p._initLatencyData(),f()&&(p._visibilityChangeEmitter=new a.default,p._visibilityChangeEmitter.on("visibilityChange",(function(e){e?p._startTimers():(p._emitSummary(),p._stopTimers())}))),p._visibilityChangeEmitter&&!p._visibilityChangeEmitter.isVisible()||p._startTimers(),d}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"_startTimers",value:function(){var e=this;this._checkLatencyID||(this._checkLatency(),this.dataEmitIntervalMs&&(this._emitIntervalID=setInterval((function(){return e._emitSummary()}),this.dataEmitIntervalMs),(0,o.default)(this._emitIntervalID.unref)&&this._emitIntervalID.unref()))}},{key:"_stopTimers",value:function(){this._checkLatencyID&&(clearTimeout(this._checkLatencyID),this._checkLatencyID=undefined),this._emitIntervalID&&(clearInterval(this._emitIntervalID),this._emitIntervalID=undefined)}},{key:"_emitSummary",value:function(){var e=this.getSummary();e.events>0&&this.emit("data",e)}},{key:"getSummary",value:function(){var e={events:this._latencyData.events,minMs:this._latencyData.minMs,maxMs:this._latencyData.maxMs,avgMs:this._latencyData.events?this._latencyData.totalMs/this._latencyData.events:Number.POSITIVE_INFINITY,lengthMs:this.getDeltaMS(this._latencyData.startTime)};return this._latencyData=this._initLatencyData(),h("Summary: %O",e),e}},{key:"_checkLatency",value:function(){var e=this,t=this,n=Math.random()*t._latecyCheckMultiply-t._latecyCheckSubtract,r={deltaOffset:Math.ceil(t.latencyCheckIntervalMs+n),startTime:t.now()},i=function(){if(e._checkLatencyID){var n=t.getDeltaMS(r.startTime)-r.deltaOffset;t._checkLatency(),t._latencyData.events++,t._latencyData.minMs=Math.min(t._latencyData.minMs,n),t._latencyData.maxMs=Math.max(t._latencyData.maxMs,n),t._latencyData.totalMs+=n,h("MS: %s Data: %O",n,t._latencyData)}};h("localData: %O",r),this._checkLatencyID=setTimeout((function(){t.asyncTestFn?(r.deltaOffset=0,r.startTime=t.now(),t.asyncTestFn(i)):(r.deltaOffset-=1,i())}),r.deltaOffset),(0,o.default)(this._checkLatencyID.unref)&&this._checkLatencyID.unref()}},{key:"_initLatencyData",value:function(){return{startTime:this.now(),minMs:Number.POSITIVE_INFINITY,maxMs:Number.NEGATIVE_INFINITY,events:0,totalMs:0}}}]),n}(i.default);function f(){return"undefined"!=typeof window}n.default=d}).call(this)}).call(this,e("_process"))}}},{package:"latency-monitor",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/latency-monitor/dist/LatencyMonitor.js"}],[5665,{"bignumber.js":5644,events:2479,"moving-average":5898,retimer:6444},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events"),i=e("bignumber.js"),s=e("moving-average"),o=e("retimer");t.exports=class extends r{constructor(e,t){super(),this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this);const n=this._options.movingAverageIntervals;for(var r=0;r<e.length;r++){var o=e[r];this._stats[o]=i(0),this._movingAverages[o]={};for(var a=0;a<n.length;a++){var u=n[a];(this._movingAverages[o][u]=s(u)).push(this._frequencyLastTime,0)}}}start(){this._queue.length&&this._resetComputeTimeout()}stop(){this._timeout&&(this._timeout.clear(),this._timeout=null)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}push(e,t){this._queue.push([e,t,Date.now()]),this._resetComputeTimeout()}_resetComputeTimeout(){this._timeout?this._timeout.reschedule(this._nextTimeout()):this._timeout=o(this._update,this._nextTimeout())}_nextTimeout(){const e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(;this._queue.length;){const t=e=this._queue.shift();this._applyOp(t)}this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){const t=e-this._frequencyLastTime;Object.keys(this._stats).forEach((n=>{this._updateFrequencyFor(n,t,e)})),this._frequencyLastTime=e}_updateFrequencyFor(e,t,n){const r=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;const i=r/(t||1)*1e3;let o=this._movingAverages[e];o||(o=this._movingAverages[e]={});const a=this._options.movingAverageIntervals;for(var u=0;u<a.length;u++){var c=a[u],l=o[c];l||(l=o[c]=s(c)),l.push(n,i)}}_applyOp(e){const t=e[0],n=e[1];if("number"!=typeof n)throw new Error("invalid increment number:",n);let r;r=this._stats.hasOwnProperty(t)?this._stats[t]:this._stats[t]=i(0),this._stats[t]=r.plus(n),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=n}}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/stats/stat.js"}],[5664,{hashlru:5064},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("hashlru");t.exports=e=>{const t=r(e);return t.delete=t.remove,t}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/stats/old-peers.js"}],[5659,{"interface-connection":5096,"pull-stream/pull":6185},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("interface-connection").Connection,i=e("pull-stream/pull");t.exports=(e,t,n,s)=>{const o=new Promise(((e,t)=>{n.getPeerInfo(((t,r)=>{if(!t&&r)return void e(r);const i=n.setPeerInfo;n.setPeerInfo=t=>{i.call(n,t),e(t)}}))})),a={source:i(n,s.incoming(e,t,o)),sink:i(s.outgoing(e,t,o),n)};return new r(a,n)}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/observe-connection.js"}],[5647,{"./base":5645,"class-is":2522,"fsm-event":4977,"multistream-select":5938},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("fsm-event"),i=e("multistream-select"),s=e("class-is"),o=e("./base");t.exports=s(class extends o{constructor({connection:e,_switch:t,transportKey:n,peerInfo:s}){super({_switch:t,name:`inc:${t._peerInfo.id.toB58String().slice(0,8)}`}),this.conn=e,this.theirPeerInfo=s||null,this.theirB58Id=this.theirPeerInfo?this.theirPeerInfo.id.toB58String():null,this.ourPeerInfo=this.switch._peerInfo,this.transportKey=n,this.protocolMuxer=this.switch.protocolMuxer(this.transportKey),this.msListener=new i.Listener,this._state=r("DIALED",{DISCONNECTED:{disconnect:"DISCONNECTED"},DIALED:{privatize:"PRIVATIZING",encrypt:"ENCRYPTING"},PRIVATIZING:{done:"PRIVATIZED",disconnect:"DISCONNECTING"},PRIVATIZED:{encrypt:"ENCRYPTING"},ENCRYPTING:{done:"ENCRYPTED",disconnect:"DISCONNECTING"},ENCRYPTED:{upgrade:"UPGRADING",disconnect:"DISCONNECTING"},UPGRADING:{done:"MUXED"},MUXED:{disconnect:"DISCONNECTING"},DISCONNECTING:{done:"DISCONNECTED"}}),this._state.on("DISCONNECTED",(()=>this._onDisconnected())),this._state.on("PRIVATIZING",(()=>this._onPrivatizing())),this._state.on("PRIVATIZED",(()=>this._onPrivatized())),this._state.on("ENCRYPTING",(()=>this._onEncrypting())),this._state.on("ENCRYPTED",(()=>{this.log("successfully encrypted connection to %s",this.theirB58Id||"unknown peer"),this.emit("encrypted",this.conn)})),this._state.on("UPGRADING",(()=>this._onUpgrading())),this._state.on("MUXED",(()=>{this.log("successfully muxed connection to %s",this.theirB58Id||"unknown peer"),this.emit("muxed",this.conn)})),this._state.on("DISCONNECTING",(()=>{this._state("done")}))}_onEncrypting(){this.log("encrypting connection via %s",this.switch.crypto.tag),this.msListener.addHandler(this.switch.crypto.tag,((e,t)=>{this.conn=this.switch.crypto.encrypt(this.ourPeerInfo.id,t,undefined,(e=>{if(e)return this.close(e);this.conn.getPeerInfo(((e,t)=>{this.theirPeerInfo=t,this._state("done")}))}))}),null),this.msListener.handle(this.conn,(e=>{e&&this.emit("crypto handshaking failed",e)}))}_onUpgrading(){this.log("adding the protocol muxer to the connection"),this.protocolMuxer(this.conn,this.msListener),this._state("done")}},{className:"IncomingConnectionFSM",symbolName:"libp2p-switch/IncomingConnectionFSM"})}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/connection/incoming.js"}],[5650,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={BLACK_LIST_TTL:3e5,BLACK_LIST_ATTEMPTS:5,DIAL_TIMEOUT:3e4,MAX_COLD_CALLS:50,MAX_PARALLEL_DIALS:100,QUARTER_HOUR:9e5,PRIORITY_HIGH:10,PRIORITY_LOW:20}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/constants.js"}],[5653,{"../constants":5650,"../errors":5654,"./queue":5652,"async/nextTick":2155,debug:2927,once:6003,retimer:6444},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("once"),i=e("./queue"),{DIAL_ABORTED:s}=e("../errors"),o=e("async/nextTick"),a=e("retimer"),{QUARTER_HOUR:u,PRIORITY_HIGH:c}=e("../constants"),l=e("debug")("libp2p:switch:dial:manager"),h=()=>{};t.exports=class{constructor(e){this._queue=new Set,this._coldCallQueue=new Set,this._dialingQueues=new Set,this._queues={},this.switch=e,this._cleanInterval=a(this._clean.bind(this),u),this.start()}_clean(){Object.values(this._queues).forEach((e=>{if(e.blackListed===Infinity)return e.abort(),void delete this._queues[e.id];if(!e.blackListed&&!e.isRunning&&e.length<1){let t=!1;try{const n=this.switch._peerBook.get(e.id);t=Boolean(n.isConnected())}catch(e){}t||(e.abort(),delete this._queues[e.id])}})),this._cleanInterval.reschedule(u)}start(){this.isRunning=!0}stop(){this.isRunning=!1,this._queue.clear(),this._coldCallQueue.clear(),this._cleanInterval.clear();Object.values(this._queues).forEach((e=>{e.abort(),delete this._queues[e.id]}))}add({peerInfo:e,protocol:t,options:n,callback:i}){i=i?r(i):h;const a=this.getQueue(e);if(n.priority>c){if(this._coldCallQueue.size>=this.switch.dialer.MAX_COLD_CALLS)return o(i,s());if(this._queue.has(a.id))return o(i,s())}a.add(t,n.useFSM,i),e.isConnected()?a.start():a.isDialAllowed()&&(a.isRunning||(n.priority<=c?(this._queue.add(a.id),this._coldCallQueue.delete(a.id)):this._coldCallQueue.add(a.id)),this.run())}run(){if(this.isRunning&&this._dialingQueues.size<this.switch.dialer.MAX_PARALLEL_DIALS){let e={done:!0};if(this._queue.size>0?(e=this._queue.values().next(),this._queue.delete(e.value)):this._coldCallQueue.size>0&&(e=this._coldCallQueue.values().next(),this._coldCallQueue.delete(e.value)),e.done)return;let t=this._queues[e.value];if(!t)return void l("missing queue %s, maybe it was aborted?",e.value);this._dialingQueues.add(t.id),t.start()}}clearBlacklist(e){const t=this.getQueue(e);t.blackListed=null,t.blackListCount=0}_onQueueStopped(e){this._dialingQueues.delete(e),this.run()}getQueue(e){const t=e.id.toB58String();return this._queues[t]=this._queues[t]||new i(t,this.switch,this._onQueueStopped.bind(this)),this._queues[t]}}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/dialer/queueManager.js"}],[5667,{"libp2p-identify":5563},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("libp2p-identify");t.exports.msHandle=(e,t)=>new Promise(((n,r)=>{e.handle(t,(e=>{if(e)return r(e);n()}))})),t.exports.msSelect=(e,t)=>new Promise(((n,r)=>{e.select(t,((e,t)=>{if(e)return r(e);n(t)}))})),t.exports.identifyDialer=(e,t)=>new Promise(((n,i)=>{r.dialer(e,t,((e,t,r)=>{if(e)return i(e);n({peerInfo:t,observedAddrs:r})}))})),t.exports.uniqueBy=(e,t)=>[...new Map(e.map((e=>[t(e),e]))).values()]}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/utils.js"}],[5657,{"./queue":5658,"async/tryEach":2166,debug:2927},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async/tryEach"),i=e("debug")("libp2p:switch:dialer"),s=e("./queue");t.exports=class{constructor(e,t){i("create: %s peer limit, %s dial timeout",e,t),this.perPeerLimit=e,this.dialTimeout=t,this.queues=new Map}dialMany(e,t,n,s){i("dialMany:start");const o={cancel:!1};let a=[];const u=n.map((n=>r=>this.dialSingle(e,t,n,o,((e,t)=>e?(a.push(e),r(e)):r(null,t)))));r(u,((e,t)=>{if(t&&t.conn)return i("dialMany:success"),s(null,t);i("dialMany:error"),s(a)}))}dialSingle(e,t,n,r,o){const a=e.toB58String();let u;i("dialSingle: %s:%s",a,n.toString()),this.queues.has(a)?u=this.queues.get(a):(u=new s(this.perPeerLimit,this.dialTimeout),this.queues.set(a,u)),u.push(t,n,r,o)}}}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/limit-dialer/index.js"}],[5938,{"./constants":5936,"./dialer":5937,"./listener":5939,"./listener/match-exact":5941,"./listener/match-semver":5942},function(){with(this)return function(){"use strict";return function(e,t,n){n.Listener=n.listener=e("./listener"),n.Dialer=n.dialer=e("./dialer"),n.matchSemver=e("./listener/match-semver"),n.matchExact=e("./listener/match-exact"),n.constants=e("./constants")}}},{package:"multistream-select",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/multistream-select/src/index.js"}],[5648,{"../errors":5654,"../observe-connection":5659,"../utils":5667,"./base":5645,"async/nextTick":2155,"async/parallel":2156,"class-is":2522,"err-code":3029,"fsm-event":4977,"libp2p-circuit":5512,"libp2p-identify":5563,"multistream-select":5938},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("fsm-event"),i=e("libp2p-circuit"),s=e("multistream-select"),o=e("class-is"),a=e("./base"),u=e("async/parallel"),c=e("async/nextTick"),l=e("libp2p-identify"),h=e("err-code"),{msHandle:d,msSelect:f,identifyDialer:p}=e("../utils"),m=e("../observe-connection"),{CONNECTION_FAILED:g,DIAL_SELF:y,INVALID_STATE_TRANSITION:b,NO_TRANSPORTS_REGISTERED:_,maybeUnexpectedEnd:v}=e("../errors");t.exports=o(class extends a{constructor({_switch:e,peerInfo:t,muxer:n,conn:i,type:s="out"}){super({_switch:e,name:`${s}:${e._peerInfo.id.toB58String().slice(0,8)}`}),this.theirPeerInfo=t,this.theirB58Id=this.theirPeerInfo.id.toB58String(),this.conn=i,this.muxer=n;let o="DISCONNECTED";this.muxer&&(o="MUXED"),this._state=r(o,{DISCONNECTED:{dial:"DIALING",disconnect:"DISCONNECTED",done:"DISCONNECTED"},DIALING:{abort:"ABORTED",done:"DIALED",error:"ERRORED",disconnect:"DISCONNECTING"},DIALED:{encrypt:"ENCRYPTING",privatize:"PRIVATIZING"},PRIVATIZING:{done:"PRIVATIZED",abort:"ABORTED",disconnect:"DISCONNECTING"},PRIVATIZED:{encrypt:"ENCRYPTING"},ENCRYPTING:{done:"ENCRYPTED",error:"ERRORED",disconnect:"DISCONNECTING"},ENCRYPTED:{upgrade:"UPGRADING",disconnect:"DISCONNECTING"},UPGRADING:{stop:"CONNECTED",done:"MUXED",error:"ERRORED",disconnect:"DISCONNECTING"},MUXED:{disconnect:"DISCONNECTING"},CONNECTED:{disconnect:"DISCONNECTING"},DISCONNECTING:{done:"DISCONNECTED",disconnect:"DISCONNECTING"},ABORTED:{},ERRORED:{disconnect:"DISCONNECTING"}}),this._state.on("DISCONNECTED",(()=>this._onDisconnected())),this._state.on("DIALING",(()=>this._onDialing())),this._state.on("DIALED",(()=>this._onDialed())),this._state.on("PRIVATIZING",(()=>this._onPrivatizing())),this._state.on("PRIVATIZED",(()=>this._onPrivatized())),this._state.on("ENCRYPTING",(()=>this._onEncrypting())),this._state.on("ENCRYPTED",(()=>{this.log("successfully encrypted connection to %s",this.theirB58Id),this.emit("encrypted",this.conn)})),this._state.on("UPGRADING",(()=>this._onUpgrading())),this._state.on("MUXED",(()=>{this.log("successfully muxed connection to %s",this.theirB58Id),delete this.switch.conns[this.theirB58Id],this.emit("muxed",this.muxer)})),this._state.on("CONNECTED",(()=>{this.log("unmuxed connection opened to %s",this.theirB58Id),this.emit("unmuxed",this.conn)})),this._state.on("DISCONNECTING",(()=>this._onDisconnecting())),this._state.on("ABORTED",(()=>this._onAborted())),this._state.on("ERRORED",(()=>this._onErrored())),this._state.on("error",(e=>this._onStateError(e)))}dial(){return this.theirB58Id===this.ourPeerInfo.id.toB58String()?this.emit("error",y()):"DIALING"===this.getState()?this.log("attempted to dial while already dialing, ignoring"):void this._state("dial")}shake(e,t){return e?this.muxer&&this.muxer.newStream?this.muxer.newStream(((n,r)=>{if(n)return t(n,null);this.log("created new stream to %s",this.theirB58Id),this._protocolHandshake(e,r,t)})):void this._protocolHandshake(e,this.conn,t):t(null,null)}upgrade(){this._state("upgrade")}_onDialing(){if(this.log("dialing %s",this.theirB58Id),!this.switch.hasTransports())return this.close(_());const e=this.switch.availableTransports(this.theirPeerInfo),t=Boolean(this.switch.transports[i.tag]);t&&!e.includes(i.tag)&&e.push(i.tag);const n=r=>{let s=r;if(!s)return t?this.close(g(`No available transports to dial peer ${this.theirB58Id}!`)):this.close(g(`Circuit not enabled and all transports failed to dial peer ${this.theirB58Id}!`));s===i.tag&&this.theirPeerInfo.multiaddrs.add(`/p2p-circuit/p2p/${this.theirB58Id}`),this.log("dialing transport %s",s),this.switch.transport.dial(s,this.theirPeerInfo,((t,r)=>{if(t)return this.emit("error:connection_attempt_failed",t),this.log(t),n(e.shift());this.conn=m(s,null,r,this.switch.observer),this._state("done")}))};n(e.shift())}_onDialed(){this.log("successfully dialed %s",this.theirB58Id),this.emit("connected",this.conn)}_onDisconnecting(){this.log("disconnecting from %s",this.theirB58Id,Boolean(this.muxer)),delete this.switch.conns[this.theirB58Id];let e=[];if(this.muxer&&e.push((e=>{this.muxer.end((()=>{delete this.muxer,e()}))})),this.conn){try{this.conn.source.abort()}catch(e){}delete this.conn}u(e,(()=>{this._state("done")}))}_onEncrypting(){const e=new s.Dialer;e.handle(this.conn,(t=>{if(t)return this.close(v(t));this.log("selecting crypto %s to %s",this.switch.crypto.tag,this.theirB58Id),e.select(this.switch.crypto.tag,((e,t)=>{if(e)return this.close(v(e));const n=m(null,this.switch.crypto.tag,t,this.switch.observer),r=this.switch.crypto.encrypt(this.ourPeerInfo.id,n,this.theirPeerInfo.id,(e=>{if(e)return this.close(e);this.conn=r,this.conn.setPeerInfo(this.theirPeerInfo),this._state("done")}))}))}))}_onUpgrading(){const e=Object.keys(this.switch.muxers);if(this.log("upgrading connection to %s",this.theirB58Id),0===e.length)return this._state("stop");const t=new s.Dialer;t.handle(this.conn,(n=>{if(n)return this._didUpgrade(n);const r=n=>{this.log("selecting %s",n),t.select(n,((t,i)=>{if(t)return 0===e.length?this._didUpgrade(t):r(e.shift());const s=m(null,n,i,this.switch.observer);this.muxer=this.switch.muxers[n].dialer(s),this.muxer.once("close",(()=>{this.close()})),this.muxer.on("stream",(e=>{this.log("new stream created via muxer to %s",this.theirB58Id),e.setPeerInfo(this.theirPeerInfo),this.switch.protocolMuxer(null)(e)})),this._didUpgrade(null),this.switch.identify&&this._identify(((e,t)=>{if(e)return this.close(e);this.theirPeerInfo=this.switch._peerBook.put(t.peerInfo)}))}))};r(e.shift())}))}_identify(e){if(!this.muxer)return c(e,h("The connection was already closed","ERR_CONNECTION_CLOSED"));this.muxer.newStream((async(t,n)=>{if(t)return e(t);const r=new s.Dialer;let i;try{await d(r,n);const e=await f(r,l.multicodec);i=await p(e,this.theirPeerInfo)}catch(t){return e(t)}e(null,i)}))}_didUpgrade(e){if(e)return this.log("Error upgrading connection:",e),this.switch.conns[this.theirB58Id]=this,this.emit("error:upgrade_failed",e),this._state("stop");this._state("done")}_protocolHandshake(e,t,n){const r=new s.Dialer;r.handle(t,(t=>{if(t)return n(t,null);r.select(e,((t,r)=>{if(t)return this.log("could not perform protocol handshake:",t),n(t,null);const i=m(null,e,r,this.switch.observer);this.log("successfully performed handshake of %s to %s",e,this.theirB58Id),this.emit("connection",i),n(null,i)}))}))}_onStateError(e){this.emit("error",b(e)),this.log(e)}},{className:"ConnectionFSM",symbolName:"libp2p-switch/ConnectionFSM"})}}},{package:"libp2p-switch",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-switch/src/connection/index.js"}],[5563,{"./dialer":5562,"./listener":5564,"./message":5565},function(){with(this)return function(){"use strict";return function(e,t,n){(n=t.exports).multicodec="/ipfs/id/1.0.0",n.listener=e("./listener"),n.dialer=e("./dialer"),n.message=e("./message")}}},{package:"libp2p-identify",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-identify/src/index.js"}],[5506,{"./circuit/dialer":5507,"./circuit/utils":5511,"./listener":5513,debug:2927,mafmt:5884,multiaddr:5903},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("mafmt"),i=e("multiaddr"),s=e("./circuit/dialer"),o=e("./circuit/utils"),a=e("debug");a("libp2p:circuit:transportdialer").err=a("libp2p:circuit:error:transportdialer");const u=e("./listener");t.exports=class{static get tag(){return"Circuit"}constructor(e,t){this.options=t||{},this.swarm=e,this.dialer=null,this.utils=o(e),this.peerInfo=this.swarm._peerInfo,this.relays=this.filter(this.peerInfo.multiaddrs.toArray()),0===this.relays.length&&this.peerInfo.multiaddrs.add(`/p2p-circuit/ipfs/${this.peerInfo.id.toB58String()}`),this.dialer=new s(e,t),this.swarm.on("peer-mux-established",(e=>{this.dialer.canHop(e)})),this.swarm.on("peer-mux-closed",(e=>{this.dialer.relayPeers.delete(e.id.toB58String())}))}_dialSwarmRelays(){this.relays.forEach((e=>{e.toString().split("/p2p-circuit").filter((e=>e.length)).forEach((e=>{const t=this.utils.peerInfoFromMa(i(e));this.dialer._dialRelay(t)}))}))}dial(e,t,n){return this.dialer.dial(e,t,n)}createListener(e,t){"function"==typeof e&&(t=e,e=this.options||{});const n=u(this.swarm,e,t);return n.on("listen",this._dialSwarmRelays.bind(this)),n}filter(e){return Array.isArray(e)||(e=[e]),e.filter((e=>r.Circuit.matches(e)))}}}}},{package:"libp2p-circuit",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/libp2p-circuit/src/circuit.js"}],[5163,{"async-iterator-last":2095,buffer:2478,debug:2927,"hamt-sharding/src/bucket":5025,"ipfs-unixfs":5227,"ipfs-unixfs-importer/src/dir-sharded":5220,"ipld-dag-pb":5366,multicodec:5914,multihashes:5929},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const{DAGNode:r}=e("ipld-dag-pb"),i=e("hamt-sharding/src/bucket"),s=e("ipfs-unixfs-importer/src/dir-sharded"),o=e("debug")("ipfs:mfs:core:utils:hamt-utils"),a=e("ipfs-unixfs"),u=e("multicodec"),c=e("multihashes"),l=e("async-iterator-last"),h=async(e,t,n,r)=>{const o=new i({hashFn:s.hashFn,hash:n?n._options.hash:undefined},n,r);return n&&n._putObjectAt(r,o),await d(e,o,t),o},d=async(e,t,n)=>{await Promise.all(e.map((e=>{if(2===e.Name.length){const n=parseInt(e.Name,16);return t._putObjectAt(n,new i({hashFn:s.hashFn},t,n)),Promise.resolve()}return(n||t).put(e.Name.substring(2),{size:e.TSize,cid:e.Hash})})))},f=e=>e.toString("16").toUpperCase().padStart(2,"0").substring(0,2);t.exports={generatePath:async(e,t,n)=>{const r=await h(n.Links,null,null,null),i=await r._findNewBucketAndPos(t);let s=[{bucket:i.bucket,prefix:f(i.pos)}],a=i.bucket;for(;a!==r;)s.push({bucket:a,prefix:f(a._posAtParent)}),a=a._parent;s.reverse(),s[0].node=n;for(let n=0;n<s.length;n++){const i=s[n],a=i.node.Links.filter((e=>e.Name.substring(0,2)===i.prefix)).pop();if(!a){o(`Link ${i.prefix}${t} will be added`);continue}if(a.Name===`${i.prefix}${t}`){o(`Link ${i.prefix}${t} will be replaced`);continue}o(`Found subshard ${i.prefix}`);const u=await e.ipld.get(a.Hash);if(!s[n+1]){o(`Loaded new subshard ${i.prefix}`),await h(u.Links,r,i.bucket,parseInt(i.prefix,16));const e=await r._findNewBucketAndPos(t);s.push({bucket:e.bucket,prefix:f(e.pos),node:u});continue}const c=s[n+1];await d(u.Links,c.bucket,r),c.node=u}return await r.put(t,!0),s.reverse(),{rootBucket:r,path:s}},updateHamtDirectory:async(e,t,i,o)=>{const l=n.from(i._children.bitField().reverse()),h=new a("hamt-sharded-directory",l);h.fanout=i.tableSize(),h.hashType=s.hashFn.code;const d=u[o.format.toUpperCase().replace(/-/g,"_")],f=c.names[o.hashAlg],p=r.create(h.marshal(),t);return{node:p,cid:await e.ipld.put(p,d,{cidVersion:o.cidVersion,hashAlg:f,hashOnly:!o.flush})}},recreateHamtLevel:h,addLinksToHamtBucket:d,toPrefix:f,createShard:async(e,t,n)=>{const r=new s({root:!0,dir:!0,parent:null,parentKey:null,path:"",dirty:!0,flat:!1},n);for(let e=0;e<t.length;e++)await r._bucket.put(t[e].name,{size:t[e].size,cid:t[e].cid});return l(r.flush("",e.ipld,null))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-mfs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-mfs/src/core/utils/hamt-utils.js"}],[5220,{"./dir":5221,"./utils/persist":5225,buffer:2478,"deep-extend":2930,"hamt-sharding":5028,"ipfs-unixfs":5227,"ipld-dag-pb":5366,"multihashing-async":5932},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const{DAGLink:r,DAGNode:i}=e("ipld-dag-pb"),s=e("ipfs-unixfs"),o=e("multihashing-async"),a=e("./dir"),u=e("./utils/persist"),c=e("hamt-sharding"),l=e("deep-extend"),h=async function(e){const t=(await o(n.from(e,"utf8"),"murmur3-128")).slice(2,10),r=t.length,i=n.alloc(r);for(let e=0;e<r;e++)i[r-e-1]=t[e];return i};h.code=34;const d={hashFn:h};async function*f(e,t,o,a){const l=t._children,h=[];for(let e=0;e<l.length;e++){const t=l.get(e);if(!t)continue;const n=e.toString(16).toUpperCase().padStart(2,"0");if(c.isBucket(t)){let e;for await(const n of await f("",t,o,a))e=n;h.push(await new r(n,e.node.size,e.cid))}else if("function"==typeof t.value.flush){const e=t.value;let i;for await(const t of e.flush(e.path,o))i=t,yield i;const s=n+t.key;h.push(new r(s,i.node.size,i.cid))}else{const e=t.value;if(!e.node){if(!e.cid)continue;e.node=await o.get(e.cid)}const i=n+t.key,s=e.node.length||e.node.size||e.node.Size;h.push(await new r(i,s,e.cid))}}const d=n.from(l.bitField().reverse()),p=new s("hamt-sharded-directory",d);p.fanout=t.tableSize(),p.hashType=a.hashFn.code;const m=i.create(p.marshal(),h),g=await u(m,o,a);yield{cid:g,node:m,unixfs:p,path:e}}t.exports=class extends a{constructor(e,t){super(e,t=l({},d,t)),this._bucket=c(t)}async put(e,t){await this._bucket.put(e,t)}get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:e,value:t}of this._bucket.eachLeafSeries())yield{key:e,child:t}}async*flush(e,t){for await(const n of f(e,this._bucket,t,this.options))yield n}},t.exports.hashFn=h}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/dir-sharded.js"}],[6128,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r;t.exports.timeout=function(e,t){var n,i=new r;return Promise.race([e,new Promise((function(e,r){n=setTimeout((function(){r(i)}),t)}))]).then((function(e){return clearTimeout(n),e}),(function(e){throw clearTimeout(n),e}))};(r=t.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"}).prototype=Object.create(Error.prototype),r.prototype.name="TimeoutError"}}},{package:"promise-timeout",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/promise-timeout/index.js"}],[6002,{},function(){with(this)return function(){"use strict";return function(e,t,n){const r={},i=e=>{e.addEventListener("message",(t=>{i.dispatchEvent("message",e,t)})),e.port&&e.port.addEventListener("message",(t=>{i.dispatchEvent("message",e,t)}))};i.addEventListener=(e,t)=>{r[e]||(r[e]=[]),r[e].push(t)},i.removeEventListener=(e,t)=>{r[e]&&(r[e]=r[e].filter((e=>e===t)))},i.dispatchEvent=function(){const e=Array.prototype.slice.call(arguments),t=e.shift();r[t]&&r[t].forEach((t=>t.apply(null,e)))},t.exports=i}}},{package:"observable-webworkers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/observable-webworkers/lib/index.js"}],[5897,{"./constants":5895,_process:6127,cluster:2477,events:2479,shortid:6520},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("events").EventEmitter,i=e("shortid"),{WORKER_REQUEST_READ_LOCK:s,WORKER_RELEASE_READ_LOCK:o,MASTER_GRANT_READ_LOCK:a,WORKER_REQUEST_WRITE_LOCK:u,WORKER_RELEASE_WRITE_LOCK:c,MASTER_GRANT_WRITE_LOCK:l}=e("./constants");let h;const d=(e,t,n,r,i)=>(s,o)=>{o&&o.type===n&&e.emit(t,o.name,(()=>(s.send({type:i,name:o.name,identifier:o.identifier}),new Promise((e=>{const t=n=>{n&&n.type===r&&n.identifier===o.identifier&&(s.removeListener("message",t),e())};s.on("message",t)})))))},f=(e,t,r,s)=>o=>{const a=i.generate();return n.send({type:t,identifier:a,name:e}),new Promise(((t,i)=>{const u=c=>{if(c&&c.type===r&&c.identifier===a){n.removeListener("message",u);let r=null;o().catch((e=>{r=e})).then((o=>{if(n.send({type:s,identifier:a,name:e}),r)return i(r);t(o)}))}};n.on("message",u)}))};t.exports=t=>{try{if(h=e("cluster"),!Object.keys(h).length)return}catch(e){return}if(h.isMaster||t.singleProcess){const e=new r;return h.on("message",d(e,"requestReadLock",s,o,a)),h.on("message",d(e,"requestWriteLock",u,c,l)),e}return{isWorker:!0,readLock:(e,t)=>f(e,s,a,o),writeLock:(e,t)=>f(e,u,l,c)}}}).call(this)}).call(this,e("_process"))}}},{package:"mortice",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/mortice/lib/node.js"}],[5894,{"./constants":5895,events:2479,"observable-webworkers":6002,shortid:6520},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("events").EventEmitter,i=e("shortid"),{WORKER_REQUEST_READ_LOCK:s,WORKER_RELEASE_READ_LOCK:o,MASTER_GRANT_READ_LOCK:a,WORKER_REQUEST_WRITE_LOCK:u,WORKER_RELEASE_WRITE_LOCK:c,MASTER_GRANT_WRITE_LOCK:l}=e("./constants"),h=e("observable-webworkers"),d=(e,t,n,r,i)=>(s,o)=>{if(!o||!o.data||o.data.type!==n)return;const a={type:o.data.type,name:o.data.name,identifier:o.data.identifier};e.emit(t,a.name,(()=>(s.postMessage({type:i,name:a.name,identifier:a.identifier}),new Promise((e=>{const t=n=>{if(!n||!n.data)return;const i={type:n.data.type,name:n.data.name,identifier:n.data.identifier};i&&i.type===r&&i.identifier===a.identifier&&(s.removeEventListener("message",t),e())};s.addEventListener("message",t)})))))},f=(e,t,n,r,s)=>o=>{const a=i.generate();return e.postMessage({type:n,identifier:a,name:t}),new Promise(((n,i)=>{const u=c=>{if(!c||!c.data)return;const l={type:c.data.type,identifier:c.data.identifier};if(l&&l.type===r&&l.identifier===a){let r;e.removeEventListener("message",u),o().catch((e=>{r=e})).then((o=>(e.postMessage({type:s,identifier:a,name:t}),r?i(r):n(o))))}};e.addEventListener("message",u)}))},p={global:global,singleProcess:!1};t.exports=e=>{if(!!(e=Object.assign({},p,e)).global.document||e.singleProcess){const e=new r;return h.addEventListener("message",d(e,"requestReadLock",s,o,a)),h.addEventListener("message",d(e,"requestWriteLock",u,c,l)),e}return{isWorker:!0,readLock:(e,t)=>f(t.global,e,s,a,o),writeLock:(e,t)=>f(t.global,e,u,l,c)}}}}},{package:"mortice",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/mortice/lib/browser.js"}],[5206,{buffer:2478},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){t.exports=function(t,n,r,i){const s=n+t.length;return r>=s||i<n?e.alloc(0):(i>=n&&i<s&&(t=t.slice(0,i-n)),r>=n&&r<s&&(t=t.slice(r-n)),t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-unixfs-exporter",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-exporter/src/utils/extract-data-from-block.js"}],[5208,{"err-code":3029},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("err-code");t.exports=(e,t,n)=>{if(t||(t=0),t<0)throw r(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(t>e)throw r(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(n||0===n||(n=e-t),n<0)throw r(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return t+n>e&&(n=e-t),{offset:t,length:n}}}}},{package:"ipfs-unixfs-exporter",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-exporter/src/utils/validate-offset-and-length.js"}],[5202,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=(e,t,n,r,i,s,o)=>async function*(e={}){const n=e.offset||0,a=e.length||t.Links.length,u=t.Links.slice(n,a);for(const e of u){const t=await i(e.Hash,e.Name,`${r}/${e.Name}`,[],s+1,o);yield t.entry}}}}},{package:"ipfs-unixfs-exporter",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-exporter/src/resolvers/unixfs-v1/content/directory.js"}],[5204,{},function(){with(this)return function(){"use strict";return function(e,t,n){async function*r(e,t,n,i,s,o){const a=e.Links;for(const u of a){const a=u.Name.substring(2);if(a){const e=await n(u.Hash,a,`${t}/${a}`,[],i+1,s);yield e.entry}else{e=await s.get(u.Hash);for await(const a of r(e,t,n,i,s,o))yield a}}}t.exports=(e,t,n,i,s,o,a)=>(e={})=>r(t,i,s,o,a,e)}}},{package:"ipfs-unixfs-exporter",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-exporter/src/resolvers/unixfs-v1/content/hamt-sharded-directory.js"}],[5203,{"../../../../../is-buffer/index.js":5378,"../../../utils/extract-data-from-block":5206,"../../../utils/validate-offset-and-length":5208,"err-code":3029,"ipfs-unixfs":5227},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("../../../utils/extract-data-from-block"),i=e("../../../utils/validate-offset-and-length"),s=e("ipfs-unixfs"),o=e("err-code");async function*a(e,t,i,u,c=0){if(n.isBuffer(t)){const e=r(t,c,i,u);return e.length&&(yield e),c+=e.length}let l;try{l=s.unmarshal(t.Data)}catch(e){throw o(e,"ERR_NOT_UNIXFS")}if(Boolean(l.data&&l.data.length)){const e=r(l.data,c,i,u);e.length&&(yield e),c+=l.data.length}let h=c;for(let n=0;n<t.Links.length;n++){const r=t.Links[n],s=c+l.blockSizes[n];if(i>=h&&i<s||u>h&&u<=s||i<h&&u>s){const t=await e.get(r.Hash);for await(const n of a(e,t,i,u,c))c+=n.length,yield n}c=s,h=s+1}}t.exports=(e,t,n,r,s,o,u)=>(e={})=>{const r=n.fileSize(),{offset:s,length:o}=i(r,e.offset,e.length);return a(u,t,s,s+o)}}).call(this)}).call(this,{isBuffer:e("../../../../../is-buffer/index.js")})}}},{package:"ipfs-unixfs-exporter",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-exporter/src/resolvers/unixfs-v1/content/file.js"}],[5207,{"hamt-sharding/src/bucket":5025,"ipfs-unixfs-importer/src/dir-sharded":5220},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("hamt-sharding/src/bucket"),i=e("ipfs-unixfs-importer/src/dir-sharded"),s=e=>e.toString("16").toUpperCase().padStart(2,"0").substring(0,2),o=async(e,t,n,a)=>{var u,c,l;a||((a={rootBucket:new r({hashFn:i.hashFn}),hamtDepth:1}).lastBucket=a.rootBucket),await(u=e.Links,c=a.lastBucket,l=a.rootBucket,Promise.all(u.map((e=>{if(2===e.Name.length){const t=parseInt(e.Name,16);return c._putObjectAt(t,new r({hashFn:i.hashFn},c,t))}return l.put(e.Name.substring(2),!0)}))));const h=await a.rootBucket._findNewBucketAndPos(t);let d=s(h.pos);const f=(e=>{let t=e.bucket;const n=[];for(;t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(h);f.length>a.hamtDepth&&(a.lastBucket=f[a.hamtDepth],d=s(a.lastBucket._posAtParent));const p=e.Links.find((e=>{const n=e.Name.substring(0,2),r=e.Name.substring(2);if(n===d&&(!r||r===t))return!0}));return p?p.Name.substring(2)===t?p.Hash:(a.hamtDepth++,e=await n.get(p.Hash),o(e,t,n,a)):null};t.exports=o}}},{package:"ipfs-unixfs-exporter",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-exporter/src/utils/find-cid-in-shard.js"}],[5225,{multicodec:5914,multihashes:5929},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("multihashes"),i=e("multicodec");t.exports=(e,t,n)=>{!n.codec&&e.length&&(n.cidVersion=1,n.codec="raw"),isNaN(n.hashAlg)&&(n.hashAlg=r.names[n.hashAlg]),n.hashAlg!==r.names["sha2-256"]&&(n.cidVersion=1),n.format&&(n.codec=n.format);const s=i[n.codec.toUpperCase().replace(/-/g,"_")];return t.put(e,s,n)}}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/utils/persist.js"}],[5214,{"async-iterator-batch":2093},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async-iterator-batch");t.exports=async function*(e,t){const n=[];for await(const i of r(e,Infinity))n.push(await t(i));yield n[0]}}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/dag-builder/file/flat.js"}],[5213,{"async-iterator-batch":2093},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async-iterator-batch");async function i(e,t,n){const s=[];for await(const i of r(e,n.maxChildrenPerNode))s.push(await t(i));return s.length>1?i(s,t,n):s[0]}t.exports=async function*(e,t,n){yield await i(e,t,n)}}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/dag-builder/file/balanced.js"}],[5216,{"async-iterator-batch":2093},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("async-iterator-batch");t.exports=function*(e,t,n){yield async function(e,t,n){let o,a=0,u=1,c=o=new s(n.layerRepeat);for await(const s of r(e,n.maxChildrenPerNode))c.isFull()&&(c!==o&&o.addChild(await c.reduce(t)),a&&a%n.layerRepeat==0&&u++,c=new i(u,n.layerRepeat,a),a++),c.append(s);c&&c!==o&&o.addChild(await c.reduce(t));return o.reduce(t)}(e,t,n)};class i{constructor(e,t,n){this.maxDepth=e,this.layerRepeat=t,this.currentDepth=1,this.iteration=n,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:e,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const e=this._findParent(this.node,this.currentDepth);return!e||(this._addNextNodeToParent(e),!1)}_addNextNodeToParent(e){this.parent=e;const t={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(t),this.currentDepth=t.depth,this.node=t}append(e){this.node.data=e}reduce(e){return this._reduce(this.root,e)}async _reduce(e,t){let n=[];return e.children.length&&(n=await Promise.all(e.children.filter((e=>e.data)).map((e=>this._reduce(e,t))))),t(e.data.concat(n))}_findParent(e,t){const n=e.parent;if(n&&0!==n.depth)return n.children.length!==n.maxChildren&&n.maxChildren?n:this._findParent(n,t)}}class s extends i{constructor(e){super(0,e),this.root.depth=0,this.currentDepth=1}addChild(e){this.root.children.push(e)}reduce(e){return e(this.root.data.concat(this.root.children))}}}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/dag-builder/file/trickle.js"}],[5211,{bl:2410,buffer:2478,"err-code":3029,"rabin-wasm":6259},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){const r=e("bl"),{create:i}=e("rabin-wasm"),s=e("err-code");t.exports=async function*(e,t){const n=o();let r,i,a;if(t.minChunkSize&&t.maxChunkSize&&t.avgChunkSize)a=t.avgChunkSize,r=t.minChunkSize,i=t.maxChunkSize;else{if(!t.avgChunkSize)throw s(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");a=t.avgChunkSize,r=a/3,i=a+a/2}if(r<16)throw s(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");i<r&&(i=r),a<r&&(a=r);const u=Math.floor(Math.log2(a));for await(const s of n(e,{min:r,max:i,bits:u,window:t.window,polynomial:t.polynomial}))yield s};const o=()=>async function*(e,t){const s=await i(t.bits,t.min,t.max,t.window),o=new r;let a=[];for await(const t of e){o.append(t),a.push(t);const e=s.fingerprint(n.concat(a));a=[];for(let t=0;t<e.length;t++){var u=e[t],c=o.slice(0,u);o.consume(u),yield c}}o.length&&(yield o.slice(0))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/chunker/rabin.js"}],[5209,{bl:2410},function(){with(this)return function(){"use strict";return function(e,t,n){const r=e("bl");t.exports=async function*(e,t){let n=new r,i=0,s=!1;const o=t.maxChunkSize;for await(const t of e)for(n.append(t),i+=t.length;i>=o;)if(yield n.slice(0,o),s=!0,o===n.length)n=new r,i=0;else{const e=new r;e.append(n.shallowSlice(o)),n=e,i-=o}s&&!i||(yield n.slice(0,i))}}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-unixfs-importer/src/chunker/fixed-size.js"}],[5230,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function s(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(n===undefined||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(r," ").concat(s(t,"type"));else{var u=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(u," ").concat(r," ").concat(s(t,"type"))}return a+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/errors-browser.js"}],[5238,{_process:6127},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,s){var o=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(s?s(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!s&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(r,o):(o._writableState.errorEmitted=!0,e.nextTick(n,o,t)):e.nextTick(n,o,t):s?(e.nextTick(r,o),s(t)):e.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[5243,{events:2479},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=e("events").EventEmitter}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[5242,{"../../../errors":5230},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var s=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new r(i?n:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/state.js"}],[5240,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[5237,{buffer:2478,util:2477},function(){with(this)return function(){"use strict";return function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=e("buffer").Buffer,a=e("util").inspect,u=a&&a.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,c;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,n,r,i=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=i,r=a,o.prototype.copy.call(t,n,r),a+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?r+=i:r+=i.slice(0,e),0==(e-=s)){s===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(s));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&s(t.prototype,n),c&&s(t,c),e}()}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[5236,{"./end-of-stream":5239,_process:6127},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=e("./end-of-stream"),o=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var n=e[d].read();null!==n&&(e[l]=null,e[o]=null,e[a]=null,t(f(n,!1)))}}function m(e){n.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(r={get stream(){return this[d]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(f(undefined,!0));if(this[d].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[u]?r(e[u]):t(f(undefined,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[c]?n(f(undefined,!0)):t[h](n,r)}),r)}}(i,this));else{var s=this[d].read();if(null!==s)return Promise.resolve(f(s,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(f(undefined,!0))}))}))})),r),g);t.exports=function(e){var t,n=Object.create(y,(i(t={},d,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[d].read();r?(n[l]=null,n[o]=null,n[a]=null,e(f(r,!1))):(n[o]=e,n[a]=t)},writable:!0}),t));return n[l]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[l]=null,n[o]=null,n[a]=null,t(e)),void(n[u]=e)}var r=n[o];null!==r&&(n[l]=null,n[o]=null,n[a]=null,r(f(undefined,!0))),n[c]=!0})),e.on("readable",m.bind(null,n)),n}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[5245,{"safe-buffer":6450},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("safe-buffer").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return n!==undefined?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}n.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if((t=this.fillLast(e))===undefined)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}}}},{package:"string_decoder",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/ipfs-utils/node_modules/string_decoder/lib/string_decoder.js"}],[1306,{},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=e.slice().sort(((e,t)=>e.cmp(t))),n=t.length;return t[Math.floor((n-1)/2)]}}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/medianOf.js"}],[1296,{"../util":1335,"ethereumjs-util":3195},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});const i=e("ethereumjs-util"),s=e("../util"),o=1024;function a({ethQuery:e,numberOfBlocks:t,endBlockNumber:n,percentiles:i,includeNextBlock:o}){var a;return r(this,void 0,void 0,(function*(){const r=yield s.query(e,"eth_feeHistory",[s.toHex(t),s.toHex(n),i]),u=s.fromHex(r.oldestBlock);if(r.baseFeePerGas!==undefined&&r.baseFeePerGas.length>0&&r.gasUsedRatio.length>0&&(r.reward===undefined||r.reward.length>0)){const e=o?r.baseFeePerGas:r.baseFeePerGas.slice(0,t),n=r.gasUsedRatio,c=null!==(a=r.reward)&&void 0!==a?a:[],l=n.length;return e.map(((e,t)=>{const r=s.fromHex(e),o=u.addn(t);return t>=l?function({baseFeePerGas:e,number:t}){return{number:t,baseFeePerGas:e,gasUsedRatio:null,priorityFeesByPercentile:null}}({baseFeePerGas:r,number:o}):function({baseFeePerGas:e,number:t,blockIndex:n,gasUsedRatios:r,priorityFeePercentileGroups:i,percentiles:o}){const a=r[n],u=i[n];return{number:t,baseFeePerGas:e,gasUsedRatio:a,priorityFeesByPercentile:o.reduce(((e,t,n)=>{const r=u[n];return Object.assign(Object.assign({},e),{[t]:s.fromHex(r)})}),{})}}({baseFeePerGas:r,number:o,blockIndex:t,gasUsedRatios:n,priorityFeePercentileGroups:c,percentiles:i})}))}return[]}))}n.default=function({ethQuery:e,numberOfBlocks:t,endBlock:n="latest",percentiles:u=[],includeNextBlock:c=!1}){return r(this,void 0,void 0,(function*(){const r=u.length>0?Array.from(new Set(u)).sort(((e,t)=>e-t)):[],l=function(e,t){e.lt(new i.BN(t))&&(t=e.toNumber());const n=[];for(let r=e.subn(t);r.lt(e);r=r.addn(o)){const t=e.sub(r).toNumber(),i=t<o?t:o,s=r.addn(i);n.push({numberOfBlocks:i,endBlockNumber:s})}return n}("latest"===n?s.fromHex(yield s.query(e,"blockNumber")):n,t);return(yield Promise.all(l.map((({numberOfBlocks:t,endBlockNumber:n},i)=>i===l.length-1?a({ethQuery:e,numberOfBlocks:t,endBlockNumber:n,percentiles:r,includeNextBlock:c}):a({ethQuery:e,numberOfBlocks:t,endBlockNumber:n,percentiles:r,includeNextBlock:!1}))))).reduce(((e,t)=>[...e,...t]),[])}))}}}},{package:"@metamask/controllers",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/@metamask/controllers/dist/gas/fetchBlockFeeHistory.js"}],[1344,{},function(){with(this)return function(){"use strict";return function(e,t,n){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var i=new Uint8Array(16);t.exports=function(){return r(i),i}}else{var s=new Array(16);t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),s[t]=e>>>((3&t)<<3)&255;return s}}}}},{package:"uuid",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/ethereumjs-wallet/node_modules/uuid/lib/rng-browser.js"}],[1343,{},function(){with(this)return function(){"use strict";return function(e,t,n){for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);t.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}}}},{package:"uuid",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/ethereumjs-wallet/node_modules/uuid/lib/bytesToUuid.js"}],[1355,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){return function(t,n){var r=0,i=e.options.timeout||8e5,s=e.options.interval||7e3,o=new Promise((function(n,o){var a=setInterval((function(){(e.getTransactionReceipt(t,(function(e,t){e&&(clearInterval(a),o(e)),!e&&t&&(clearInterval(a),n(t))})),r>=i)&&(clearInterval(a),o("Receipt timeout waiting for tx hash: "+t));r+=s}),s)}));return n&&o.then((function(e){return n(null,e)})).catch((function(e){return n(e,null)})),n?null:o}}}}},{package:"ethjs",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/ethjs/lib/lib/getTransactionSuccess.js"}],[1336,{},function(){with(this)return function(){"use strict";return function(e,t,n){!function(t,n){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function s(e,t,n){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var o;"object"==typeof t?t.exports=s:n.BN=s,s.BN=s,s.wordSize=26;try{o=e("buf"+"fer").Buffer}catch(e){}function a(e,t,n){for(var r=0,i=Math.min(e.length,n),s=t;s<i;s++){var o=e.charCodeAt(s)-48;r<<=4,r|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return r}function u(e,t,n,r){for(var i=0,s=Math.min(e.length,n),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=r,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},s.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},s.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,s=0;for(n=e.length-6,r=0;n>=t;n-=6)i=a(e,n,n+6),this.words[r]|=i<<s&67108863,this.words[r+1]|=i>>>26-s&4194303,(s+=24)>=26&&(s-=26,r++);n+6!==t&&(i=a(e,t,n+6),this.words[r]|=i<<s&67108863,this.words[r+1]|=i>>>26-s&4194303),this.strip()},s.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var s=e.length-n,o=s%r,a=Math.min(s,s-o)+n,c=0,l=n;l<a;l+=r)c=u(e,l,l+r,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var h=1;for(c=u(e,l,e.length,t),l=0;l<o;l++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,u=o/67108864|0;n.words[0]=a;for(var c=1;c<r;c++){for(var l=u>>>26,h=67108863&u,d=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=d;f++){var p=c-f|0;l+=(o=(i=0|e.words[p])*(s=0|t.words[f])+h)/67108864|0,h=67108863&o}n.words[c]=0|h,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}s.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);n=0!==(s=a>>>24-i&16777215)||o!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var d=l[e],f=h[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);n=(p=p.idivn(f)).isZero()?m+n:c[d-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===t,c=new e(s),l=this.clone();if(u){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,s=0;s<r.length;s++)t=(0|n.words[s])+(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<n.length;s++)t=(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var s=0,o=0;o<r.length;o++)s=(t=(0|n.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<n.length;o++)s=(t=(0|n.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var f=function(e,t,n){var r,i,s,o=e.words,a=t.words,u=n.words,c=0,l=0|o[0],h=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,b=g>>>13,_=0|o[3],v=8191&_,w=_>>>13,E=0|o[4],k=8191&E,C=E>>>13,S=0|o[5],x=8191&S,I=S>>>13,A=0|o[6],T=8191&A,N=A>>>13,R=0|o[7],P=8191&R,j=R>>>13,M=0|o[8],L=8191&M,O=M>>>13,U=0|o[9],D=8191&U,B=U>>>13,F=0|a[0],V=8191&F,q=F>>>13,K=0|a[1],z=8191&K,G=K>>>13,W=0|a[2],H=8191&W,$=W>>>13,Y=0|a[3],Z=8191&Y,Q=Y>>>13,X=0|a[4],J=8191&X,ee=X>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,le=0|a[8],he=8191&le,de=le>>>13,fe=0|a[9],pe=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(c+(r=Math.imul(h,V))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(d,V)|0))<<13)|0;c=((s=Math.imul(d,q))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,V),i=(i=Math.imul(p,q))+Math.imul(m,V)|0,s=Math.imul(m,q);var ye=(c+(r=r+Math.imul(h,z)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(d,z)|0))<<13)|0;c=((s=s+Math.imul(d,G)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,V),i=(i=Math.imul(y,q))+Math.imul(b,V)|0,s=Math.imul(b,q),r=r+Math.imul(p,z)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,z)|0,s=s+Math.imul(m,G)|0;var be=(c+(r=r+Math.imul(h,H)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(d,H)|0))<<13)|0;c=((s=s+Math.imul(d,$)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(v,V),i=(i=Math.imul(v,q))+Math.imul(w,V)|0,s=Math.imul(w,q),r=r+Math.imul(y,z)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,z)|0,s=s+Math.imul(b,G)|0,r=r+Math.imul(p,H)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,H)|0,s=s+Math.imul(m,$)|0;var _e=(c+(r=r+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(d,Z)|0))<<13)|0;c=((s=s+Math.imul(d,Q)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(k,V),i=(i=Math.imul(k,q))+Math.imul(C,V)|0,s=Math.imul(C,q),r=r+Math.imul(v,z)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(w,z)|0,s=s+Math.imul(w,G)|0,r=r+Math.imul(y,H)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(b,H)|0,s=s+Math.imul(b,$)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Q)|0;var ve=(c+(r=r+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(d,J)|0))<<13)|0;c=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(x,V),i=(i=Math.imul(x,q))+Math.imul(I,V)|0,s=Math.imul(I,q),r=r+Math.imul(k,z)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(C,z)|0,s=s+Math.imul(C,G)|0,r=r+Math.imul(v,H)|0,i=(i=i+Math.imul(v,$)|0)+Math.imul(w,H)|0,s=s+Math.imul(w,$)|0,r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,Q)|0,r=r+Math.imul(p,J)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,ee)|0;var we=(c+(r=r+Math.imul(h,ne)|0)|0)+((8191&(i=(i=i+Math.imul(h,re)|0)+Math.imul(d,ne)|0))<<13)|0;c=((s=s+Math.imul(d,re)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(T,V),i=(i=Math.imul(T,q))+Math.imul(N,V)|0,s=Math.imul(N,q),r=r+Math.imul(x,z)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(I,z)|0,s=s+Math.imul(I,G)|0,r=r+Math.imul(k,H)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(C,H)|0,s=s+Math.imul(C,$)|0,r=r+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(w,Z)|0,s=s+Math.imul(w,Q)|0,r=r+Math.imul(y,J)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,J)|0,s=s+Math.imul(b,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,s=s+Math.imul(m,re)|0;var Ee=(c+(r=r+Math.imul(h,se)|0)|0)+((8191&(i=(i=i+Math.imul(h,oe)|0)+Math.imul(d,se)|0))<<13)|0;c=((s=s+Math.imul(d,oe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(P,V),i=(i=Math.imul(P,q))+Math.imul(j,V)|0,s=Math.imul(j,q),r=r+Math.imul(T,z)|0,i=(i=i+Math.imul(T,G)|0)+Math.imul(N,z)|0,s=s+Math.imul(N,G)|0,r=r+Math.imul(x,H)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(I,H)|0,s=s+Math.imul(I,$)|0,r=r+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(C,Z)|0,s=s+Math.imul(C,Q)|0,r=r+Math.imul(v,J)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(w,J)|0,s=s+Math.imul(w,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(b,ne)|0,s=s+Math.imul(b,re)|0,r=r+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0;var ke=(c+(r=r+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((s=s+Math.imul(d,ce)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(L,V),i=(i=Math.imul(L,q))+Math.imul(O,V)|0,s=Math.imul(O,q),r=r+Math.imul(P,z)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(j,z)|0,s=s+Math.imul(j,G)|0,r=r+Math.imul(T,H)|0,i=(i=i+Math.imul(T,$)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,$)|0,r=r+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,Q)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,Q)|0,r=r+Math.imul(k,J)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(C,J)|0,s=s+Math.imul(C,ee)|0,r=r+Math.imul(v,ne)|0,i=(i=i+Math.imul(v,re)|0)+Math.imul(w,ne)|0,s=s+Math.imul(w,re)|0,r=r+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,ce)|0;var Ce=(c+(r=r+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;c=((s=s+Math.imul(d,de)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,V),i=(i=Math.imul(D,q))+Math.imul(B,V)|0,s=Math.imul(B,q),r=r+Math.imul(L,z)|0,i=(i=i+Math.imul(L,G)|0)+Math.imul(O,z)|0,s=s+Math.imul(O,G)|0,r=r+Math.imul(P,H)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(j,H)|0,s=s+Math.imul(j,$)|0,r=r+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,Q)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Q)|0,r=r+Math.imul(x,J)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(I,J)|0,s=s+Math.imul(I,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(C,ne)|0,s=s+Math.imul(C,re)|0,r=r+Math.imul(v,se)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(w,se)|0,s=s+Math.imul(w,oe)|0,r=r+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(b,ue)|0,s=s+Math.imul(b,ce)|0,r=r+Math.imul(p,he)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(m,he)|0,s=s+Math.imul(m,de)|0;var Se=(c+(r=r+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,me)|0)+Math.imul(d,pe)|0))<<13)|0;c=((s=s+Math.imul(d,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,z),i=(i=Math.imul(D,G))+Math.imul(B,z)|0,s=Math.imul(B,G),r=r+Math.imul(L,H)|0,i=(i=i+Math.imul(L,$)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,$)|0,r=r+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(j,Z)|0,s=s+Math.imul(j,Q)|0,r=r+Math.imul(T,J)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,ee)|0,r=r+Math.imul(x,ne)|0,i=(i=i+Math.imul(x,re)|0)+Math.imul(I,ne)|0,s=s+Math.imul(I,re)|0,r=r+Math.imul(k,se)|0,i=(i=i+Math.imul(k,oe)|0)+Math.imul(C,se)|0,s=s+Math.imul(C,oe)|0,r=r+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(w,ue)|0,s=s+Math.imul(w,ce)|0,r=r+Math.imul(y,he)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(b,he)|0,s=s+Math.imul(b,de)|0;var xe=(c+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,H),i=(i=Math.imul(D,$))+Math.imul(B,H)|0,s=Math.imul(B,$),r=r+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Q)|0,r=r+Math.imul(P,J)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(j,J)|0,s=s+Math.imul(j,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(N,ne)|0,s=s+Math.imul(N,re)|0,r=r+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(I,se)|0,s=s+Math.imul(I,oe)|0,r=r+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(C,ue)|0,s=s+Math.imul(C,ce)|0,r=r+Math.imul(v,he)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(w,he)|0,s=s+Math.imul(w,de)|0;var Ie=(c+(r=r+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((s=s+Math.imul(b,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,Z),i=(i=Math.imul(D,Q))+Math.imul(B,Z)|0,s=Math.imul(B,Q),r=r+Math.imul(L,J)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,ee)|0,r=r+Math.imul(P,ne)|0,i=(i=i+Math.imul(P,re)|0)+Math.imul(j,ne)|0,s=s+Math.imul(j,re)|0,r=r+Math.imul(T,se)|0,i=(i=i+Math.imul(T,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,r=r+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(I,ue)|0,s=s+Math.imul(I,ce)|0,r=r+Math.imul(k,he)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(C,he)|0,s=s+Math.imul(C,de)|0;var Ae=(c+(r=r+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,me)|0)+Math.imul(w,pe)|0))<<13)|0;c=((s=s+Math.imul(w,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,J),i=(i=Math.imul(D,ee))+Math.imul(B,J)|0,s=Math.imul(B,ee),r=r+Math.imul(L,ne)|0,i=(i=i+Math.imul(L,re)|0)+Math.imul(O,ne)|0,s=s+Math.imul(O,re)|0,r=r+Math.imul(P,se)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(j,se)|0,s=s+Math.imul(j,oe)|0,r=r+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(N,ue)|0,s=s+Math.imul(N,ce)|0,r=r+Math.imul(x,he)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(I,he)|0,s=s+Math.imul(I,de)|0;var Te=(c+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,me)|0)+Math.imul(C,pe)|0))<<13)|0;c=((s=s+Math.imul(C,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(D,ne),i=(i=Math.imul(D,re))+Math.imul(B,ne)|0,s=Math.imul(B,re),r=r+Math.imul(L,se)|0,i=(i=i+Math.imul(L,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,r=r+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(j,ue)|0,s=s+Math.imul(j,ce)|0,r=r+Math.imul(T,he)|0,i=(i=i+Math.imul(T,de)|0)+Math.imul(N,he)|0,s=s+Math.imul(N,de)|0;var Ne=(c+(r=r+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(I,pe)|0))<<13)|0;c=((s=s+Math.imul(I,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(D,se),i=(i=Math.imul(D,oe))+Math.imul(B,se)|0,s=Math.imul(B,oe),r=r+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,ce)|0)+Math.imul(O,ue)|0,s=s+Math.imul(O,ce)|0,r=r+Math.imul(P,he)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(j,he)|0,s=s+Math.imul(j,de)|0;var Re=(c+(r=r+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((s=s+Math.imul(N,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(D,ue),i=(i=Math.imul(D,ce))+Math.imul(B,ue)|0,s=Math.imul(B,ce),r=r+Math.imul(L,he)|0,i=(i=i+Math.imul(L,de)|0)+Math.imul(O,he)|0,s=s+Math.imul(O,de)|0;var Pe=(c+(r=r+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(j,pe)|0))<<13)|0;c=((s=s+Math.imul(j,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(D,he),i=(i=Math.imul(D,de))+Math.imul(B,he)|0,s=Math.imul(B,de);var je=(c+(r=r+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,me)|0)+Math.imul(O,pe)|0))<<13)|0;c=((s=s+Math.imul(O,me)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863;var Me=(c+(r=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,me))+Math.imul(B,pe)|0))<<13)|0;return c=((s=Math.imul(B,me))+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,u[0]=ge,u[1]=ye,u[2]=be,u[3]=_e,u[4]=ve,u[5]=we,u[6]=Ee,u[7]=ke,u[8]=Ce,u[9]=Se,u[10]=xe,u[11]=Ie,u[12]=Ae,u[13]=Te,u[14]=Ne,u[15]=Re,u[16]=Pe,u[17]=je,u[18]=Me,0!==c&&(u[19]=c,n.length++),n};function p(e,t,n){return(new m).mulp(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(f=d),s.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=10===this.length&&10===e.length?f(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,s=0;s<n.length-1;s++){var o=i;i=0;for(var a=67108863&r,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var l=s-c,h=(0|e.words[l])*(0|t.words[c]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,r=o,o=i}return 0!==r?n.words[s]=r:n.length--,n.strip()}(this,e,t):p(this,e,t),n},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=s.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},m.prototype.permute=function(e,t,n,r,i,s){for(var o=0;o<s;o++)r[o]=t[e[o]],i[o]=n[e[o]]},m.prototype.transform=function(e,t,n,r,i,s){this.permute(s,e,t,n,r,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,d=c,f=0;f<o;f++){var p=n[l+f],m=r[l+f],g=n[l+f+o],y=r[l+f+o],b=h*g-d*y;y=h*y+d*g,g=b,n[l+f]=p+g,r[l+f]=m+y,n[l+f+o]=p-g,r[l+f+o]=m-y,f!==a&&(b=u*h-c*d,d=u*d+c*h,h=b)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},m.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,n,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(0===s),r(0==(-8192&s))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),s=this.stub(r),o=new Array(r),a=new Array(r),u=new Array(r),c=new Array(r),l=new Array(r),h=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,o,r),this.convert13b(t.words,t.length,c,r),this.transform(o,s,a,u,r,i),this.transform(c,s,l,h,r,i);for(var f=0;f<r;f++){var p=a[f]*l[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*l[f],a[f]=p}return this.conjugate(a,u,r),this.transform(a,u,d,s,r,i),this.conjugate(d,s,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),p(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[n]=67108863&s}return 0!==t&&(this.words[n]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},s.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<n;this.words[t]=u|o,o=a>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,u=n;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},s.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,n){var i,s,o=e.length+n;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var a,u=r.length-i.length;if("mod"!==t){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=r.clone()._ishlnsubmul(i,1,u);0===l.negative&&(r=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),r._ishlnsubmul(i,d,h);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},s.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),s=n.cmp(r);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},s.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;0==(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(a),o.isub(u)):(n.isub(t),a.isub(i),u.isub(o))}return{a:a,b:u,gcd:n.iushln(c)}},s.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;0==(n.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a)):(n.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var s=t;t=n,n=s}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new E(e)},s.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(b,y),b.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&n,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,y),i(v,y),i(w,y),w.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new _;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return g[e]=t,t},E.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new s(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),d=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new s(1);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],l=u-1;l>=0;l--){var h=c>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===r&&0===l)&&(i=this.mul(i,n[o]),a=0,o=0)):a=0}u=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new k(e)},i(k,E),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}}},{package:"bn.js",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/bn.js/lib/bn.js"}],[1356,{_process:6127},function(){with(this)return function(){"use strict";return function(e,t,n){(function(e){(function(){
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.5.5
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2016
 * @license MIT
 */
!function(n){"object"==typeof e&&e.versions&&e.versions.node&&(n=global);for(var r=!n.JS_SHA3_TEST&&"object"==typeof t&&t.exports,i="0123456789abcdef".split(""),s=[0,8,16,24],o=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],a=[224,256,384,512],u=["hex","buffer","arrayBuffer","array"],c=function(e,t,n){return function(r){return new b(e,t,e).update(r)[n]()}},l=function(e,t,n){return function(r,i){return new b(e,t,i).update(r)[n]()}},h=function(e,t){var n=c(e,t,"hex");n.create=function(){return new b(e,t,e)},n.update=function(e){return n.create().update(e)};for(var r=0;r<u.length;++r){var i=u[r];n[i]=c(e,t,i)}return n},d=[{name:"keccak",padding:[1,256,65536,16777216],bits:a,createMethod:h},{name:"sha3",padding:[6,1536,393216,100663296],bits:a,createMethod:h},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(e,t){var n=l(e,t,"hex");n.create=function(n){return new b(e,t,n)},n.update=function(e,t){return n.create(t).update(e)};for(var r=0;r<u.length;++r){var i=u[r];n[i]=l(e,t,i)}return n}}],f={},p=0;p<d.length;++p)for(var m=d[p],g=m.bits,y=0;y<g.length;++y)f[m.name+"_"+g[y]]=m.createMethod(g[y],m.padding);function b(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}b.prototype.update=function(e){var t="string"!=typeof e;t&&e.constructor==n.ArrayBuffer&&(e=new Uint8Array(e));for(var r,i,o=e.length,a=this.blocks,u=this.byteCount,c=this.blockCount,l=0,h=this.s;l<o;){if(this.reset)for(this.reset=!1,a[0]=this.block,r=1;r<c+1;++r)a[r]=0;if(t)for(r=this.start;l<o&&r<u;++l)a[r>>2]|=e[l]<<s[3&r++];else for(r=this.start;l<o&&r<u;++l)(i=e.charCodeAt(l))<128?a[r>>2]|=i<<s[3&r++]:i<2048?(a[r>>2]|=(192|i>>6)<<s[3&r++],a[r>>2]|=(128|63&i)<<s[3&r++]):i<55296||i>=57344?(a[r>>2]|=(224|i>>12)<<s[3&r++],a[r>>2]|=(128|i>>6&63)<<s[3&r++],a[r>>2]|=(128|63&i)<<s[3&r++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++l)),a[r>>2]|=(240|i>>18)<<s[3&r++],a[r>>2]|=(128|i>>12&63)<<s[3&r++],a[r>>2]|=(128|i>>6&63)<<s[3&r++],a[r>>2]|=(128|63&i)<<s[3&r++]);if(this.lastByteIndex=r,r>=u){for(this.start=r-u,this.block=a[c],r=0;r<c;++r)h[r]^=a[r];_(h),this.reset=!0}else this.start=r}return this},b.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex==this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];_(r)},b.prototype.toString=b.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,s=this.extraBytes,o=0,a=0,u="";a<r;){for(o=0;o<t&&a<r;++o,++a)e=n[o],u+=i[e>>4&15]+i[15&e]+i[e>>12&15]+i[e>>8&15]+i[e>>20&15]+i[e>>16&15]+i[e>>28&15]+i[e>>24&15];a%t==0&&(_(n),o=0)}return s&&(e=n[o],s>0&&(u+=i[e>>4&15]+i[15&e]),s>1&&(u+=i[e>>12&15]+i[e>>8&15]),s>2&&(u+=i[e>>20&15]+i[e>>16&15])),u},b.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3;e=i?new ArrayBuffer(r+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(e);o<r;){for(s=0;s<t&&o<r;++s,++o)u[o]=n[s];o%t==0&&_(n)}return i&&(u[s]=n[s],e=e.slice(0,a)),e},b.prototype.buffer=b.prototype.arrayBuffer,b.prototype.digest=b.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,u=[];a<i;){for(o=0;o<n&&a<i;++o,++a)e=a<<2,t=r[o],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;a%n==0&&_(r)}return s&&(e=a<<2,t=r[o],s>0&&(u[e]=255&t),s>1&&(u[e+1]=t>>8&255),s>2&&(u[e+2]=t>>16&255)),u};var _=function(e){var t,n,r,i,s,a,u,c,l,h,d,f,p,m,g,y,b,_,v,w,E,k,C,S,x,I,A,T,N,R,P,j,M,L,O,U,D,B,F,V,q,K,z,G,W,H,$,Y,Z,Q,X,J,ee,te,ne,re,ie,se,oe,ae,ue,ce,le;for(r=0;r<48;r+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],u=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],h=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],t=(f=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|u>>>31),n=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(u<<1|a>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=i^(c<<1|l>>>31),n=s^(l<<1|c>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=a^(h<<1|d>>>31),n=u^(d<<1|h>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=c^(f<<1|p>>>31),n=l^(p<<1|f>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=h^(i<<1|s>>>31),n=d^(s<<1|i>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,m=e[0],g=e[1],H=e[11]<<4|e[10]>>>28,$=e[10]<<4|e[11]>>>28,T=e[20]<<3|e[21]>>>29,N=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,K=e[40]<<18|e[41]>>>14,z=e[41]<<18|e[40]>>>14,L=e[2]<<1|e[3]>>>31,O=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,b=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,R=e[33]<<13|e[32]>>>19,P=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,U=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,_=e[25]<<11|e[24]>>>21,v=e[24]<<11|e[25]>>>21,Q=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,j=e[45]<<29|e[44]>>>3,M=e[44]<<29|e[45]>>>3,S=e[6]<<28|e[7]>>>4,x=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,B=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,J=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,G=e[8]<<27|e[9]>>>5,W=e[9]<<27|e[8]>>>5,I=e[18]<<20|e[19]>>>12,A=e[19]<<20|e[18]>>>12,se=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,V=e[38]<<8|e[39]>>>24,q=e[39]<<8|e[38]>>>24,k=e[48]<<14|e[49]>>>18,C=e[49]<<14|e[48]>>>18,e[0]=m^~y&_,e[1]=g^~b&v,e[10]=S^~I&T,e[11]=x^~A&N,e[20]=L^~U&B,e[21]=O^~D&F,e[30]=G^~H&Y,e[31]=W^~$&Z,e[40]=te^~re&se,e[41]=ne^~ie&oe,e[2]=y^~_&w,e[3]=b^~v&E,e[12]=I^~T&R,e[13]=A^~N&P,e[22]=U^~B&V,e[23]=D^~F&q,e[32]=H^~Y&Q,e[33]=$^~Z&X,e[42]=re^~se&ae,e[43]=ie^~oe&ue,e[4]=_^~w&k,e[5]=v^~E&C,e[14]=T^~R&j,e[15]=N^~P&M,e[24]=B^~V&K,e[25]=F^~q&z,e[34]=Y^~Q&J,e[35]=Z^~X&ee,e[44]=se^~ae&ce,e[45]=oe^~ue&le,e[6]=w^~k&m,e[7]=E^~C&g,e[16]=R^~j&S,e[17]=P^~M&x,e[26]=V^~K&L,e[27]=q^~z&O,e[36]=Q^~J&G,e[37]=X^~ee&W,e[46]=ae^~ce&te,e[47]=ue^~le&ne,e[8]=k^~m&y,e[9]=C^~g&b,e[18]=j^~S&I,e[19]=M^~x&A,e[28]=K^~L&U,e[29]=z^~O&D,e[38]=J^~G&H,e[39]=ee^~W&$,e[48]=ce^~te&re,e[49]=le^~ne&ie,e[0]^=o[r],e[1]^=o[r+1]};if(r)t.exports=f;else if(n)for(var v in f)n[v]=f[v]}(this)}).call(this)}).call(this,e("_process"))}}},{package:"js-sha3",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/js-sha3/src/sha3.js"}],[1346,{"./utils/index.js":1347,buffer:2478},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=e("./utils/index.js"),i=r.uint256Coder,s=(r.coderBoolean,r.coderFixedBytes,r.coderAddress,r.coderDynamicBytes,r.coderString,r.coderArray,r.paramTypePart,r.getParamCoder);function o(){}function a(e,t){if(e.length!==t.length)throw new Error("[ethjs-abi] while encoding params, types/values mismatch, Your contract requires "+e.length+" types (arguments), and you passed in "+t.length);var r=[];function o(e){return parseInt(32*Math.ceil(e/32))}e.forEach((function(e,n){var i=s(e);r.push({dynamic:i.dynamic,value:i.encode(t[n])})}));var a=0,u=0;r.forEach((function(e){e.dynamic?(a+=32,u+=o(e.value.length)):a+=o(e.value.length)}));var c=0,l=a,h=new n(a+u);return r.forEach((function(e,t){e.dynamic?(i.encode(l).copy(h,c),c+=32,e.value.copy(h,l),l+=o(e.value.length)):(e.value.copy(h,c),c+=o(e.value.length))})),"0x"+h.toString("hex")}function u(e,t,n){var a=!(arguments.length>3&&arguments[3]!==undefined)||arguments[3];arguments.length<3&&(n=t,t=e,e=[]),n=r.hexOrBuffer(n);var u=new o,c=0;return t.forEach((function(t,r){var o=s(t);if(o.dynamic){var l=i.decode(n,c),h=o.decode(n,l.value.toNumber());c+=l.consumed}else{h=o.decode(n,c);c+=h.consumed}a&&(u[r]=h.value),e[r]&&(u[e[r]]=h.value)})),u}function c(e){var t=e.name+"("+r.getKeys(e.inputs,"type").join(",")+")";return"0x"+new n(r.keccak256(t),"hex").slice(0,4).toString("hex")}function l(e,t){var n=a(r.getKeys(e.inputs,"type"),t).substring(2);return""+c(e)+n}function h(e){var t=e.name+"("+r.getKeys(e.inputs,"type").join(",")+")";return"0x"+r.keccak256(t)}function d(e,t,i){var o=!(arguments.length>3&&arguments[3]!==undefined)||arguments[3],a=e.inputs.filter((function(e){return!e.indexed})),c=r.getKeys(a,"name",!0),l=r.getKeys(a,"type"),h=u(c,l,r.hexOrBuffer(t),o),d=e.anonymous?0:1;return e.inputs.filter((function(e){return e.indexed})).map((function(e,t){var r=new n(i[t+d].slice(2),"hex"),o=s(e.type);h[e.name]=o.decode(r,0).value})),h._eventName=e.name,h}function f(e,t){var n=!(arguments.length>2&&arguments[2]!==undefined)||arguments[2];if(e&&t.topics[0]===h(e))return d(e,t.data,t.topics,n)}t.exports={encodeParams:a,decodeParams:u,encodeMethod:l,decodeMethod:function(e,t){return u(r.getKeys(e.outputs,"name",!0),r.getKeys(e.outputs,"type"),r.hexOrBuffer(t))},encodeEvent:function(e,t){return l(e,t)},decodeEvent:d,decodeLogItem:f,logDecoder:function(e){var t=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],n={};return e.filter((function(e){return"event"===e.type})).map((function(e){n[h(e)]=e})),function(e){return e.map((function(e){return f(n[e.topics[0]],e,t)})).filter((function(e){return e}))}},eventSignature:h,encodeSignature:c}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethjs-abi",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/ethjs-abi/lib/index.js"}],[1353,{"babel-runtime/core-js/json/stringify":2204,"babel-runtime/core-js/object/assign":2205,"babel-runtime/core-js/object/define-property":2207,"babel-runtime/core-js/object/keys":2208,"babel-runtime/helpers/asyncToGenerator":2213,"babel-runtime/regenerator":2330,"ethjs-format":3242,"ethjs-rpc":3245,"promise-to-callback":6129},function(){with(this)return function(){"use strict";return function(e,t,n){var r=c(e("babel-runtime/regenerator")),i=c(e("babel-runtime/core-js/json/stringify")),s=c(e("babel-runtime/helpers/asyncToGenerator")),o=c(e("babel-runtime/core-js/object/define-property")),a=c(e("babel-runtime/core-js/object/keys")),u=c(e("babel-runtime/core-js/object/assign"));function c(e){return e&&e.__esModule?e:{default:e}}var l=e("ethjs-format"),h=e("ethjs-rpc"),d=e("promise-to-callback");function f(e,t){var n=this,r=t||{};if(!(this instanceof f))throw new Error('[ethjs-query] the Eth object requires the "new" flag in order to function normally (i.e. `const eth = new Eth(provider);`).');if("object"!=typeof e)throw new Error("[ethjs-query] the Eth object requires that the first input 'provider' must be an object, got '"+typeof e+"' (i.e. 'const eth = new Eth(provider);')");n.options=(0,u.default)({debug:r.debug||!1,logger:r.logger||console,jsonSpace:r.jsonSpace||0}),n.rpc=new h(e),n.setProvider=n.rpc.setProvider}function p(e,t){return function(){var n,o=(n=(0,s.default)(r.default.mark((function n(){var s,o;return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(h.length<t[2])){n.next=2;break}throw new Error("[ethjs-query] method '"+f+"' requires at least "+t[2]+" input (format type "+t[0][0]+"), "+h.length+" provided. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+e.toLowerCase());case 2:if(!(h.length>t[0].length)){n.next=4;break}throw new Error("[ethjs-query] method '"+f+"' requires at most "+t[0].length+" params, "+h.length+" provided '"+(0,i.default)(h,null,c.options.jsonSpace)+"'. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+e.toLowerCase());case 4:t[3]&&h.length<t[3]&&h.push("latest"),this.log("attempting method formatting for '"+f+"' with inputs "+(0,i.default)(h,null,this.options.jsonSpace)),n.prev=6,u=l.formatInputs(e,h),this.log("method formatting success for '"+f+"' with formatted result: "+(0,i.default)(u,null,this.options.jsonSpace)),n.next=14;break;case 11:throw n.prev=11,n.t0=n.catch(6),new Error("[ethjs-query] while formatting inputs '"+(0,i.default)(h,null,this.options.jsonSpace)+"' for method '"+f+"' error: "+n.t0);case 14:return n.next=16,this.rpc.sendAsync({method:e,params:u});case 16:return s=n.sent,n.prev=17,this.log("attempting method formatting for '"+f+"' with raw outputs: "+(0,i.default)(s,null,this.options.jsonSpace)),o=l.formatOutputs(e,s),this.log("method formatting success for '"+f+"' formatted result: "+(0,i.default)(o,null,this.options.jsonSpace)),n.abrupt("return",o);case 24:throw n.prev=24,n.t1=n.catch(17),new Error("[ethjs-query] while formatting outputs from RPC '"+(0,i.default)(s,null,this.options.jsonSpace)+"' for method '"+f+"' "+n.t1);case 28:case"end":return n.stop()}}),n,this,[[6,11],[17,24]])}))),function(){return n.apply(this,arguments)}),a=null,u=null,c=this,h=[].slice.call(arguments),f=e.replace("eth_","");h.length>0&&"function"==typeof h[h.length-1]&&(a=h.pop());var p=o.call(this);return a?d(p)(a):p}}t.exports=f,f.prototype.log=function(e){this.options.debug&&this.options.logger.log("[ethjs-query log] "+e)},(0,a.default)(l.schema.methods).forEach((function(e){(0,o.default)(f.prototype,e.replace("eth_",""),{enumerable:!0,value:p(e,l.schema.methods[e])})}))}}},{package:"ethjs-query",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/ethjs-query/lib/index.js"}],[1350,{"./contract":1348,"./has-tx-object":1349,"babel-runtime/core-js/object/assign":2205,"ethjs-abi":1351,"ethjs-filter":3241,"ethjs-util":3249,"js-sha3":1356},function(){with(this)return function(){"use strict";return function(e,t,n){var r,i=e("babel-runtime/core-js/object/assign"),s=(r=i)&&r.__esModule?r:{default:r};var o=e("ethjs-abi"),a=(e("js-sha3").keccak_256,e("ethjs-filter"),e("ethjs-util").getKeys),u=e("./contract"),c=e("./has-tx-object");function l(e){return e.filter((function(e){return"constructor"===e.type}))[0]}t.exports=function(e){return function(t,n,r){if(!Array.isArray(t))throw new Error("[ethjs-contract] Contract ABI must be type Array, got type "+typeof t);if(void 0!==n&&"string"!=typeof n)throw new Error("[ethjs-contract] Contract bytecode must be type String, got type "+typeof n);if(void 0!==r&&"object"!=typeof r)throw new Error("[ethjs-contract] Contract default tx object must be type Object, got type "+typeof t);var i={at:function(i){return new u({address:i,query:e,contractBytecode:n,contractDefaultTxObject:r,contractABI:t})},new:function(){var i={},u=null,h=[].slice.call(arguments);"function"==typeof h[h.length-1]&&(u=h.pop()),c(h)&&(i=h.pop());var d=l(t),f=(0,s.default)({},r,i);if(n&&(f.data=n),d){var p=o.encodeParams(a(d.inputs,"type"),h).substring(2);f.data=""+f.data+p}return u?e.sendTransaction(f,u):e.sendTransaction(f)}};return i}}}}},{package:"ethjs-contract",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/rpc-methods/node_modules/ethjs-contract/lib/index.js"}],[1500,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}}}},{package:"nanoid",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/node_modules/nanoid/url-alphabet/index.cjs"}],[1454,{stream:2481},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.storeAsStream=void 0;const r=e("stream");class i extends r.Duplex{constructor(e){super({objectMode:!0}),this.resume(),this.handler=e=>this.push(e),this.obsStore=e,this.obsStore.subscribe(this.handler)}pipe(e,t){const n=super.pipe(e,t);return e.write(this.obsStore.getState()),n}_write(e,t,n){this.obsStore.putState(e),n()}_read(e){return undefined}_destroy(e,t){this.obsStore.unsubscribe(this.handler),super._destroy(e,t)}}n.storeAsStream=function(e){return new i(e)}}}},{package:"@metamask/obs-store",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/node_modules/@metamask/obs-store/dist/asStream.js"}],[1451,{"./ObservableStore":1453},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ComposedStore=void 0;const r=e("./ObservableStore");class i extends r.ObservableStore{constructor(e){super({}),this._children=e||{},Object.keys(this._children).forEach((e=>{const t=this._children[e];this._addChild(e,t)}))}_addChild(e,t){const n=t=>{const n=this.getState();n[e]=t,this.putState(n)};t.subscribe(n),n(t.getState())}}n.ComposedStore=i}}},{package:"@metamask/obs-store",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/node_modules/@metamask/obs-store/dist/ComposedStore.js"}],[1452,{"./ObservableStore":1453},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MergedStore=void 0;const r=e("./ObservableStore");class i extends r.ObservableStore{constructor(e=[]){super({}),this._children=e,e.forEach((e=>this._addChild(e))),this._updateWholeState()}_addChild(e){e.subscribe((()=>this._updateWholeState()))}_updateWholeState(){const e=this._children.map((e=>e.getState())),t=Object.assign({},...e);this.putState(t)}}n.MergedStore=i}}},{package:"@metamask/obs-store",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/node_modules/@metamask/obs-store/dist/MergedStore.js"}],[1456,{through2:1502},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.storeTransformStream=void 0;const r=e("through2");n.storeTransformStream=function(e){return r.obj(((t,n,r)=>{try{return r(null,e(t)),undefined}catch(e){return r(e),undefined}}))}}}},{package:"@metamask/obs-store",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/node_modules/@metamask/obs-store/dist/transform.js"}],[1453,{"@metamask/safe-event-emitter":1359},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ObservableStore=void 0;const i=r(e("@metamask/safe-event-emitter"));class s extends i.default{constructor(e){super(),this._state=e||{}}getState(){return this._getState()}putState(e){this._putState(e),this.emit("update",e)}updateState(e){if(e&&"object"==typeof e){const t=this.getState();this.putState(Object.assign(Object.assign({},t),e))}else this.putState(e)}subscribe(e){this.on("update",e)}unsubscribe(e){this.removeListener("update",e)}_getState(){return this._state}_putState(e){this._state=e}}n.ObservableStore=s}}},{package:"@metamask/obs-store",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/node_modules/@metamask/obs-store/dist/ObservableStore.js"}],[1229,{"./Substream":1230,"end-of-stream":3012,once:6003,"readable-stream":6410},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectMultiplex=void 0;const i=e("readable-stream"),s=r(e("end-of-stream")),o=r(e("once")),a=e("./Substream"),u=Symbol("IGNORE_SUBSTREAM");class c extends i.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e}" already ended`);if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);const t=new a.Substream({parent:this,name:e});return this._substreams[e]=t,function(e,t){const n=o.default(t);s.default(e,{readable:!1},n),s.default(e,{writable:!1},n)}(this,(e=>t.destroy(e||undefined))),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=u}_read(){return undefined}_write(e,t,n){const{name:r,data:i}=e;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),n();const s=this._substreams[r];return s?(s!==u&&s.push(i),n()):(console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n())}}n.ObjectMultiplex=c}}},{package:"@metamask/object-multiplex",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/object-multiplex/dist/ObjectMultiplex.js"}],[1190,{},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SNAP_STREAM_NAMES=void 0,function(e){e.JSON_RPC="jsonRpc",e.COMMAND="command"}(n.SNAP_STREAM_NAMES||(n.SNAP_STREAM_NAMES={}))}}},{package:"@metamask/execution-environments",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/execution-environments/dist/common/enums.js"}],[1496,{"readable-stream":6410},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("readable-stream");n.default=function(e){if(!e||!e.engine)throw new Error("Missing engine parameter!");const{engine:t}=e,n=new r.Duplex({objectMode:!0,read:function(){return undefined},write:function(e,r,i){t.handle(e,((e,t)=>{n.push(t)})),i()}});return t.on&&t.on("notification",(e=>{n.push(e)})),n}}}},{package:"json-rpc-middleware-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/node_modules/json-rpc-middleware-stream/dist/createEngineStream.js"}],[1497,{"@metamask/safe-event-emitter":1359,"readable-stream":6410},function(){with(this)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=r(e("@metamask/safe-event-emitter")),s=e("readable-stream");n.default=function(){const e={},t=new s.Duplex({objectMode:!0,read:function(){return!1},write:function(t,r,i){let s;try{!t.id?function(e){n.emit("notification",e)}(t):function(t){const n=e[t.id];if(!n)throw new Error(`StreamMiddleware - Unknown response id "${t.id}"`);delete e[t.id],Object.assign(n.res,t),setTimeout(n.end)}(t)}catch(e){s=e}i(s)}}),n=new i.default;return{events:n,middleware:(n,r,i,s)=>{t.push(n),e[n.id]={req:n,res:r,next:i,end:s}},stream:t}}}}},{package:"json-rpc-middleware-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/node_modules/json-rpc-middleware-stream/dist/createStreamMiddleware.js"}],[1241,{"./BasePostMessageStream":1240},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WindowPostMessageStream=void 0;const r=e("./BasePostMessageStream");class i extends r.BasePostMessageStream{constructor({name:e,target:t,targetWindow:n}){if(!e||!t)throw new Error("Invalid input.");super(),this._name=e,this._target=t,this._targetOrigin=n?"*":location.origin,this._targetWindow=n||window,this._onMessage=this._onMessage.bind(this),window.addEventListener("message",this._onMessage,!1),this._handshake()}_postMessage(e){this._targetWindow.postMessage({target:this._target,data:e},this._targetOrigin)}_onMessage(e){const t=e.data;"*"!==this._targetOrigin&&e.origin!==this._targetOrigin||e.source!==this._targetWindow||"object"!=typeof t||t.target!==this._name||!t.data||this._onData(t.data)}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}n.WindowPostMessageStream=i}}},{package:"@metamask/post-message-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/post-message-stream/dist/WindowPostMessageStream.js"}],[1242,{"./BasePostMessageStream":1240,"./enums":1244},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WorkerParentPostMessageStream=void 0;const r=e("./BasePostMessageStream"),i=e("./enums");class s extends r.BasePostMessageStream{constructor({worker:e}){if(!e)throw new Error("Invalid input.");super(),this._target=i.DEDICATED_WORKER_NAME,this._worker=e,this._worker.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){this._worker.postMessage({target:this._target,data:e})}_onMessage(e){const t=e.data;"object"==typeof t&&t.data&&this._onData(t.data)}_destroy(){this._worker.onmessage=null,this._worker=null}}n.WorkerParentPostMessageStream=s}}},{package:"@metamask/post-message-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/post-message-stream/dist/WorkerParentPostMessageStream.js"}],[1243,{"./BasePostMessageStream":1240,"./enums":1244},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WorkerPostMessageStream=void 0;const r=e("./BasePostMessageStream"),i=e("./enums");class s extends r.BasePostMessageStream{constructor(){super(),this._name=i.DEDICATED_WORKER_NAME,self.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(e){self.postMessage({data:e})}_onMessage(e){const t=e.data;"object"==typeof t&&t.target===this._name&&t.data&&this._onData(t.data)}_destroy(){return undefined}}n.WorkerPostMessageStream=s}}},{package:"@metamask/post-message-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/post-message-stream/dist/WorkerPostMessageStream.js"}],[1475,{"./lib/_stream_duplex.js":1462,"./lib/_stream_passthrough.js":1463,"./lib/_stream_readable.js":1464,"./lib/_stream_transform.js":1465,"./lib/_stream_writable.js":1466,"./lib/internal/streams/end-of-stream.js":1470,"./lib/internal/streams/pipeline.js":1472},function(){with(this)return function(){"use strict";return function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/readable-browser.js"}],[6428,{"./lib/_stream_duplex.js":6415,"./lib/_stream_passthrough.js":6416,"./lib/_stream_readable.js":6417,"./lib/_stream_transform.js":6418,"./lib/_stream_writable.js":6419,"./lib/internal/streams/end-of-stream.js":6423,"./lib/internal/streams/pipeline.js":6425},function(){with(this)return function(){"use strict";return function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/readable-web-to-node-stream/node_modules/readable-stream/readable-browser.js"}],[6643,{"./headers":6623,_process:6127,buffer:2478,"end-of-stream":3012,"fs-constants":4976,inherits:5094,"readable-stream":6641,string_decoder:2482},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n,r){(function(){var i=e("fs-constants"),s=e("end-of-stream"),o=e("inherits"),a=r.alloc,u=e("readable-stream").Readable,c=e("readable-stream").Writable,l=e("string_decoder").StringDecoder,h=e("./headers"),d=parseInt("755",8),f=parseInt("644",8),p=a(1024),m=function(){},g=function(e,t){(t&=511)&&e.push(p.slice(0,512-t))};var y=function(e){c.call(this),this.written=0,this._to=e,this._destroyed=!1};o(y,c),y.prototype._write=function(e,t,n){if(this.written+=e.length,this._to.push(e))return n();this._to._drain=n},y.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var b=function(){c.call(this),this.linkname="",this._decoder=new l("utf-8"),this._destroyed=!1};o(b,c),b.prototype._write=function(e,t,n){this.linkname+=this._decoder.write(e),n()},b.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var _=function(){c.call(this),this._destroyed=!1};o(_,c),_.prototype._write=function(e,t,n){n(new Error("No body allowed for this entry"))},_.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var v=function(e){if(!(this instanceof v))return new v(e);u.call(this,e),this._drain=m,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};o(v,u),v.prototype.entry=function(e,t,o){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof t&&(o=t,t=null),o||(o=m);var a=this;if(e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&i.S_IFMT){case i.S_IFBLK:return"block-device";case i.S_IFCHR:return"character-device";case i.S_IFDIR:return"directory";case i.S_IFIFO:return"fifo";case i.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?d:f),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=r.from(t)),r.isBuffer(t)){e.size=t.length,this._encode(e);var u=this.push(t);return g(a,e.size),u?n.nextTick(o):this._drain=o,new _}if("symlink"===e.type&&!e.linkname){var c=new b;return s(c,(function(t){if(t)return a.destroy(),o(t);e.linkname=c.linkname,a._encode(e),o()})),c}if(this._encode(e),"file"!==e.type&&"contiguous-file"!==e.type)return n.nextTick(o),new _;var l=new y(this);return this._stream=l,s(l,(function(t){return a._stream=null,t?(a.destroy(),o(t)):l.written!==e.size?(a.destroy(),o(new Error("size mismatch"))):(g(a,e.size),a._finalizing&&a.finalize(),void o())})),l}},v.prototype.finalize=function(){this._stream?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(p),this.push(null))},v.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},v.prototype._encode=function(e){if(!e.pax){var t=h.encode(e);if(t)return void this.push(t)}this._encodePax(e)},v.prototype._encodePax=function(e){var t=h.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(h.encode(n)),this.push(t),g(this,t.length),n.size=e.size,n.type=e.type,this.push(h.encode(n))},v.prototype._read=function(e){var t=this._drain;this._drain=m,t()},t.exports=v}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"tar-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/tar-stream/pack.js"}],[6622,{"./headers":6623,bl:6626,"readable-stream":6641,util:2485},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("util"),i=e("bl"),s=e("./headers"),o=e("readable-stream").Writable,a=e("readable-stream").PassThrough,u=function(){},c=function(e){return(e&=511)&&512-e},l=function(e,t){this._parent=e,this.offset=t,a.call(this,{autoDestroy:!1})};r.inherits(l,a),l.prototype.destroy=function(e){this._parent.destroy(e)};var h=function(e){if(!(this instanceof h))return new h(e);o.call(this,e),e=e||{},this._offset=0,this._buffer=i(),this._missing=0,this._partial=!1,this._onparse=u,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var t=this,n=t._buffer,r=function(){t._continue()},a=function(e){if(t._locked=!1,e)return t.destroy(e);t._stream||r()},d=function(){t._stream=null;var e=c(t._header.size);e?t._parse(e,f):t._parse(512,b),t._locked||r()},f=function(){t._buffer.consume(c(t._header.size)),t._parse(512,b),r()},p=function(){var e=t._header.size;t._paxGlobal=s.decodePax(n.slice(0,e)),n.consume(e),d()},m=function(){var e=t._header.size;t._pax=s.decodePax(n.slice(0,e)),t._paxGlobal&&(t._pax=Object.assign({},t._paxGlobal,t._pax)),n.consume(e),d()},g=function(){var r=t._header.size;this._gnuLongPath=s.decodeLongPath(n.slice(0,r),e.filenameEncoding),n.consume(r),d()},y=function(){var r=t._header.size;this._gnuLongLinkPath=s.decodeLongPath(n.slice(0,r),e.filenameEncoding),n.consume(r),d()},b=function(){var i,o=t._offset;try{i=t._header=s.decode(n.slice(0,512),e.filenameEncoding,e.allowUnknownFormat)}catch(e){t.emit("error",e)}return n.consume(512),i?"gnu-long-path"===i.type?(t._parse(i.size,g),void r()):"gnu-long-link-path"===i.type?(t._parse(i.size,y),void r()):"pax-global-header"===i.type?(t._parse(i.size,p),void r()):"pax-header"===i.type?(t._parse(i.size,m),void r()):(t._gnuLongPath&&(i.name=t._gnuLongPath,t._gnuLongPath=null),t._gnuLongLinkPath&&(i.linkname=t._gnuLongLinkPath,t._gnuLongLinkPath=null),t._pax&&(t._header=i=function(e,t){return t.path&&(e.name=t.path),t.linkpath&&(e.linkname=t.linkpath),t.size&&(e.size=parseInt(t.size,10)),e.pax=t,e}(i,t._pax),t._pax=null),t._locked=!0,i.size&&"directory"!==i.type?(t._stream=new l(t,o),t.emit("entry",i,t._stream,a),t._parse(i.size,d),void r()):(t._parse(512,b),void t.emit("entry",i,function(e,t){var n=new l(e,t);return n.end(),n}(t,o),a))):(t._parse(512,b),void r())};this._onheader=b,this._parse(512,b)};r.inherits(h,o),h.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.emit("close"))},h.prototype._parse=function(e,t){this._destroyed||(this._offset+=e,this._missing=e,t===this._onheader&&(this._partial=!1),this._onparse=t)},h.prototype._continue=function(){if(!this._destroyed){var e=this._cb;this._cb=u,this._overflow?this._write(this._overflow,undefined,e):e()}},h.prototype._write=function(e,t,n){if(!this._destroyed){var r=this._stream,i=this._buffer,s=this._missing;if(e.length&&(this._partial=!0),e.length<s)return this._missing-=e.length,this._overflow=null,r?r.write(e,n):(i.append(e),n());this._cb=n,this._missing=0;var o=null;e.length>s&&(o=e.slice(s),e=e.slice(0,s)),r?r.end(e):i.append(e),this._overflow=o,this._onparse()}},h.prototype._final=function(e){if(this._partial)return this.destroy(new Error("Unexpected end of data"));e()},t.exports=h}}},{package:"tar-stream",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/tar-stream/extract.js"}],[5382,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){return!(!e||e.length<2)&&(120===e[0]&&(1===e[1]||156===e[1]||218===e[1]))}}}},{package:"is-deflate",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/is-deflate/index.js"}],[5385,{},function(){with(this)return function(){"use strict";return function(e,t,n){t.exports=function(e){return!(!e||e.length<3)&&(31===e[0]&&139===e[1]&&8===e[2])}}}},{package:"is-gzip",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/is-gzip/index.js"}],[5024,{_process:6127,"readable-stream":6410,util:2485,xtend:6886},function(){with(this)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=e("readable-stream").Transform,i=e("util").inherits,s=e("xtend");function o(e){r.call(this,e),this._destroyed=!1}function a(e,t,n){n(null,e)}function u(e){return function(t,n,r){return"function"==typeof t&&(r=n,n=t,t={}),"function"!=typeof n&&(n=a),"function"!=typeof r&&(r=null),e(t,n,r)}}i(o,r),o.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;n.nextTick((function(){e&&t.emit("error",e),t.emit("close")}))}},t.exports=u((function(e,t,n){var r=new o(e);return r._transform=t,n&&(r._flush=n),r})),t.exports.ctor=u((function(e,t,n){function r(t){if(!(this instanceof r))return new r(t);this.options=s(e,t),o.call(this,this.options)}return i(r,o),r.prototype._transform=t,n&&(r.prototype._flush=n),r})),t.exports.obj=u((function(e,t,n){var r=new o(s({objectMode:!0,highWaterMark:16},e));return r._transform=t,n&&(r._flush=n),r}))}).call(this)}).call(this,e("_process"))}}},{package:"through2",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/gunzip-maybe/node_modules/through2/through2.js"}],[5023,{duplexify:5010,inherits:5094,pump:5022},function(){with(this)return function(){"use strict";return function(e,t,n){var r=e("pump"),i=e("inherits"),s=e("duplexify"),o=function(e){return e.length?Array.isArray(e[0])?e[0]:Array.prototype.slice.call(e):[]},a=function(e){var t=function(){var n=o(arguments);if(!(this instanceof t))return new t(n);s.call(this,null,null,e),n.length&&this.setPipeline(n)};return i(t,s),t.prototype.setPipeline=function(){var e=o(arguments),t=this,n=!1,i=e[0],s=e[e.length-1];s=s.readable?s:null,i=i.writable?i:null;var a=function(){e[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",a),this.on("prefinish",(function(){n||t.cork()})),r(e,(function(e){if(t.removeListener("close",a),e)return t.destroy(e);n=!0,t.uncork()})),this.destroyed)return a();this.setWritable(i),this.setReadable(s)},t};t.exports=a({destroy:!1}),t.exports.obj=a({destroy:!1,objectMode:!0,highWaterMark:16})}}},{package:"pumpify",file:"/Users/mac/code/a-mises/metamask-extension/node_modules/gunzip-maybe/node_modules/pumpify/index.js"}]],[],{});