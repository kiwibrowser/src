LavaPack.loadBundle([[2421,{"../errors":2416,"./_stream_duplex":2417,"./internal/streams/destroy":2424,"./internal/streams/state":2428,"./internal/streams/stream":2429,_process:3204,buffer:1659,inherits:2255,"util-deprecate":3810},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=E,E.WritableState=M;var s={deprecate:e("util-deprecate")},o=e("./internal/streams/stream"),a=e("buffer").Buffer,u=global.Uint8Array||function(){};var c,l=e("./internal/streams/destroy"),h=e("./internal/streams/state").getHighWaterMark,f=e("../errors").codes,d=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,v=f.ERR_STREAM_WRITE_AFTER_END,_=f.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;function k(){}function M(t,s,o){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof o&&(o=s instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if("function"!=typeof s)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,s){--t.pendingcb,n?(r.nextTick(s,i),r.nextTick(j,e,t),e._writableState.errorEmitted=!0,w(e,i)):(s(i),e._writableState.errorEmitted=!0,w(e,i),j(e,t))}(e,n,i,t,s);else{var o=A(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||R(e,n),i?r.nextTick(x,e,n,o,s):x(e,n,o,s)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function E(t){var r=this instanceof(i=i||e("./_stream_duplex"));if(!r&&!c.call(E,this))return new E(t);this._writableState=new M(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function S(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function x(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),j(e,t)}function R(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)s[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;s.allBuffers=u,S(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(S(e,t,!1,t.objectMode?1:c.length,c,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(r){t.pendingcb--,r&&w(e,r),t.prefinished=!0,e.emit("prefinish"),j(e,t)}))}function j(e,t){var n=A(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(E,o),M.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(M.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===E&&(e&&e._writableState instanceof M)}})):c=function(e){return e instanceof this},E.prototype.pipe=function(){w(this,new g)},E.prototype.write=function(e,t,n){var i,s=this._writableState,o=!1,c=!s.objectMode&&(i=e,a.isBuffer(i)||i instanceof u);return c&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),c?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=k),s.ending?function(e,t){var n=new v;w(e,n),r.nextTick(t,n)}(this,n):(c||function(e,t,n,i){var s;return null===n?s=new b:"string"==typeof n||t.objectMode||(s=new d("chunk",["string","Buffer"],n)),!s||(w(e,s),r.nextTick(i,s),!1)}(this,s,e,n))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var u=t.objectMode?1:n.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,u,n,i,s);return c}(this,s,c,e,t,n)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||R(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new p("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,j(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=l.destroy,E.prototype._undestroy=l.undestroy,E.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/_stream_writable.js"}],[2418,{"./_stream_transform":2420,inherits:2255},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/_stream_passthrough.js"}],[2420,{"../errors":2416,"./_stream_duplex":2417,inherits:2255},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=l;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/_stream_transform.js"}],[2419,{"../errors":2416,"./_stream_duplex":2417,"./internal/streams/async_iterator":2422,"./internal/streams/buffer_list":2423,"./internal/streams/destroy":2424,"./internal/streams/from":2426,"./internal/streams/state":2428,"./internal/streams/stream":2429,_process:3204,buffer:1659,events:1660,inherits:2255,"string_decoder/":2431,util:1658},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;t.exports=E,E.ReadableState=M;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),o=e("buffer").Buffer,a=global.Uint8Array||function(){};var u,c=e("util");u=c&&c.debuglog?c.debuglog("stream"):function(){};var l,h,f,d=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,v=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(E,s);var w=p.errorOrDestroy,k=["error","close","destroy","pause","resume"];function M(t,r,i){n=n||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function E(t){if(n=n||e("./_stream_duplex"),!(this instanceof E))return new E(t);var r=this instanceof n;this._readableState=new M(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function S(e,t,r,n,i){u("readableAddChunk",t);var s,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,j(e)))}(e,c);else if(i||(s=function(e,t){var r;n=t,o.isBuffer(n)||n instanceof a||"string"==typeof t||t===undefined||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(c,t)),s)w(e,s);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),n)c.endEmitted?w(e,new _):x(e,c,t,!0);else if(c.ended)w(e,new b);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?x(e,c,t,!1):C(e,c)):x(e,c,t,!1)}else n||(c.reading=!1,C(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function x(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&T(e)),C(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=p.destroy,E.prototype._undestroy=p.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=o.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},E.prototype.unshift=function(e){return S(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var r=new l(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var R=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(j,e))}function j(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,N(e)}function C(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){u("readable nexttick read 0"),e.read(0)}function L(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(D,t,e))}function D(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function q(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):T(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=e>0?P(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(e){w(this,new v("_read()"))},E.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,u("pipe count=%d opts=%j",s.pipesCount,t);var o=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:g;function a(t,r){u("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",a),n.removeListener("end",c),n.removeListener("end",g),n.removeListener("data",f),h=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}s.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,N(e))}}(n);e.on("drain",l);var h=!1;function f(t){u("ondata");var r=e.write(t);u("dest.write",r),!1===r&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==q(s.pipes,e))&&!h&&(u("false write response, pause",s.awaitDrain),s.awaitDrain++),n.pause())}function d(t){u("onerror",t),g(),e.removeListener("error",d),0===i(e,"error")&&w(e,t)}function p(){e.removeListener("finish",m),g()}function m(){u("onfinish"),e.removeListener("close",p),g()}function g(){u("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",p),e.once("finish",m),e.emit("pipe",n),s.flowing||(u("pipe resume"),n.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=q(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?T(this):i.reading||r.nextTick(O,this))),n},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(B,this),n},E.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||r.nextTick(B,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(L,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&i!==undefined)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<k.length;s++)e.on(k[s],this.emit.bind(this,k[s]));return this._read=function(t){u("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return h===undefined&&(h=e("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=P,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,r){return f===undefined&&(f=e("./internal/streams/from")),f(E,t,r)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/_stream_readable.js"}],[1294,{"./lib/_stream_duplex.js":1281,"./lib/_stream_passthrough.js":1282,"./lib/_stream_readable.js":1283,"./lib/_stream_transform.js":1284,"./lib/_stream_writable.js":1285,"./lib/internal/streams/end-of-stream.js":1289,"./lib/internal/streams/pipeline.js":1291},function(){with(this)return function(){"use strict";return function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/readable-browser.js"}],[2312,{"./cp":2310,"./flush":2311,"./ls":2313,"./mkdir":2314,"./mv":2315,"./read":2316,"./rm":2317,"./stat":2318,"./utils/create-lock":2322,"./write":2335,assert:1270,"promisify-es6":3208},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("assert"),i=e("promisify-es6"),s=e("./utils/create-lock"),o={stat:e("./stat")},a={cp:e("./cp"),flush:e("./flush"),mkdir:e("./mkdir"),mv:e("./mv"),rm:e("./rm")},u={write:e("./write"),read:e("./read"),ls:e("./ls")},c=({options:e,mfs:t,operations:r,lock:n})=>{Object.keys(r).forEach((i=>{t[i]=n(r[i](e))}))},l={repoOwner:!0,ipld:null,repo:null};t.exports=e=>{const{repoOwner:t}=Object.assign({},l||{},e);n(e.ipld,"MFS requires an IPLD instance"),n(e.blocks,"MFS requires an BlockStore instance"),n(e.datastore,"MFS requires a DataStore instance"),e.repo={blocks:{get:i(e.blocks.get,{context:e.blocks})},datastore:{open:i(e.datastore.open,{context:e.datastore}),get:i(e.datastore.get,{context:e.datastore}),put:i(e.datastore.put,{context:e.datastore})}};const r=s(t),h={};return c({options:e,mfs:h,operations:o,lock:e=>r.readLock(e)}),c({options:e,mfs:h,operations:a,lock:e=>r.writeLock(e)}),Object.keys(u).forEach((t=>{h[t]=u[t](e)})),h}}}},{package:"ipfs-mfs",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-mfs/src/core/index.js"}],[2506,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=fetch}}},{package:"ipfs",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/src/core/runtime/fetch-browser.js"}],[2464,{"../../../utils/cid":2513,"async-iterator-to-pull-stream":1278,buffer:1659,cids:1685},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("cids"),{Buffer:i}=e("buffer"),{cidToString:s}=e("../../../utils/cid"),o=e("async-iterator-to-pull-stream"),a=e=>{const t={},r=e.split("-");switch(r.length){case 1:t.avgChunkSize=262144;break;case 2:t.avgChunkSize=u(r[1],"avg");break;case 4:t.minChunkSize=u(r[1],"min"),t.avgChunkSize=u(r[2],"avg"),t.maxChunkSize=u(r[3],"max");break;default:throw new Error('Incorrect chunker format (expected "rabin" "rabin-[avg]" or "rabin-[min]-[avg]-[max]"')}return t},u=(e,t)=>{let r=parseInt(e);if(isNaN(r))throw new Error(`Chunker parameter ${t} must be an integer`);return r};t.exports={normalizePath:e=>i.isBuffer(e)?new n(e).toString():n.isCID(e)?e.toString():(0===e.indexOf("/ipfs/")&&(e=e.substring("/ipfs/".length)),"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e),parseChunkSize:u,parseRabinString:a,parseChunkerString:e=>{if(e){if(e.startsWith("size-")){const t=e.split("-")[1],r=parseInt(t);if(isNaN(r))throw new Error("Chunker parameter size must be an integer");return{chunker:"fixed",chunkerOptions:{maxChunkSize:r}}}if(e.startsWith("rabin"))return{chunker:"rabin",chunkerOptions:a(e)};throw new Error(`Unrecognized chunker option: ${e}`)}return{chunker:"fixed"}},mapFile:(e={})=>t=>{let r=0,n="dir";t.unixfs&&"file"===t.unixfs.type&&(r=t.unixfs.fileSize(),n="file");const i={hash:s(t.cid,{base:e.cidBase}),path:t.path,name:t.name,depth:t.path.split("/").length,size:r,type:n};return e.includeContent&&t.unixfs&&"file"===t.unixfs.type&&(i.content=o.source(t.content())),i}}}}},{package:"ipfs",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/src/core/components/files-regular/utils.js"}],[2359,{"../../is-buffer/index.js":2539,"./resolvers":2361,"async-iterator-last":1277,cids:1685,"err-code":1920},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("err-code"),i=e("cids"),s=e("./resolvers"),o=e("async-iterator-last"),a=e=>{if(r.isBuffer(e))return{cid:new i(e),toResolve:[]};if(i.isCID(e))return{cid:e,toResolve:[]};if("string"==typeof e){0===e.indexOf("/ipfs/")&&(e=e.substring(6));const t=((e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean))(e);return{cid:new i(t[0]),toResolve:t.slice(1)}}throw n(new Error(`Unknown path type ${e}`),"ERR_BAD_PATH")},u=async function*(e,t){let{cid:r,toResolve:i}=a(e),o=r.toBaseEncodedString(),u=o;const c=i.length;for(;;){const a=await s(r,o,u,i,c,t);if(!a.entry&&!a.next)throw n(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");if(a.entry&&(yield a.entry),!a.next)return;i=a.next.toResolve,r=a.next.cid,o=a.next.name,u=a.next.path}},c=(e,t)=>o(u(e,t));t.exports=c,t.exports.path=u,t.exports.recursive=async function*(e,t){const r=await c(e,t);if(yield r,r.unixfs&&r.unixfs.type.includes("dir"))for await(const e of async function*e(t){for await(const r of t.content())if(yield r,r.unixfs.type.includes("dir"))for await(const t of e(r))yield t}(r))yield e}}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"ipfs-unixfs-exporter",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-unixfs-exporter/src/index.js"}],[3236,{"./duplex":3235,"./sink":3237,"./source":3238,"./through":3239},function(){with(this)return function(){"use strict";return function(e,t,r){r.source=e("./source"),r.through=e("./through"),r.sink=e("./sink"),r.duplex=e("./duplex")}}},{package:"pull-defer",file:"/Users/mac/code/metamask-extension/node_modules/pull-defer/index.js"}],[2503,{"promisify-es6":3208},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("promisify-es6");t.exports=e=>n(((...e)=>{e.pop()(new Error("not available in the browser"))}))}}},{package:"ipfs",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/src/core/runtime/add-from-fs-browser.js"}],[3234,{},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e,t,r){var n=e.length;if(!n)return r(t);function i(){--n||r(t)}e.forEach((function(e){e?e(t,i):i()})),n||i()}t.exports=function(e){return function(t,r){!function i(){t?n(e,t,r):e.length?e[0]?e[0](null,(function(t,s){t?(e.shift(),!0===t?i():n(e,t,r)):r(null,s)})):(e.shift(),i()):r(!0)}()}}}}},{package:"pull-cat",file:"/Users/mac/code/metamask-extension/node_modules/pull-cat/index.js"}],[3293,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n=r.once=function(e){return function(t,r){if(t)return r(t);if(null!=e){var n=e;e=null,r(null,n)}else r(!0)}};r.depthFirst=function(e,t){var r,i=[];return i.unshift(n(e)),function e(n,s){return i.length?r?s(r):void i[0](n,(function(n,o){if(n){if(!0!==n){for(r=n,i.shift();i.length;)i.shift()(n,(function(){}));return s(n)}return i.shift(),e(null,s)}i.unshift(t(o)),s(n,o)})):s(!0)}},r.widthFirst=function(e,t){var r=[];return r.push(n(e)),function e(n,i){if(!r.length)return i(!0);r[0](n,(function(n,s){if(n)return r.shift(),e(null,i);r.push(t(s)),i(n,s)}))}},r.leafFirst=function(e,t){var r=[],i=[];return r.push(n(e)),function e(n,s){r[0](n,(function(n,o){if(n)return r.shift(),i.length?s(null,i.shift()):s(!0);r.unshift(t(o)),i.unshift(o),e(null,s)}))}}}}},{package:"pull-traverse",file:"/Users/mac/code/metamask-extension/node_modules/pull-traverse/index.js"}],[3258,{"pull-defer/source":3238,"pull-stream/sinks/collect":3263,"pull-stream/sources/error":3273,"pull-stream/sources/values":3278},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("pull-defer/source"),i=e("pull-stream/sources/error"),s=e("pull-stream/sources/values"),o=e("pull-stream/sinks/collect");t.exports=function(e){var t=n(),r=o((function(r,n){if(r)return t.resolve(i(r));t.resolve(s(n.sort(e)))}));return function(e){return r(e),t}}}}},{package:"pull-sort",file:"/Users/mac/code/metamask-extension/node_modules/pull-sort/index.js"}],[2407,{"is-buffer":2390,"is-pull-stream":2552,"is-stream":2555,"kind-of":2614},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("kind-of"),i=e("is-stream"),{isSource:s}=e("is-pull-stream"),o=e("is-buffer");t.exports=e=>{const t=e=>o(e)||i.readable(e)||s(e)||"file"===n(e),r=e=>t(e)||(e=>"object"==typeof e&&(e.content?t(e.content):Boolean(e.path)&&"string"==typeof e.path))(e);if(r(e)||Array.isArray(e)&&e.every(r))return!0;throw new Error(`Input not supported. Expected Buffer|ReadableStream|PullStream|File|Array<Object> got ${n(e)}. Check the documentation for more info https://github.com/ipfs/interface-js-ipfs-core/blob/master/SPEC/FILES.md#add`)}}}},{package:"ipfs-utils",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-utils/src/files/add-input-validation.js"}],[3277,{"../util/abort-cb":3289},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../util/abort-cb");t.exports=function(e,t){return function(r,i){if(r)return n(i,r,t);if(null!=e){var s=e;e=null,i(null,s)}else i(!0)}}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/sources/once.js"}],[3281,{"../util/tester":3291},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../util/tester");t.exports=function(e){return e=n(e),function(t){return function r(n,i){for(var s,o=!0;o;)o=!1,s=!0,t(n,(function(t,n){if(!t&&!e(n))return s?o=!0:r(t,i);i(t,n)})),s=!1}}}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/throughs/filter.js"}],[2614,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n=Object.prototype.toString;function i(e){return"function"==typeof e.constructor?e.constructor.name:null}t.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t,r=typeof e;if("boolean"===r)return"boolean";if("string"===r)return"string";if("number"===r)return"number";if("symbol"===r)return"symbol";if("function"===r)return t=e,"GeneratorFunction"===i(t)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(i(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(r=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return r.slice(8,-1).toLowerCase().replace(/\s/g,"")}}}},{package:"kind-of",file:"/Users/mac/code/metamask-extension/node_modules/kind-of/index.js"}],[2555,{},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;n.writable=e=>n(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,n.readable=e=>n(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,n.duplex=e=>n.writable(e)&&n.readable(e),n.transform=e=>n.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,t.exports=n}}},{package:"is-stream",file:"/Users/mac/code/metamask-extension/node_modules/is-stream/index.js"}],[3719,{_process:3204,looper:2961,"pull-stream/pull":3262},function(){with(this)return function(){"use strict";return function(e,t,r){(function(n){(function(){e("pull-stream/pull");var i=e("looper");function s(e){e.destroy?e.destroy():console.error("warning, stream-to-pull-stream: \n"+"the wrapped node-stream does not implement `destroy`, \n"+"this may cause resource leaks.")}function o(e,t,r){var o,a,u=!1;function c(){a||(a=!0,r&&r(!0===o?null:o))}function l(){u||(u=!0,f(),o?c():e(o=!0,c))}function h(t){f(),o||e(o=t,c)}function f(){t.on("finish",l),t.removeListener("close",l),t.removeListener("error",h)}t.on("close",l),t.on("finish",l),t.on("error",h),n.nextTick((function(){i((function(r){e(null,(function(e,n){if(o=o||e,!0===e)return t._isStdio?c():t.end();if(o=o||e)return s(t),c();t._isStdio?t.write(n,(function(){r()})):!1===t.write(n)?t.once("drain",r):r()}))}))}))}function a(e){var t,r=[],n=[],i=!1;function o(){for(;(r.length||t)&&n.length;)n.shift()(r.length?null:t,r.shift());!r.length&&i&&(i=!1,e.resume())}return e.on("data",(function(t){r.push(t),o(),r.length&&e.pause&&(i=!0,e.pause())})),e.on("end",(function(){t=!0,o()})),e.on("close",(function(){t=!0,o()})),e.on("error",(function(e){t=e,o()})),function(r,i){if(!i)throw new Error("*must* provide cb");if(r){function o(){for(;n.length;)n.shift()(r);i(r)}if(t)return o();e.once("close",o),s(e)}else n.push(i),o()}}var u=a,c=function(e,t){return function(r){return o(r,e,t)}},l=function(e){return a(e)};(r=t.exports=function(e,t){return e.writable&&e.write?e.readable?function(r){return o(r,e,t),a(e)}:c(e,t):l(e)}).sink=c,r.source=l,r.read=u,r.read1=a,r.read2=function(e){var t,r=!1,n=!1;function i(){var r=e.read();if(null!==r&&t){var n=t;t=null,n(null,r)}}return e.on("readable",(function(){n=!0,t&&i()})).on("end",(function(){r=!0,t&&t(r)})).on("error",(function(e){r=e,t&&t(r)})),function(e,s){t=s,r?s(r):n&&i()}},r.duplex=function(e,t){return{source:l(e),sink:c(e,t)}},r.transform=function(e){return function(t){var r=l(e);return c(e)(t),r}}}).call(this)}).call(this,e("_process"))}}},{package:"stream-to-pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/stream-to-pull-stream/index.js"}],[3278,{"../util/abort-cb":3289},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../util/abort-cb");t.exports=function(e,t){if(!e)return function(e,r){return e?n(r,e,t):r(!0)};Array.isArray(e)||(e=Object.keys(e).map((function(t){return e[t]})));var r=0;return function(i,s){if(i)return n(s,i,t);r>=e.length?s(!0):s(null,e[r++])}}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/sources/values.js"}],[3279,{"../util/prop":3290},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e){return e}var i=e("../util/prop");t.exports=function(e){if(!e)return n;e=i(e);var t,r,s=!1;return function(n){return function i(o,a){if(r)return a(r);o?(r=o,n(o,s?function(e){s?t=a:a(o)}:function(e){a(o)})):n(null,(function(n,o){n?a(n):r?a(r):(s=!0,e(o,(function(e,n){s=!1,r?(a(r),t&&t(r)):e?i(e,a):a(null,n)})))}))}}}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/throughs/async-map.js"}],[3282,{"../sources/once":3277,"../sources/values":3278},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../sources/values"),i=e("../sources/once");t.exports=function(){return function(e){var t;return function(r,s){function o(){t(null,(function(t,r){!0===t?a():t?e(!0,(function(e){s(t)})):s(null,r)}))}function a(){t=null,e(null,(function(e,r){if(e)return s(e);Array.isArray(r)||r&&"object"==typeof r?r=n(r):"function"!=typeof r&&(r=i(r)),t=r,o()}))}r?t?t(r,(function(t){e(t||r,s)})):e(r,s):t?o():a()}}}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/throughs/flatten.js"}],[2409,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={supportsFileReader:"undefined"!=typeof self&&"FileReader"in self}}}},{package:"ipfs-utils",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-utils/src/supports.js"}],[2408,{"../supports":2409,"readable-stream":2405},function(){with(this)return function(){"use strict";return function(e,t,r){const{Readable:n}=e("readable-stream"),{supportsFileReader:i}=e("../supports");t.exports=(e,t)=>{if(!i)throw new Error("FileReader DOM API is not supported.");return new class extends n{constructor(e,t={}){super(t),this.file=e,this.offset=t.offset||0,this.chunkSize=t.chunkSize||1048576,this.fileReader=new self.FileReader(e),this.fileReader.onloadend=e=>{const t=e.target.result;0===t.byteLength&&this.push(null),this.push(new Uint8Array(t))},this.fileReader.onerror=e=>this.destroy(e)}_read(t){const r=this.offset+this.chunkSize,n=e.slice(this.offset,r);this.fileReader.readAsArrayBuffer(n),this.offset=r}}(e,t)}}}},{package:"ipfs-utils",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-utils/src/streams/stream-from-filereader.js"}],[2384,{"./dag-builder":2378,"./tree-builder":2385,multihashes:3001,superstruct:3727},function(){with(this)return function(){"use strict";return function(e,t,r){const{superstruct:n}=e("superstruct"),i=e("./dag-builder"),s=e("./tree-builder"),o=e("multihashes"),a=n({types:{codec:e=>["dag-pb","dag-cbor","raw"].includes(e),hashAlg:e=>Object.keys(o.names).includes(e),leafType:e=>["file","raw"].includes(e)}}),u=a({minChunkSize:"number?",maxChunkSize:"number?",avgChunkSize:"number?",window:"number?",polynomial:"number?"},{maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804}),c=a({maxChildrenPerNode:"number?",layerRepeat:"number?"},{maxChildrenPerNode:174,layerRepeat:4}),l=a({chunker:a.enum(["fixed","rabin"]),rawLeaves:"boolean?",hashOnly:"boolean?",strategy:a.enum(["balanced","flat","trickle"]),reduceSingleLeafToSelf:"boolean?",codec:"codec?",format:"codec?",hashAlg:"hashAlg?",leafType:"leafType?",cidVersion:"number?",progress:"function?",wrapWithDirectory:"boolean?",shardSplitThreshold:"number?",onlyHash:"boolean?",chunkerOptions:u,builderOptions:c,wrap:"boolean?",pin:"boolean?",recursive:"boolean?",ignore:"array?",hidden:"boolean?",preload:"boolean?"},{chunker:"fixed",strategy:"balanced",rawLeaves:!1,reduceSingleLeafToSelf:!0,codec:"dag-pb",hashAlg:"sha2-256",leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3});t.exports=async function*(e,t,r={}){const n=l(r);r.cidVersion>0&&r.rawLeaves===undefined&&(n.rawLeaves=!0),r.hashAlg!==undefined&&r.rawLeaves===undefined&&(n.rawLeaves=!0),"trickle"===r.strategy&&(n.leafType="raw",n.reduceSingleLeafToSelf=!1),r.format&&(r.codec=r.format);for await(const r of s(i(e,t,n),t,n))yield{cid:r.cid,path:r.path,unixfs:r.unixfs,size:r.size}}}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-unixfs-importer/src/index.js"}],[3916,{"./formatters":3911,"./param":3913},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./formatters"),i=e("./param"),s=function(e){this._inputFormatter=e.inputFormatter,this._outputFormatter=e.outputFormatter};s.prototype.isType=function(e){throw"this method should be overrwritten for type "+e},s.prototype.staticPartLength=function(e){return(this.nestedTypes(e)||["[1]"]).map((function(e){return parseInt(e.slice(1,-1),10)||1})).reduce((function(e,t){return e*t}),32)},s.prototype.isDynamicArray=function(e){var t=this.nestedTypes(e);return!!t&&!t[t.length-1].match(/[0-9]{1,}/g)},s.prototype.isStaticArray=function(e){var t=this.nestedTypes(e);return!!t&&!!t[t.length-1].match(/[0-9]{1,}/g)},s.prototype.staticArrayLength=function(e){var t=this.nestedTypes(e);return t?parseInt(t[t.length-1].match(/[0-9]{1,}/g)||1):1},s.prototype.nestedName=function(e){var t=this.nestedTypes(e);return t?e.substr(0,e.length-t[t.length-1].length):e},s.prototype.isDynamicType=function(){return!1},s.prototype.nestedTypes=function(e){return e.match(/(\[[0-9]*\])/g)},s.prototype.encode=function(e,t){var r,i,s,o=this;return this.isDynamicArray(t)?(r=e.length,i=o.nestedName(t),(s=[]).push(n.formatInputInt(r).encode()),e.forEach((function(e){s.push(o.encode(e,i))})),s):this.isStaticArray(t)?function(){for(var r=o.staticArrayLength(t),n=o.nestedName(t),i=[],s=0;s<r;s++)i.push(o.encode(e[s],n));return i}():this._inputFormatter(e,t).encode()},s.prototype.decode=function(e,t,r){var n=this;if(this.isDynamicArray(r))return function(){for(var i=parseInt("0x"+e.substr(2*t,64)),s=parseInt("0x"+e.substr(2*i,64)),o=i+32,a=n.nestedName(r),u=n.staticPartLength(a),c=32*Math.floor((u+31)/32),l=[],h=0;h<s*c;h+=c)l.push(n.decode(e,o+h,a));return l}();if(this.isStaticArray(r))return function(){for(var i=n.staticArrayLength(r),s=t,o=n.nestedName(r),a=n.staticPartLength(o),u=32*Math.floor((a+31)/32),c=[],l=0;l<i*u;l+=u)c.push(n.decode(e,s+l,o));return c}();if(this.isDynamicType(r))return function(){var s=parseInt("0x"+e.substr(2*t,64)),o=parseInt("0x"+e.substr(2*s,64)),a=Math.floor((o+31)/32),u=new i(e.substr(2*s,64*(1+a)),0);return n._outputFormatter(u,r)}();var s=this.staticPartLength(r),o=new i(e.substr(2*t,2*s));return this._outputFormatter(o,r)},t.exports=s}}},{package:"web3",file:"/Users/mac/code/metamask-extension/node_modules/web3/lib/solidity/type.js"}],[3913,{"../utils/utils":3922},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../utils/utils"),i=function(e,t){this.value=e||"",this.offset=t};i.prototype.dynamicPartLength=function(){return this.dynamicPart().length/2},i.prototype.withOffset=function(e){return new i(this.value,e)},i.prototype.combine=function(e){return new i(this.value+e.value)},i.prototype.isDynamic=function(){return this.offset!==undefined},i.prototype.offsetAsBytes=function(){return this.isDynamic()?n.padLeft(n.toTwosComplement(this.offset).toString(16),64):""},i.prototype.staticPart=function(){return this.isDynamic()?this.offsetAsBytes():this.value},i.prototype.dynamicPart=function(){return this.isDynamic()?this.value:""},i.prototype.encode=function(){return this.staticPart()+this.dynamicPart()},i.encodeList=function(e){var t=32*e.length,r=e.map((function(e){if(!e.isDynamic())return e;var r=t;return t+=e.dynamicPartLength(),e.withOffset(r)}));return r.reduce((function(e,t){return e+t.dynamicPart()}),r.reduce((function(e,t){return e+t.staticPart()}),""))},t.exports=i}}},{package:"web3",file:"/Users/mac/code/metamask-extension/node_modules/web3/lib/solidity/param.js"}],[1375,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}}}},{package:"axios",file:"/Users/mac/code/metamask-extension/node_modules/axios/lib/helpers/isAbsoluteURL.js"}],[1373,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}}}},{package:"axios",file:"/Users/mac/code/metamask-extension/node_modules/axios/lib/helpers/combineURLs.js"}],[1985,{buffer:1659},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0});var t=e.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=e.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(r,i,s){void 0===s&&(s=!0);var o=e.from(s?t:n);return r.copy(o,s?8:9),i.copy(o,s?181:214),o},r.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},r.signatureImportLax=function(t){var r=e.alloc(32,0),n=e.alloc(32,0),i=t.length,s=0;if(48!==t[s++])return null;var o=t[s++];if(128&o&&(s+=o-128)>i)return null;if(2!==t[s++])return null;var a=t[s++];if(128&a){if(s+(o=a-128)>i)return null;for(;o>0&&0===t[s];s+=1,o-=1);for(a=0;o>0;s+=1,o-=1)a=(a<<8)+t[s]}if(a>i-s)return null;var u=s;if(s+=a,2!==t[s++])return null;var c=t[s++];if(128&c){if(s+(o=c-128)>i)return null;for(;o>0&&0===t[s];s+=1,o-=1);for(c=0;o>0;s+=1,o-=1)c=(c<<8)+t[s]}if(c>i-s)return null;var l=s;for(s+=c;a>0&&0===t[u];a-=1,u+=1);if(a>32)return null;var h=t.slice(u,u+a);for(h.copy(r,32-h.length);c>0&&0===t[l];c-=1,l+=1);if(c>32)return null;var f=t.slice(l,l+c);return f.copy(n,32-f.length),{r:r,s:n}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/Users/mac/code/metamask-extension/node_modules/eth-json-rpc-middleware/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/dist/secp256k1v3-lib/der.js"}],[1986,{"bn.js":1988,buffer:1659,elliptic:1886},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n=e("bn.js"),i=new(0,e("elliptic").ec)("secp256k1"),s=i.curve;r.privateKeyExport=function(e,t){void 0===t&&(t=!0);var r=new n(e);if(r.ucmp(s.n)>=0)throw new Error("couldn't export to DER format");var a=i.g.mul(r);return o(a.getX(),a.getY(),t)},r.privateKeyModInverse=function(e){var r=new n(e);if(r.ucmp(s.n)>=0||r.isZero())throw new Error("private key range is invalid");return r.invm(s.n).toArrayLike(t,"be",32)},r.signatureImport=function(e){var r=new n(e.r);r.ucmp(s.n)>=0&&(r=new n(0));var i=new n(e.s);return i.ucmp(s.n)>=0&&(i=new n(0)),t.concat([r.toArrayLike(t,"be",32),i.toArrayLike(t,"be",32)])},r.ecdhUnsafe=function(e,t,r){void 0===r&&(r=!0);var a=i.keyFromPublic(e),u=new n(t);if(u.ucmp(s.n)>=0||u.isZero())throw new Error("scalar was invalid (zero or overflow)");var c=a.pub.mul(u);return o(c.getX(),c.getY(),r)};var o=function(e,r,n){var i;return n?((i=t.alloc(33))[0]=r.isOdd()?3:2,e.toArrayLike(t,"be",32).copy(i,1)):((i=t.alloc(65))[0]=4,e.toArrayLike(t,"be",32).copy(i,1),r.toArrayLike(t,"be",32).copy(i,33)),i}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/Users/mac/code/metamask-extension/node_modules/eth-json-rpc-middleware/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/dist/secp256k1v3-lib/index.js"}],[2563,{},function(){with(this)return function(){"use strict";return function(e,t,r){const n=self.location?self.location.protocol+"//"+self.location.host:"",i=self.URL;t.exports={URLWithLegacySupport:class{constructor(e="",t=n){this.super=new i(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}},URLSearchParams:self.URLSearchParams,defaultBase:n,format:function(e){if("string"==typeof e){return new i(e).toString()}if(!(e instanceof i)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",s=e.host||"",o=e.hostname||"",a=e.search||(e.query?"?"+e.query:""),u=e.hash||"",c=e.pathname||"";return`${i}${t||r}${s||o+n}${e.path||c+a}${u}`}}}}}},{package:"iso-url",file:"/Users/mac/code/metamask-extension/node_modules/iso-url/src/url-browser.js"}],[2562,{"./url":2563},function(){with(this)return function(){"use strict";return function(e,t,r){const{URLWithLegacySupport:n,format:i}=e("./url");t.exports=(e,t={},r={},s)=>{let o,a=t.protocol?t.protocol.replace(":",""):"http";a=(r[a]||s||a)+":";try{o=new n(e)}catch(e){o={}}const u=Object.assign({},t,{protocol:a||o.protocol,host:t.host||o.host});return new n(e,i(u)).toString()}}}},{package:"iso-url",file:"/Users/mac/code/metamask-extension/node_modules/iso-url/src/relative.js"}],[2044,{buffer:1659,secp256k1:2033},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(r,"__esModule",{value:!0});var i=n(e("secp256k1"));r.privateKeyVerify=function(e){return i.privateKeyVerify(e)},r.publicKeyCreate=function(e,r){return void 0===r&&(r=!0),t.from(i.publicKeyCreate(e,r))},r.publicKeyVerify=function(e){return i.publicKeyVerify(e)},r.publicKeyConvert=function(e,r){return void 0===r&&(r=!0),t.from(i.publicKeyConvert(e,r))},r.privateKeyTweakAdd=function(e,r){return t.from(i.privateKeyTweakAdd(t.from(e),r))},r.publicKeyTweakAdd=function(e,r,n){return void 0===n&&(n=!0),t.from(i.publicKeyTweakAdd(t.from(e),r,n))},r.sign=function(e,r){var n=i.ecdsaSign(e,r);return{signature:t.from(n.signature),recovery:n.recid}},r.verify=function(e,t,r){return i.ecdsaVerify(t,e,r)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereum-cryptography",file:"/Users/mac/code/metamask-extension/node_modules/ethereum-cryptography/shims/hdkey-secp256k1v3.js"}],[2037,{"../hash-utils":2031,"hash.js/lib/hash/ripemd":2213},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("hash.js/lib/hash/ripemd").ripemd160,i=e("../hash-utils");r.ripemd160=i.createHashFunction((function(){return new n}))}}},{package:"ethereum-cryptography",file:"/Users/mac/code/metamask-extension/node_modules/ethereum-cryptography/pure/ripemd160.js"}],[2038,{"../hash-utils":2031,"hash.js/lib/hash/sha/256":2217},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("hash.js/lib/hash/sha/256"),i=e("../hash-utils");r.sha256=i.createHashFunction((function(){return new n}))}}},{package:"ethereum-cryptography",file:"/Users/mac/code/metamask-extension/node_modules/ethereum-cryptography/pure/sha256.js"}],[2069,{"./keccak-state-unroll":2068,"safe-buffer":3577},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer,i=e("./keccak-state-unroll");function s(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}s.prototype.initialize=function(e,t){for(var r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},s.prototype.absorb=function(e){for(var t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0)},s.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!=(128&e)&&this.count===this.blockSize-1&&i.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,i.p1600(this.state),this.count=0,this.squeezing=!0},s.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);for(var t=n.alloc(e),r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0);return t},s.prototype.copy=function(e){for(var t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},t.exports=s}}},{package:"keccak",file:"/Users/mac/code/metamask-extension/node_modules/ethereumjs-tx/node_modules/keccak/lib/keccak.js"}],[2065,{"./keccak":2066,"./shake":2067},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./keccak"),i=e("./shake");t.exports=function(e){var t=n(e),r=i(e);return function(e,n){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}}}},{package:"keccak",file:"/Users/mac/code/metamask-extension/node_modules/ethereumjs-tx/node_modules/keccak/lib/api/index.js"}],[3553,{"bn.js":3554,buffer:1659,"js-sha3":3568,"number-to-bn":3060},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("bn.js"),i=e("number-to-bn"),s=e("js-sha3").keccak_256;function o(e){for(var t=e,r=t[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t}function a(e){var t=e.toString(16);return t.length%2&&(t="0"+t),o(new r(t,"hex"))}function u(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function c(e,t){var n=e;if(!r.isBuffer(n)){if(!u(n)){var i=new Error(t?"[ethjs-abi] invalid "+t:"[ethjs-abi] invalid hex or buffer, must be a prefixed alphanumeric even length hex string");throw i.reason="[ethjs-abi] invalid hex string, hex must be prefixed and alphanumeric (e.g. 0x023..)",i.value=n,i}(n=n.substring(2)).length%2&&(n="0"+n),n=new r(n,"hex")}return n}function l(e,t){return{encode:function(n){var s=n;return"object"==typeof s&&s.toString&&(s.toTwos||s.dividedToIntegerBy)&&(s=s.toString(10).split(".")[0]),"string"!=typeof s&&"number"!=typeof s||(s=String(s).split(".")[0]),s=(s=i(s)).toTwos(8*e).maskn(8*e),t&&(s=s.fromTwos(8*e).toTwos(256)),s.toArrayLike(r,"be",32)},decode:function(r,i){var s=32-e,o=new n(r.slice(i+s,i+32));return o=t?o.fromTwos(8*e):o.maskn(8*e),{consumed:32,value:new n(o.toString(10))}}}}var h=l(32,!1),f={encode:function(e){return h.encode(e?1:0)},decode:function(e,t){var r=h.decode(e,t);return{consumed:r.consumed,value:!r.value.isZero()}}};function d(e){return{encode:function(e){var t=e;if(32===(t=c(t)).length)return t;var n=new r(32);return n.fill(0),t.copy(n),n},decode:function(t,r){if(0!==t.length&&t.length<r+32)throw new Error("[ethjs-abi] while decoding fixed bytes, invalid bytes data length: "+e);return{consumed:32,value:"0x"+t.slice(r,r+e).toString("hex")}}}}var p={encode:function(e){var t=e,n=new r(32);if(!u(t,20))throw new Error("[ethjs-abi] while encoding address, invalid address value, not alphanumeric 20 byte hex string");return t=c(t),n.fill(0),t.copy(n,12),n},decode:function(e,t){if(0===e.length)return{consumed:32,value:"0x"};if(0!==e.length&&e.length<t+32)throw new Error("[ethjs-abi] while decoding address data, invalid address data, invalid byte length "+e.length);return{consumed:32,value:"0x"+e.slice(t+12,t+32).toString("hex")}}};function m(e){var t=parseInt(32*Math.ceil(e.length/32)),n=new r(t-e.length);return n.fill(0),r.concat([h.encode(e.length),e,n])}function g(e,t){if(0!==e.length&&e.length<t+32)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+e.length+" should be less than "+(t+32));var r=h.decode(e,t).value;if(r=r.toNumber(),0!==e.length&&e.length<t+32+r)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+e.length+" should be less than "+(t+32+r));return{consumed:parseInt(32+32*Math.ceil(r/32),10),value:e.slice(t+32,t+32+r)}}var y={encode:function(e){return m(c(e))},decode:function(e,t){var r=g(e,t);return r.value="0x"+r.value.toString("hex"),r},dynamic:!0},b={encode:function(e){return m(new r(e,"utf8"))},decode:function(e,t){var r=g(e,t);return r.value=r.value.toString("utf8"),r},dynamic:!0};function v(e,t){return{encode:function(n){var i=new r(0),s=t;if(!Array.isArray(n))throw new Error("[ethjs-abi] while encoding array, invalid array data, not type Object (Array)");if(-1===s&&(s=n.length,i=h.encode(s)),s!==n.length)throw new Error("[ethjs-abi] while encoding array, size mismatch array length "+s+" does not equal "+n.length);return n.forEach((function(t){i=r.concat([i,e.encode(t)])})),i},decode:function(r,n){var i,s=t,o=n,a=0;-1===s&&(s=(i=h.decode(r,o)).value.toNumber(),a+=i.consumed,o+=i.consumed);for(var u=[],c=0;c<s;c++){var l=e.decode(r,o);a+=l.consumed,o+=l.consumed,u.push(l.value)}return{consumed:a,value:u}},dynamic:-1===t}}var _=new RegExp(/^((u?int|bytes)([0-9]*)|(address|bool|string)|(\[([0-9]*)\]))/);t.exports={BN:n,bnToBuffer:a,isHexString:u,hexOrBuffer:c,hexlify:function(e){return"number"==typeof e?"0x"+a(new n(e)).toString("hex"):e.mod||e.modulo?"0x"+a(e).toString("hex"):"0x"+c(e).toString("hex")},stripZeros:o,keccak256:s,getKeys:function(e,t,r){var n=[];if(!Array.isArray(e))throw new Error("[ethjs-abi] while getting keys, invalid params value "+JSON.stringify(e));for(var i=0;i<e.length;i++){var s=e[i][t];if(r&&!s)s="";else if("string"!=typeof s)throw new Error("[ethjs-abi] while getKeys found invalid ABI data structure, type value not string");n.push(s)}return n},numberToBN:i,coderNumber:l,uint256Coder:h,coderBoolean:f,coderFixedBytes:d,coderAddress:p,coderDynamicBytes:y,coderString:b,coderArray:v,paramTypePart:_,getParamCoder:function(e){for(var t=e,r=null,n="[ethjs-abi] while getting param coder (getParamCoder) type value "+JSON.stringify(t)+" is either invalid or unsupported by ethjs-abi.";t;){var i=t.match(_);if(!i)throw new Error(n);t=t.substring(i[0].length);var s=i[2]||i[4]||i[5];switch(s){case"int":case"uint":if(r)throw new Error(n);var o=parseInt(i[3]||256);if(0===o||o>256||o%8!=0)throw new Error("[ethjs-abi] while getting param coder for type "+t+", invalid "+s+"<N> width: "+t);r=l(o/8,"int"===s);break;case"bool":if(r)throw new Error(n);r=f;break;case"string":if(r)throw new Error(n);r=b;break;case"bytes":if(r)throw new Error(n);if(i[3]){var a=parseInt(i[3]);if(0===a||a>32)throw new Error("[ethjs-abi] while getting param coder for prefix bytes, invalid type "+t+", size "+a+" should be 0 or greater than 32");r=d(a)}else r=y;break;case"address":if(r)throw new Error(n);r=p;break;case"[]":if(!r||r.dynamic)throw new Error(n);r=v(r,-1);break;default:if(!r||r.dynamic)throw new Error(n);r=v(r,parseInt(i[6]))}}if(!r)throw new Error(n);return r}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethjs-abi",file:"/Users/mac/code/metamask-extension/node_modules/rpc-cap/node_modules/ethjs-abi/lib/utils/index.js"}],[3561,{buffer:1659,"is-hex-prefixed":2545,"strip-hex-prefix":3720},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("is-hex-prefixed"),i=e("strip-hex-prefix");function s(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function o(e){return"0x"+s(e.toString(16))}t.exports={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"]((function(t){return e.indexOf(t)>=0}))},intToBuffer:function(e){var t=o(e);return r.from(t.slice(2),"hex")},getBinarySize:function(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return r.byteLength(e,"utf8")},isHexPrefixed:n,stripHexPrefix:i,padToEven:s,intToHex:o,fromAscii:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+s(new r(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t},toUtf8:function(e){return new r(s(i(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],i=0;i<e.length;i++){var s=e[i][t];if(r&&!s)s="";else if("string"!=typeof s)throw new Error("invalid abi");n.push(s)}return n},isHexString:function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethjs-util",file:"/Users/mac/code/metamask-extension/node_modules/rpc-cap/node_modules/ethjs-contract/node_modules/ethjs-util/lib/index.js"}],[3555,{"./has-tx-object":3556,"babel-runtime/core-js/json/stringify":1387,"babel-runtime/core-js/object/assign":1388,"babel-runtime/helpers/asyncToGenerator":1396,"babel-runtime/regenerator":1513,"ethjs-abi":3559,"ethjs-filter":2124,"ethjs-util":3561,"js-sha3":3568,"promise-to-callback":3206},function(){with(this)return function(){"use strict";return function(e,t,r){var n=a(e("babel-runtime/regenerator")),i=a(e("babel-runtime/core-js/json/stringify")),s=a(e("babel-runtime/helpers/asyncToGenerator")),o=a(e("babel-runtime/core-js/object/assign"));function a(e){return e&&e.__esModule?e:{default:e}}var u=e("ethjs-abi"),c=e("ethjs-filter"),l=e("ethjs-util").getKeys,h=e("js-sha3").keccak_256,f=e("./has-tx-object"),d=e("promise-to-callback");function p(e){return e.filter((function(e){return("function"===e.type||"event"===e.type)&&e.name.length>0}))}t.exports=function(){var e=(a=(0,s.default)(n.default.mark((function e(t){var s,a,c,l,h,d=t.methodObject,p=t.methodArgs;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="call",a={},f(p)&&(a=p.pop()),(c=(0,o.default)({},r.defaultTxObject,a,{to:r.address})).data=u.encodeMethod(d,p),!1===d.constant&&(s="sendTransaction"),e.next=8,r.query[s](c);case 8:if(l=e.sent,"call"!==s){e.next=19;break}return e.prev=10,h=u.decodeMethod(d,l),e.abrupt("return",h);case 15:throw e.prev=15,e.t0=e.catch(10),new Error("[ethjs-contract] while formatting incoming raw call data "+(0,i.default)(l)+" "+e.t0);case 19:return e.abrupt("return",l);case 20:case"end":return e.stop()}}),e,this,[[10,15]])}))),function(e){return a.apply(this,arguments)}),t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=this;var a;function m(e){return function(){var t=[].slice.call(arguments),n=l(e.inputs,"type",!1),i="0x"+h(e.name+"("+n.join(",")+")"),s=[i],a=(0,o.default)({},t[0])||{},c=(0,o.default)({},t[0]||{},{to:r.address,topics:s}),f=(0,o.default)({},a,{decoder:function(t){return u.decodeEvent(e,t,s)},defaultFilterObject:c});return new r.filters.Filter(f)}}function g(t){return function(){var r=void 0,n=[].slice.call(arguments);"function"==typeof n[n.length-1]&&(r=n.pop());var i=e({methodObject:t,methodArgs:n});return r?d(i)(r):i}}r.abi=t.contractABI||[],r.query=t.query,r.address=t.address||"0x",r.bytecode=t.contractBytecode||"0x",r.defaultTxObject=t.contractDefaultTxObject||{},r.filters=new c(r.query),p(r.abi).forEach((function(e){"function"===e.type?r[e.name]=g(e):"event"===e.type&&(r[e.name]=m(e))}))}}}},{package:"ethjs-contract",file:"/Users/mac/code/metamask-extension/node_modules/rpc-cap/node_modules/ethjs-contract/lib/contract.js"}],[3556,{"babel-runtime/core-js/object/keys":1391},function(){with(this)return function(){"use strict";return function(e,t,r){var n,i=e("babel-runtime/core-js/object/keys"),s=(n=i)&&n.__esModule?n:{default:n};var o=["from","to","data","value","gasPrice","gas"];t.exports=function(e){if(!Array.isArray(e)||0===e.length)return!1;var t=e[e.length-1];if(!t)return!1;if("object"!=typeof t)return!1;if(0===(0,s.default)(t).length)return!0;var r=(0,s.default)(t);if(o.some((function(e){return r.includes(e)})))return!0;return!1}}}},{package:"ethjs-contract",file:"/Users/mac/code/metamask-extension/node_modules/rpc-cap/node_modules/ethjs-contract/lib/has-tx-object.js"}],[3559,{"./utils/index.js":3560,buffer:1659},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("./utils/index.js"),i=n.uint256Coder,s=(n.coderBoolean,n.coderFixedBytes,n.coderAddress,n.coderDynamicBytes,n.coderString,n.coderArray,n.paramTypePart,n.getParamCoder);function o(){}function a(e,t){if(e.length!==t.length)throw new Error("[ethjs-abi] while encoding params, types/values mismatch, Your contract requires "+e.length+" types (arguments), and you passed in "+t.length);var n=[];function o(e){return parseInt(32*Math.ceil(e/32))}e.forEach((function(e,r){var i=s(e);n.push({dynamic:i.dynamic,value:i.encode(t[r])})}));var a=0,u=0;n.forEach((function(e){e.dynamic?(a+=32,u+=o(e.value.length)):a+=o(e.value.length)}));var c=0,l=a,h=new r(a+u);return n.forEach((function(e,t){e.dynamic?(i.encode(l).copy(h,c),c+=32,e.value.copy(h,l),l+=o(e.value.length)):(e.value.copy(h,c),c+=o(e.value.length))})),"0x"+h.toString("hex")}function u(e,t,r){var a=!(arguments.length>3&&arguments[3]!==undefined)||arguments[3];arguments.length<3&&(r=t,t=e,e=[]),r=n.hexOrBuffer(r);var u=new o,c=0;return t.forEach((function(t,n){var o=s(t);if(o.dynamic){var l=i.decode(r,c),h=o.decode(r,l.value.toNumber());c+=l.consumed}else{h=o.decode(r,c);c+=h.consumed}a&&(u[n]=h.value),e[n]&&(u[e[n]]=h.value)})),u}function c(e,t){var i=e.name+"("+n.getKeys(e.inputs,"type").join(",")+")";return""+("0x"+new r(n.keccak256(i),"hex").slice(0,4).toString("hex"))+a(n.getKeys(e.inputs,"type"),t).substring(2)}function l(e){var t=e.name+"("+n.getKeys(e.inputs,"type").join(",")+")";return"0x"+n.keccak256(t)}function h(e,t,i){var o=!(arguments.length>3&&arguments[3]!==undefined)||arguments[3],a=e.inputs.filter((function(e){return!e.indexed})),c=n.getKeys(a,"name",!0),l=n.getKeys(a,"type"),h=u(c,l,n.hexOrBuffer(t),o),f=e.anonymous?0:1;return e.inputs.filter((function(e){return e.indexed})).map((function(e,t){var n=new r(i[t+f].slice(2),"hex"),o=s(e.type);h[e.name]=o.decode(n,0).value})),h._eventName=e.name,h}function f(e,t){var r=!(arguments.length>2&&arguments[2]!==undefined)||arguments[2];if(e&&t.topics[0]===l(e))return h(e,t.data,t.topics,r)}t.exports={encodeParams:a,decodeParams:u,encodeMethod:c,decodeMethod:function(e,t){return u(n.getKeys(e.outputs,"name",!0),n.getKeys(e.outputs,"type"),n.hexOrBuffer(t))},encodeEvent:function(e,t){return c(e,t)},decodeEvent:h,decodeLogItem:f,logDecoder:function(e){var t=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],r={};return e.filter((function(e){return"event"===e.type})).map((function(e){r[l(e)]=e})),function(e){return e.map((function(e){return f(r[e.topics[0]],e,t)})).filter((function(e){return e}))}},eventSignature:l}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethjs-abi",file:"/Users/mac/code/metamask-extension/node_modules/rpc-cap/node_modules/ethjs-contract/node_modules/ethjs-abi/lib/index.js"}],[3873,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];r.p1600=function(e){for(var t=0;t<24;++t){var r=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],h=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49],d=h^(s<<1|o>>>31),p=f^(o<<1|s>>>31),m=e[0]^d,g=e[1]^p,y=e[10]^d,b=e[11]^p,v=e[20]^d,_=e[21]^p,w=e[30]^d,k=e[31]^p,M=e[40]^d,E=e[41]^p;d=r^(a<<1|u>>>31),p=i^(u<<1|a>>>31);var S=e[2]^d,x=e[3]^p,R=e[12]^d,A=e[13]^p,T=e[22]^d,j=e[23]^p,C=e[32]^d,I=e[33]^p,B=e[42]^d,O=e[43]^p;d=s^(c<<1|l>>>31),p=o^(l<<1|c>>>31);var L=e[4]^d,N=e[5]^p,P=e[14]^d,U=e[15]^p,D=e[24]^d,q=e[25]^p,z=e[34]^d,F=e[35]^p,K=e[44]^d,V=e[45]^p;d=a^(h<<1|f>>>31),p=u^(f<<1|h>>>31);var H=e[6]^d,W=e[7]^p,$=e[16]^d,Z=e[17]^p,Y=e[26]^d,G=e[27]^p,J=e[36]^d,Q=e[37]^p,X=e[46]^d,ee=e[47]^p;d=c^(r<<1|i>>>31),p=l^(i<<1|r>>>31);var te=e[8]^d,re=e[9]^p,ne=e[18]^d,ie=e[19]^p,se=e[28]^d,oe=e[29]^p,ae=e[38]^d,ue=e[39]^p,ce=e[48]^d,le=e[49]^p,he=m,fe=g,de=b<<4|y>>>28,pe=y<<4|b>>>28,me=v<<3|_>>>29,ge=_<<3|v>>>29,ye=k<<9|w>>>23,be=w<<9|k>>>23,ve=M<<18|E>>>14,_e=E<<18|M>>>14,we=S<<1|x>>>31,ke=x<<1|S>>>31,Me=A<<12|R>>>20,Ee=R<<12|A>>>20,Se=T<<10|j>>>22,xe=j<<10|T>>>22,Re=I<<13|C>>>19,Ae=C<<13|I>>>19,Te=B<<2|O>>>30,je=O<<2|B>>>30,Ce=N<<30|L>>>2,Ie=L<<30|N>>>2,Be=P<<6|U>>>26,Oe=U<<6|P>>>26,Le=q<<11|D>>>21,Ne=D<<11|q>>>21,Pe=z<<15|F>>>17,Ue=F<<15|z>>>17,De=V<<29|K>>>3,qe=K<<29|V>>>3,ze=H<<28|W>>>4,Fe=W<<28|H>>>4,Ke=Z<<23|$>>>9,Ve=$<<23|Z>>>9,He=Y<<25|G>>>7,We=G<<25|Y>>>7,$e=J<<21|Q>>>11,Ze=Q<<21|J>>>11,Ye=ee<<24|X>>>8,Ge=X<<24|ee>>>8,Je=te<<27|re>>>5,Qe=re<<27|te>>>5,Xe=ne<<20|ie>>>12,et=ie<<20|ne>>>12,tt=oe<<7|se>>>25,rt=se<<7|oe>>>25,nt=ae<<8|ue>>>24,it=ue<<8|ae>>>24,st=ce<<14|le>>>18,ot=le<<14|ce>>>18;e[0]=he^~Me&Le,e[1]=fe^~Ee&Ne,e[10]=ze^~Xe&me,e[11]=Fe^~et&ge,e[20]=we^~Be&He,e[21]=ke^~Oe&We,e[30]=Je^~de&Se,e[31]=Qe^~pe&xe,e[40]=Ce^~Ke&tt,e[41]=Ie^~Ve&rt,e[2]=Me^~Le&$e,e[3]=Ee^~Ne&Ze,e[12]=Xe^~me&Re,e[13]=et^~ge&Ae,e[22]=Be^~He&nt,e[23]=Oe^~We&it,e[32]=de^~Se&Pe,e[33]=pe^~xe&Ue,e[42]=Ke^~tt&ye,e[43]=Ve^~rt&be,e[4]=Le^~$e&st,e[5]=Ne^~Ze&ot,e[14]=me^~Re&De,e[15]=ge^~Ae&qe,e[24]=He^~nt&ve,e[25]=We^~it&_e,e[34]=Se^~Pe&Ye,e[35]=xe^~Ue&Ge,e[44]=tt^~ye&Te,e[45]=rt^~be&je,e[6]=$e^~st&he,e[7]=Ze^~ot&fe,e[16]=Re^~De&ze,e[17]=Ae^~qe&Fe,e[26]=nt^~ve&we,e[27]=it^~_e&ke,e[36]=Pe^~Ye&Je,e[37]=Ue^~Ge&Qe,e[46]=ye^~Te&Ce,e[47]=be^~je&Ie,e[8]=st^~he&Me,e[9]=ot^~fe&Ee,e[18]=De^~ze&Xe,e[19]=qe^~Fe&et,e[28]=ve^~we&Be,e[29]=_e^~ke&Oe,e[38]=Ye^~Je&de,e[39]=Ge^~Qe&pe,e[48]=Te^~Ce&Ke,e[49]=je^~Ie&Ve,e[0]^=n[2*t],e[1]^=n[2*t+1]}}}}},{package:"keccak",file:"/Users/mac/code/metamask-extension/node_modules/web3-provider-engine/node_modules/keccak/lib/keccak-state-unroll.js"}],[3872,{inherits:2255,"safe-buffer":3577,stream:3698},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer,i=e("stream").Transform,s=e("inherits");t.exports=function(e){function t(t,r,n,s){i.call(this,s),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=s,this._state=new e,this._state.initialize(t,r),this._finalized=!1}return s(t,i),t.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},t.prototype._flush=function(){},t.prototype._read=function(e){this.push(this.squeeze(e))},t.prototype.update=function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this},t.prototype.squeeze=function(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var r=this._state.squeeze(e);return t!==undefined&&(r=r.toString(t)),r},t.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},t.prototype._clone=function(){var e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e},t}}}},{package:"keccak",file:"/Users/mac/code/metamask-extension/node_modules/web3-provider-engine/node_modules/keccak/lib/api/shake.js"}],[3871,{inherits:2255,"safe-buffer":3577,stream:3698},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer,i=e("stream").Transform,s=e("inherits");t.exports=function(e){function t(t,r,n,s,o){i.call(this,o),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=s,this._options=o,this._state=new e,this._state.initialize(t,r),this._finalized=!1}return s(t,i),t.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},t.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},t.prototype.update=function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this},t.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var t=this._state.squeeze(this._hashBitLength/8);return e!==undefined&&(t=t.toString(e)),this._resetState(),t},t.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},t.prototype._clone=function(){var e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e},t}}}},{package:"keccak",file:"/Users/mac/code/metamask-extension/node_modules/web3-provider-engine/node_modules/keccak/lib/api/keccak.js"}],[3848,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP 1474",message:"Invalid input."},"-32001":{standard:"EIP 1474",message:"Resource not found."},"-32002":{standard:"EIP 1474",message:"Resource unavailable."},"-32003":{standard:"EIP 1474",message:"Transaction rejected."},"-32004":{standard:"EIP 1474",message:"Method not supported."},"-32005":{standard:"EIP 1474",message:"Request limit exceeded."},4001:{standard:"EIP 1193",message:"User rejected the request."},4100:{standard:"EIP 1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP 1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP 1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP 1193",message:"The provider is disconnected from the specified chain."}}}}},{package:"eth-rpc-errors",file:"/Users/mac/code/metamask-extension/node_modules/web3-provider-engine/node_modules/eth-rpc-errors/src/errorValues.json"}],[3202,{"./errors":3203,util:1665},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("util"),i=t.exports=e("./errors");function s(e,t,r,i){r=r||"";var s=new e(n.format.apply(this,[r].concat(i)));throw Error.captureStackTrace(s,t),s}function o(e,t,r){s(i.IllegalArgumentError,e,t,r)}function a(e,t,r){s(i.IllegalStateError,e,t,r)}function u(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array"}return t}function c(e){return function(t,r){var n=u(t);if(n==e)return t;o(arguments.callee,r||'Expected "'+e+'" but got "'+n+'".',Array.prototype.slice.call(arguments,2))}}t.exports.checkArgument=function(e,t){e||o(arguments.callee,t,Array.prototype.slice.call(arguments,2))},t.exports.checkState=function(e,t){e||a(arguments.callee,t,Array.prototype.slice.call(arguments,2))},t.exports.checkIsDef=function(e,t){if(e!==undefined)return e;o(arguments.callee,t||"Expected value to be defined but was undefined.",Array.prototype.slice.call(arguments,2))},t.exports.checkIsDefAndNotNull=function(e,t){if(null!=e)return e;o(arguments.callee,t||'Expected value to be defined and not null but got "'+u(e)+'".',Array.prototype.slice.call(arguments,2))},t.exports.checkIsString=c("string"),t.exports.checkIsArray=c("array"),t.exports.checkIsNumber=c("number"),t.exports.checkIsBoolean=c("boolean"),t.exports.checkIsFunction=c("function"),t.exports.checkIsObject=c("object")}}},{package:"precond",file:"/Users/mac/code/metamask-extension/node_modules/precond/lib/checks.js"}],[1323,{"./getIterator":1321,"lodash/isArrayLike":2937,"lodash/keys":2947},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if((0,n.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t=(0,i.default)(e);return t?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(t):(r=e,o=(0,s.default)(r),a=-1,u=o.length,function(){var e=o[++a];return a<u?{value:r[e],key:e}:null});var r,o,a,u};var n=o(e("lodash/isArrayLike")),i=o(e("./getIterator")),s=o(e("lodash/keys"));function o(e){return e&&e.__esModule?e:{default:e}}t.exports=r.default}}},{package:"async",file:"/Users/mac/code/metamask-extension/node_modules/async/internal/iterator.js"}],[1322,{"./slice":1332},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return function(){var t=(0,s.default)(arguments),r=t.pop();e.call(this,t,r)}};var n,i=e("./slice"),s=(n=i)&&n.__esModule?n:{default:n};t.exports=r.default}}},{package:"async",file:"/Users/mac/code/metamask-extension/node_modules/async/internal/initialParams.js"}],[3854,{buffer:1658},function(){with(this)return function(){"use strict";return function(e,t,r){!function(t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof t?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:e("buffer").Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(e,l,e.length,t),l=0;l<o;l++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(o=(i=0|e.words[p])*(s=0|t.words[d])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!==(s=a>>>24-i&16777215)||o!==this.length-1?l[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],d=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(e);r=(p=p.idivn(d)).isZero()?m+r:l[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n(void 0!==o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===t,c=new e(s),l=this.clone();if(u){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,s,o=e.words,a=t.words,u=r.words,c=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],_=8191&v,w=v>>>13,k=0|o[4],M=8191&k,E=k>>>13,S=0|o[5],x=8191&S,R=S>>>13,A=0|o[6],T=8191&A,j=A>>>13,C=0|o[7],I=8191&C,B=C>>>13,O=0|o[8],L=8191&O,N=O>>>13,P=0|o[9],U=8191&P,D=P>>>13,q=0|a[0],z=8191&q,F=q>>>13,K=0|a[1],V=8191&K,H=K>>>13,W=0|a[2],$=8191&W,Z=W>>>13,Y=0|a[3],G=8191&Y,J=Y>>>13,Q=0|a[4],X=8191&Q,ee=Q>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,le=0|a[8],he=8191&le,fe=le>>>13,de=0|a[9],pe=8191&de,me=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(h,z))|0)+((8191&(i=(i=Math.imul(h,F))+Math.imul(f,z)|0))<<13)|0;c=((s=Math.imul(f,F))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(m,z)|0,s=Math.imul(m,F);var ye=(c+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,V)|0))<<13)|0;c=((s=s+Math.imul(f,H)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,z),i=(i=Math.imul(y,F))+Math.imul(b,z)|0,s=Math.imul(b,F),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,H)|0;var be=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,$)|0))<<13)|0;c=((s=s+Math.imul(f,Z)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,F))+Math.imul(w,z)|0,s=Math.imul(w,F),n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,H)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Z)|0;var ve=(c+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,G)|0))<<13)|0;c=((s=s+Math.imul(f,J)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(M,z),i=(i=Math.imul(M,F))+Math.imul(E,z)|0,s=Math.imul(E,F),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(w,V)|0,s=s+Math.imul(w,H)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(b,$)|0,s=s+Math.imul(b,Z)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,J)|0;var _e=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,X)|0))<<13)|0;c=((s=s+Math.imul(f,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(x,z),i=(i=Math.imul(x,F))+Math.imul(R,z)|0,s=Math.imul(R,F),n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,H)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,H)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,ee)|0;var we=(c+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(f,re)|0))<<13)|0;c=((s=s+Math.imul(f,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(T,z),i=(i=Math.imul(T,F))+Math.imul(j,z)|0,s=Math.imul(j,F),n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,H)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(E,$)|0,s=s+Math.imul(E,Z)|0,n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(w,G)|0,s=s+Math.imul(w,J)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,s=s+Math.imul(m,ne)|0;var ke=(c+(n=n+Math.imul(h,se)|0)|0)+((8191&(i=(i=i+Math.imul(h,oe)|0)+Math.imul(f,se)|0))<<13)|0;c=((s=s+Math.imul(f,oe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(I,z),i=(i=Math.imul(I,F))+Math.imul(B,z)|0,s=Math.imul(B,F),n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,H)|0)+Math.imul(j,V)|0,s=s+Math.imul(j,H)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,Z)|0,n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(E,G)|0,s=s+Math.imul(E,J)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0;var Me=(c+(n=n+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((s=s+Math.imul(f,ce)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,F))+Math.imul(N,z)|0,s=Math.imul(N,F),n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,H)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,H)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(j,$)|0,s=s+Math.imul(j,Z)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,J)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(E,X)|0,s=s+Math.imul(E,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,s=s+Math.imul(w,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,ce)|0;var Ee=(c+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((s=s+Math.imul(f,fe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,F))+Math.imul(D,z)|0,s=Math.imul(D,F),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,H)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(B,$)|0,s=s+Math.imul(B,Z)|0,n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(j,G)|0,s=s+Math.imul(j,J)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(E,re)|0,s=s+Math.imul(E,ne)|0,n=n+Math.imul(_,se)|0,i=(i=i+Math.imul(_,oe)|0)+Math.imul(w,se)|0,s=s+Math.imul(w,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(b,ue)|0,s=s+Math.imul(b,ce)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,he)|0,s=s+Math.imul(m,fe)|0;var Se=(c+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((s=s+Math.imul(f,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(U,V),i=(i=Math.imul(U,H))+Math.imul(D,V)|0,s=Math.imul(D,H),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,Z)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(B,G)|0,s=s+Math.imul(B,J)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(j,X)|0,s=s+Math.imul(j,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(R,re)|0,s=s+Math.imul(R,ne)|0,n=n+Math.imul(M,se)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(E,se)|0,s=s+Math.imul(E,oe)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,ce)|0)+Math.imul(w,ue)|0,s=s+Math.imul(w,ce)|0,n=n+Math.imul(y,he)|0,i=(i=i+Math.imul(y,fe)|0)+Math.imul(b,he)|0,s=s+Math.imul(b,fe)|0;var xe=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,Z))+Math.imul(D,$)|0,s=Math.imul(D,Z),n=n+Math.imul(L,G)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,J)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(j,re)|0,s=s+Math.imul(j,ne)|0,n=n+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(R,se)|0,s=s+Math.imul(R,oe)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(E,ue)|0,s=s+Math.imul(E,ce)|0,n=n+Math.imul(_,he)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(w,he)|0,s=s+Math.imul(w,fe)|0;var Re=(c+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((s=s+Math.imul(b,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(U,G),i=(i=Math.imul(U,J))+Math.imul(D,G)|0,s=Math.imul(D,J),n=n+Math.imul(L,X)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(B,re)|0,s=s+Math.imul(B,ne)|0,n=n+Math.imul(T,se)|0,i=(i=i+Math.imul(T,oe)|0)+Math.imul(j,se)|0,s=s+Math.imul(j,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(R,ue)|0,s=s+Math.imul(R,ce)|0,n=n+Math.imul(M,he)|0,i=(i=i+Math.imul(M,fe)|0)+Math.imul(E,he)|0,s=s+Math.imul(E,fe)|0;var Ae=(c+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,me)|0)+Math.imul(w,pe)|0))<<13)|0;c=((s=s+Math.imul(w,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,ee))+Math.imul(D,X)|0,s=Math.imul(D,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,n=n+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(j,ue)|0,s=s+Math.imul(j,ce)|0,n=n+Math.imul(x,he)|0,i=(i=i+Math.imul(x,fe)|0)+Math.imul(R,he)|0,s=s+Math.imul(R,fe)|0;var Te=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((s=s+Math.imul(E,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(D,re)|0,s=Math.imul(D,ne),n=n+Math.imul(L,se)|0,i=(i=i+Math.imul(L,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(B,ue)|0,s=s+Math.imul(B,ce)|0,n=n+Math.imul(T,he)|0,i=(i=i+Math.imul(T,fe)|0)+Math.imul(j,he)|0,s=s+Math.imul(j,fe)|0;var je=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((s=s+Math.imul(R,me)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(U,se),i=(i=Math.imul(U,oe))+Math.imul(D,se)|0,s=Math.imul(D,oe),n=n+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,ce)|0)+Math.imul(N,ue)|0,s=s+Math.imul(N,ce)|0,n=n+Math.imul(I,he)|0,i=(i=i+Math.imul(I,fe)|0)+Math.imul(B,he)|0,s=s+Math.imul(B,fe)|0;var Ce=(c+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(j,pe)|0))<<13)|0;c=((s=s+Math.imul(j,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,ue),i=(i=Math.imul(U,ce))+Math.imul(D,ue)|0,s=Math.imul(D,ce),n=n+Math.imul(L,he)|0,i=(i=i+Math.imul(L,fe)|0)+Math.imul(N,he)|0,s=s+Math.imul(N,fe)|0;var Ie=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(B,pe)|0))<<13)|0;c=((s=s+Math.imul(B,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(U,he),i=(i=Math.imul(U,fe))+Math.imul(D,he)|0,s=Math.imul(D,fe);var Be=(c+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((s=s+Math.imul(N,me)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Oe=(c+(n=Math.imul(U,pe))|0)+((8191&(i=(i=Math.imul(U,me))+Math.imul(D,pe)|0))<<13)|0;return c=((s=Math.imul(D,me))+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,u[0]=ge,u[1]=ye,u[2]=be,u[3]=ve,u[4]=_e,u[5]=we,u[6]=ke,u[7]=Me,u[8]=Ee,u[9]=Se,u[10]=xe,u[11]=Re,u[12]=Ae,u[13]=Te,u[14]=je,u[15]=Ce,u[16]=Ie,u[17]=Be,u[18]=Oe,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=d),s.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var l=s-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):m(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},g.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<o;d++){var p=r[l+d],m=n[l+d],g=r[l+d+o],y=n[l+d+o],b=h*g-f*y;y=h*y+f*g,g=b,r[l+d]=p+g,n[l+d]=m+y,r[l+d+o]=p-g,n[l+d+o]=m-y,d!==a&&(b=u*h-c*f,f=u*f+c*h,h=b)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),m(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<r;this.words[t]=u|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(u)):(r.isub(t),a.isub(i),u.isub(o))}return{a:a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new M(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){M.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip!==undefined?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(v,b),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,b),i(w,b),i(k,b),k.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return y[e]=t,t},M.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},M.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},M.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},M.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},M.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},M.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},M.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},M.prototype.isqr=function(e){return this.imul(e,e.clone())},M.prototype.sqr=function(e){return this.mul(e,e)},M.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},M.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},M.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},M.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},M.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new E(e)},i(E,M),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}}},{package:"bn.js",file:"/Users/mac/code/metamask-extension/node_modules/web3-provider-engine/node_modules/ethereumjs-abi/node_modules/bn.js/lib/bn.js"}],[3859,{"./account":3855,"./bytes":3856,"./constants":3857,"./hash":3858,"./object":3860,"./secp256k1v3-adapter":3861,"./signature":3864,"bn.js":3865,"ethjs-util":3867,rlp:3500},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.secp256k1=r.rlp=r.BN=void 0;var s=e("./secp256k1v3-adapter");r.secp256k1=s;var o=e("ethjs-util"),a=e("bn.js");r.BN=a;var u=e("rlp");r.rlp=u,Object.assign(r,o),i(e("./constants"),r),i(e("./account"),r),i(e("./hash"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./object"),r)}}},{package:"ethereumjs-util",file:"/Users/mac/code/metamask-extension/node_modules/web3-provider-engine/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/dist/index.js"}],[2557,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=s,s.strict=o,s.loose=a;var n=Object.prototype.toString,i={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function s(e){return o(e)||a(e)}function o(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function a(e){return i[n.call(e)]}}}},{package:"is-typedarray",file:"/Users/mac/code/metamask-extension/node_modules/is-typedarray/index.js"}],[2247,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n=global.MutationObserver||global.WebKitMutationObserver;r.test=function(){return n},r.install=function(e){var t=0,r=new n(e),i=global.document.createTextNode("");return r.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}}}},{package:"immediate",file:"/Users/mac/code/metamask-extension/node_modules/immediate/lib/mutation.js"}],[2246,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},r.install=function(e){var t=new global.MessageChannel;return t.port1.onmessage=e,function(){t.port2.postMessage(0)}}}}},{package:"immediate",file:"/Users/mac/code/metamask-extension/node_modules/immediate/lib/messageChannel.js"}],[2249,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},r.install=function(e){return function(){var t=global.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},global.document.documentElement.appendChild(t),e}}}}},{package:"immediate",file:"/Users/mac/code/metamask-extension/node_modules/immediate/lib/stateChange.js"}],[2250,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.test=function(){return!0},r.install=function(e){return function(){setTimeout(e,0)}}}}},{package:"immediate",file:"/Users/mac/code/metamask-extension/node_modules/immediate/lib/timeout.js"}],[2248,{_process:3204},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){r.test=function(){return void 0!==e&&!e.browser},r.install=function(t){return function(){e.nextTick(t)}}}).call(this)}).call(this,e("_process"))}}},{package:"immediate",file:"/Users/mac/code/metamask-extension/node_modules/immediate/lib/nextTick.js"}],[3100,{"abstract-leveldown":1243,inherits:2255},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("abstract-leveldown").AbstractIterator;function i(e){n.call(this,e),this._options=e,this._iterator=null,this._operations=[]}e("inherits")(i,n),i.prototype.setDb=function(e){var t=this._iterator=e.iterator(this._options);this._operations.forEach((function(e){t[e.method].apply(t,e.args)}))},i.prototype._operation=function(e,t){if(this._iterator)return this._iterator[e].apply(this._iterator,t);this._operations.push({method:e,args:t})},"next end".split(" ").forEach((function(e){i.prototype["_"+e]=function(){this._operation(e,arguments)}})),i.prototype.seek=function(){this._operation("seek",arguments)},t.exports=i}}},{package:"deferred-leveldown",file:"/Users/mac/code/metamask-extension/node_modules/orbit-db-keystore/node_modules/deferred-leveldown/deferred-iterator.js"}],[1922,{"./custom":1921},function(){with(this)return function(){"use strict";return function(e,t,r){var n=t.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];t.exports.errno={},t.exports.code={},n.forEach((function(e){t.exports.errno[e.errno]=e,t.exports.code[e.code]=e})),t.exports.custom=e("./custom")(t.exports),t.exports.create=t.exports.custom.createError}}},{package:"errno",file:"/Users/mac/code/metamask-extension/node_modules/errno/errno.js"}],[3121,{"./lib/_stream_duplex.js":3108,"./lib/_stream_passthrough.js":3109,"./lib/_stream_readable.js":3110,"./lib/_stream_transform.js":3111,"./lib/_stream_writable.js":3112,"./lib/internal/streams/end-of-stream.js":3116,"./lib/internal/streams/pipeline.js":3118},function(){with(this)return function(){"use strict";return function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/orbit-db-keystore/node_modules/readable-stream/readable-browser.js"}],[1329,{"./DoublyLinkedList":1312,"./onlyOnce":1327,"./setImmediate":1331,"./wrapAsync":1334,"lodash/_baseIndexOf":2839,"lodash/isArray":2936,"lodash/noop":2951},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var l=(0,c.default)(e),h=0,f=[],d=!1;function p(e,t,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(y.started=!0,(0,i.default)(e)||(e=[e]),0===e.length&&y.idle())return(0,a.default)((function(){y.drain()}));for(var n=0,o=e.length;n<o;n++){var u={data:e[n],callback:r||s.default};t?y._tasks.unshift(u):y._tasks.push(u)}d||(d=!0,(0,a.default)((function(){d=!1,y.process()})))}function m(e){return function(t){h-=1;for(var r=0,i=e.length;r<i;r++){var s=e[r],o=(0,n.default)(f,s,0);0===o?f.shift():o>0&&f.splice(o,1),s.callback.apply(s,arguments),null!=t&&y.error(t,s.data)}h<=y.concurrency-y.buffer&&y.unsaturated(),y.idle()&&y.drain(),y.process()}}var g=!1,y={_tasks:new u.default,concurrency:t,payload:r,saturated:s.default,unsaturated:s.default,buffer:t/4,empty:s.default,drain:s.default,error:s.default,started:!1,paused:!1,push:function(e,t){p(e,!1,t)},kill:function(){y.drain=s.default,y._tasks.empty()},unshift:function(e,t){p(e,!0,t)},remove:function(e){y._tasks.remove(e)},process:function(){if(!g){for(g=!0;!y.paused&&h<y.concurrency&&y._tasks.length;){var e=[],t=[],r=y._tasks.length;y.payload&&(r=Math.min(r,y.payload));for(var n=0;n<r;n++){var i=y._tasks.shift();e.push(i),f.push(i),t.push(i.data)}h+=1,0===y._tasks.length&&y.empty(),h===y.concurrency&&y.saturated();var s=(0,o.default)(m(e));l(t,s)}g=!1}},length:function(){return y._tasks.length},running:function(){return h},workersList:function(){return f},idle:function(){return y._tasks.length+h===0},pause:function(){y.paused=!0},resume:function(){!1!==y.paused&&(y.paused=!1,(0,a.default)(y.process))}};return y};var n=l(e("lodash/_baseIndexOf")),i=l(e("lodash/isArray")),s=l(e("lodash/noop")),o=l(e("./onlyOnce")),a=l(e("./setImmediate")),u=l(e("./DoublyLinkedList")),c=l(e("./wrapAsync"));function l(e){return e&&e.__esModule?e:{default:e}}t.exports=r.default}}},{package:"async",file:"/Users/mac/code/metamask-extension/node_modules/async/internal/queue.js"}],[1786,{"./keytransform":1784,"interface-datastore":2262},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("interface-datastore").Key,i=e("./keytransform");t.exports=class extends i{constructor(e,t){super(e,{convert:e=>t.child(e),invert(e){if("/"===t.toString())return e;if(!t.isAncestorOf(e))throw new Error(`Expected prefix: (${t.toString()}) in key: ${e.toString()}`);return new n(e.toString().slice(t.toString().length),!1)}}),this.prefix=t}query(e){return e.prefix&&"/"!==this.prefix.toString()?super.query(Object.assign({},e,{prefix:this.prefix.child(new n(e.prefix)).toString()})):super.query(e)}}}}},{package:"datastore-core",file:"/Users/mac/code/metamask-extension/node_modules/datastore-core/src/namespace.js"}],[1784,{"pull-stream":3261},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("pull-stream");t.exports=class{constructor(e,t){this.child=e,this.transform=t}open(e){this.child.open(e)}put(e,t,r){this.child.put(this.transform.convert(e),t,r)}get(e,t){this.child.get(this.transform.convert(e),t)}has(e,t){this.child.has(this.transform.convert(e),t)}delete(e,t){this.child.delete(this.transform.convert(e),t)}batch(){const e=this.child.batch();return{put:(t,r)=>{e.put(this.transform.convert(t),r)},delete:t=>{e.delete(this.transform.convert(t))},commit:t=>{e.commit(t)}}}query(e){return n(this.child.query(e),n.map((e=>(e.key=this.transform.invert(e.key),e))))}close(e){this.child.close(e)}}}}},{package:"datastore-core",file:"/Users/mac/code/metamask-extension/node_modules/datastore-core/src/keytransform.js"}],[1788,{"./shard-readme":1787,"interface-datastore":2262},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("interface-datastore").Key,i=e("./shard-readme"),s=r.PREFIX="/repo/flatfs/shard/",o=r.SHARDING_FN="SHARDING";r.README_FN="_README";class a{constructor(e){this.param=e}fun(e){throw new Error("implement me")}toString(){return`${s}v1/${this.name}/${this.param}`}}class u extends a{constructor(e){super(e),this._padding="".padStart(e,"_"),this.name="prefix"}fun(e){return(e+this._padding).slice(0,this.param)}}class c extends a{constructor(e){super(e),this._padding="".padStart(e,"_"),this.name="suffix"}fun(e){const t=this._padding+e;return t.slice(t.length-this.param)}}class l extends a{constructor(e){super(e),this._padding="".padStart(e+1,"_"),this.name="next-to-last"}fun(e){const t=this._padding+e,r=t.length-this.param-1;return t.slice(r,r+this.param)}}function h(e){if(0===(e=e.trim()).length)throw new Error("empty shard string");if(!e.startsWith(s))throw new Error(`invalid or no path prefix: ${e}`);const t=e.slice(s.length).split("/"),r=t[0];if("v1"!==r)throw new Error(`expect 'v1' version, got '${r}'`);const n=t[1];if(!t[2])throw new Error("missing param");const i=parseInt(t[2],10);switch(n){case"prefix":return new u(i);case"suffix":return new c(i);case"next-to-last":return new l(i);default:throw new Error(`unkown sharding function: ${n}`)}}r.readShardFun=(e,t,r)=>{const i=new n(e).child(new n(o));("function"==typeof t.getRaw?t.getRaw.bind(t):t.get.bind(t))(i,((e,t)=>{if(e)return r(e);let n;try{n=h((t||"").toString().trim())}catch(e){return r(e)}r(null,n)}))},r.readme=i,r.parseShardFun=h,r.Prefix=u,r.Suffix=c,r.NextToLast=l}}},{package:"datastore-core",file:"/Users/mac/code/metamask-extension/node_modules/datastore-core/src/shard.js"}],[1785,{"./keytransform":1784,"async/each":1304,"interface-datastore":2262,"pull-many":3244,"pull-stream":3261},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("async/each"),i=e("pull-many"),s=e("pull-stream"),o=e("interface-datastore").Key,a=e("interface-datastore").Errors,u=e("interface-datastore").utils,c=u.asyncFilter,l=u.asyncSort,h=u.replaceStartWith,f=e("./keytransform");t.exports=class{constructor(e){this.mounts=e.slice()}open(e){n(this.mounts,((e,t)=>{e.datastore.open(t)}),e)}_lookup(e){for(let t of this.mounts)if(t.prefix.toString()===e.toString()||t.prefix.isAncestorOf(e)){const r=h(e.toString(),t.prefix.toString());return{datastore:t.datastore,mountpoint:t.prefix,rest:new o(r)}}}put(e,t,r){const n=this._lookup(e);if(null==n)return r(a.dbWriteFailedError(new Error("No datastore mounted for this key")));n.datastore.put(n.rest,t,r)}get(e,t){const r=this._lookup(e);if(null==r)return t(a.notFoundError(new Error("No datastore mounted for this key")));r.datastore.get(r.rest,t)}has(e,t){const r=this._lookup(e);null!=r?r.datastore.has(r.rest,t):t(null,!1)}delete(e,t){const r=this._lookup(e);if(null==r)return t(a.dbDeleteFailedError(new Error("No datastore mounted for this key")));r.datastore.delete(r.rest,t)}close(e){n(this.mounts,((e,t)=>{e.datastore.close(t)}),e)}batch(){const e={},t=t=>{const r=this._lookup(t);if(null==r)throw new Error("No datastore mounted for this key");const n=r.mountpoint.toString();return null==e[n]&&(e[n]=r.datastore.batch()),{batch:e[n],rest:r.rest}};return{put:(e,r)=>{const n=t(e);n.batch.put(n.rest,r)},delete:e=>{const r=t(e);r.batch.delete(r.rest)},commit:t=>{n(Object.keys(e),((t,r)=>{e[t].commit(r)}),t)}}}query(e){const t=this.mounts.map((t=>{const r=new f(t.datastore,{convert:e=>{throw new Error("should never be called")},invert:e=>t.prefix.child(e)});let n;return null!=e.prefix&&(n=h(e.prefix,t.prefix.toString())),r.query({prefix:n,filters:e.filters,keysOnly:e.keysOnly})}));let r=[i(t)];if(null!=e.filters&&(r=r.concat(e.filters.map((e=>c(e))))),null!=e.orders&&(r=r.concat(e.orders.map((e=>l(e))))),null!=e.offset){let t=0;r.push(s.filter((()=>t++>=e.offset)))}return null!=e.limit&&r.push(s.take(e.limit)),s.apply(null,r)}}}}},{package:"datastore-core",file:"/Users/mac/code/metamask-extension/node_modules/datastore-core/src/mount.js"}],[1789,{"./keytransform":1784,"./shard":1788,"async/parallel":1339,"async/waterfall":1350,buffer:1659,"interface-datastore":2262},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("async/waterfall"),i=e("async/parallel"),s=e("interface-datastore").Key,o=e("./shard"),a=e("./keytransform"),u=new s(o.SHARDING_FN),c=new s(o.README_FN);class l{constructor(e,t){this.child=new a(e,{convert:this._convertKey.bind(this),invert:this._invertKey.bind(this)}),this.shard=t}open(e){this.child.open(e)}_convertKey(e){const t=e.toString();if(t===u.toString()||t===c.toString())return e;return new s(this.shard.fun(t)).child(e)}_invertKey(e){const t=e.toString();return t===u.toString()||t===c.toString()?e:s.withNamespaces(e.list().slice(1))}static createOrOpen(e,t,r){l.create(e,t,(t=>{if(t&&"datastore exists"!==t.message)return r(t);l.open(e,r)}))}static open(e,t){n([t=>o.readShardFun("/",e,t),(t,r)=>{r(null,new l(e,t))}],t)}static create(e,t,n){e.has(u,((s,a)=>{if(s)return n(s);if(!a){const s="function"==typeof e.putRaw?e.putRaw.bind(e):e.put.bind(e);return i([e=>s(u,r.from(t.toString()+"\n"),e),e=>s(c,r.from(o.readme),e)],(e=>n(e)))}o.readShardFun("/",e,((e,r)=>{if(e)return n(e);const i=(r||"").toString(),s=t.toString();if(i!==s)return n(new Error(`specified fun ${s} does not match repo shard fun ${i}`));n(new Error("datastore exists"))}))}))}put(e,t,r){this.child.put(e,t,r)}get(e,t){this.child.get(e,t)}has(e,t){this.child.has(e,t)}delete(e,t){this.child.delete(e,t)}batch(){return this.child.batch()}query(e){const t={keysOnly:e.keysOnly,offset:e.offset,limit:e.limit,filters:[(e,t)=>t(null,e.key.toString()!==u.toString()),(e,t)=>t(null,e.key.toString()!==c.toString())]};if(null!=e.prefix&&t.filters.push(((t,r)=>{r(null,this._invertKey(t.key).toString().startsWith(e.prefix))})),null!=e.filters){const r=e.filters.map((e=>(t,r)=>{e(Object.assign({},t,{key:this._invertKey(t.key)}),r)}));t.filters=t.filters.concat(r)}return null!=e.orders&&(t.orders=e.orders.map((e=>(t,r)=>{t.forEach((e=>{e.key=this._invertKey(e.key)})),e(t,((e,t)=>{if(e)return r(e);t.forEach((e=>{e.key=this._convertKey(e.key)})),r(null,t)}))}))),this.child.query(t)}close(e){this.child.close(e)}}t.exports=l}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"datastore-core",file:"/Users/mac/code/metamask-extension/node_modules/datastore-core/src/sharding.js"}],[1790,{"async/each":1304,"async/whilst":1351,"interface-datastore":2262},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("async/each"),i=e("async/whilst"),s=e("interface-datastore").Errors;t.exports=class{constructor(e){this.stores=e.slice()}open(e){n(this.stores,((e,t)=>{e.open(t)}),(t=>{if(t)return e(s.dbOpenFailedError());e()}))}put(e,t,r){n(this.stores,((r,n)=>{r.put(e,t,n)}),(e=>{if(e)return r(s.dbWriteFailedError());r()}))}get(e,t){const r=this.stores.length;let n=!1,o=0;i((()=>!n&&o<r),(t=>{this.stores[o++].get(e,((e,r)=>{if(null==e)return n=!0,t(null,r);t()}))}),((e,r)=>{if(e||!r)return t(s.notFoundError());t(null,r)}))}has(e,t){const r=this.stores.length;let n=!1,s=0;i((()=>!n&&s<r),(t=>{this.stores[s++].has(e,((e,r)=>{if(null==e)return n=!0,t(null,r);t()}))}),t)}delete(e,t){n(this.stores,((t,r)=>{t.delete(e,r)}),(e=>{if(e)return t(s.dbDeleteFailedError());t()}))}close(e){n(this.stores,((e,t)=>{e.close(t)}),e)}batch(){const e=this.stores.map((e=>e.batch()));return{put:(t,r)=>{e.forEach((e=>e.put(t,r)))},delete:t=>{e.forEach((e=>e.delete(t)))},commit:t=>{n(e,((e,t)=>{e.commit(t)}),t)}}}query(e){return this.stores[this.stores.length-1].query(e)}}}}},{package:"datastore-core",file:"/Users/mac/code/metamask-extension/node_modules/datastore-core/src/tiered.js"}],[1330,{"./filter":1319},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r,n){(0,s.default)(e,t,(function(e,t){r(e,(function(e,r){t(e,!r)}))}),n)};var n,i=e("./filter"),s=(n=i)&&n.__esModule?n:{default:n};t.exports=r.default}}},{package:"async",file:"/Users/mac/code/metamask-extension/node_modules/async/internal/reject.js"}],[1793,{"abstract-leveldown":1243,inherits:2255,"level-codec":2621,"level-errors":2623},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("abstract-leveldown").AbstractLevelDOWN,i=e("abstract-leveldown").AbstractChainedBatch,s=e("abstract-leveldown").AbstractIterator,o=e("inherits"),a=e("level-codec"),u=e("level-errors").EncodingError;function c(e,t){if(!(this instanceof c))return new c(e,t);n.call(this,""),void 0===(t=t||{}).keyEncoding&&(t.keyEncoding="utf8"),void 0===t.valueEncoding&&(t.valueEncoding="utf8"),this.db=e,this.codec=new a(t)}function l(e,t){s.call(this,e),this.codec=e.codec,this.keys=t.keys,this.values=t.values,this.opts=this.codec.encodeLtgt(t),this.it=e.db.iterator(this.opts)}function h(e,t){i.call(this,e),this.codec=e.codec,this.batch=e.db.batch()}t.exports=c.default=c,o(c,n),c.prototype._serializeKey=c.prototype._serializeValue=function(e){return e},c.prototype._open=function(e,t){this.db.open(e,t)},c.prototype._close=function(e){this.db.close(e)},c.prototype._put=function(e,t,r,n){e=this.codec.encodeKey(e,r),t=this.codec.encodeValue(t,r),this.db.put(e,t,r,n)},c.prototype._get=function(e,t,r){var n=this;e=this.codec.encodeKey(e,t),t.asBuffer=this.codec.valueAsBuffer(t),this.db.get(e,t,(function(e,i){if(e)return r(e);try{i=n.codec.decodeValue(i,t)}catch(e){return r(new u(e))}r(null,i)}))},c.prototype._del=function(e,t,r){e=this.codec.encodeKey(e,t),this.db.del(e,t,r)},c.prototype._chainedBatch=function(){return new h(this)},c.prototype._batch=function(e,t,r){e=this.codec.encodeBatch(e,t),this.db.batch(e,t,r)},c.prototype._iterator=function(e){return e.keyAsBuffer=this.codec.keyAsBuffer(e),e.valueAsBuffer=this.codec.valueAsBuffer(e),new l(this,e)},c.prototype.approximateSize=function(e,t,r,n){return e=this.codec.encodeKey(e,r),t=this.codec.encodeKey(t,r),this.db.approximateSize(e,t,r,n)},o(l,s),l.prototype._next=function(e){var t=this;this.it.next((function(r,n,i){if(r)return e(r);try{n=t.keys&&void 0!==n?t.codec.decodeKey(n,t.opts):undefined,i=t.values&&void 0!==i?t.codec.decodeValue(i,t.opts):undefined}catch(r){return e(new u(r))}e(null,n,i)}))},l.prototype._seek=function(e){e=this.codec.encodeKey(e,this.opts),this.it.seek(e)},l.prototype._end=function(e){this.it.end(e)},o(h,i),h.prototype._put=function(e,t){e=this.codec.encodeKey(e),t=this.codec.encodeValue(t),this.batch.put(e,t)},h.prototype._del=function(e){e=this.codec.encodeKey(e),this.batch.del(e)},h.prototype._clear=function(){this.batch.clear()},h.prototype._write=function(e,t){this.batch.write(e,t)}}}},{package:"encoding-down",file:"/Users/mac/code/metamask-extension/node_modules/datastore-level/node_modules/encoding-down/index.js"}],[1795,{"./iterator":1796,_process:3204,"abstract-leveldown":1800,buffer:1659,util:1665,xtend:3965},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r,n){(function(){t.exports=u;var i=e("abstract-leveldown").AbstractLevelDOWN,s=e("util"),o=e("./iterator"),a=e("xtend");function u(e){if(!(this instanceof u))return new u(e);i.call(this,e)}s.inherits(u,i),u.prototype._open=function(e,t){var r=this;if(this._idbOpts=a({storeName:this.location,keyEncoding:"none",valueEncoding:"none"},e),this._idbOpts.idb)i(this._idbOpts.idb);else{var n=indexedDB.open(this.location);n.onerror=function(e){t(e.target.error)},n.onsuccess=function(){i(n.result)}}function i(n){r._db=n;var i=r._db.objectStoreNames.contains(r._idbOpts.storeName);if(e.errorIfExists&&i)return r._db.close(),void t(new Error("store already exists"));if(!e.createIfMissing&&!i)return r._db.close(),void t(new Error("store does not exist"));if(e.createIfMissing&&!i){r._db.close();var s=indexedDB.open(r.location,r._db.version+1);return s.onerror=function(e){t(e.target.error)},s.onupgradeneeded=function(){s.result.createObjectStore(r._idbOpts.storeName,r._idbOpts)},void(s.onsuccess=function(){r._db=s.result,t(null,r)})}t(null,r)}},u.prototype._get=function(e,t,r){t=a(this._idbOpts,t);var i=e;"binary"!==t.keyEncoding||Array.isArray(e)||(e=Array.prototype.slice.call(e));var s=this._db.transaction(this._idbOpts.storeName),o=s.objectStore(this._idbOpts.storeName).openCursor(IDBKeyRange.only(e));s.onabort=function(){r(s.error)},o.onsuccess=function(){var e=o.result;if(e){var s=e.value;if(s instanceof Uint8Array&&(s=new n(s)),"binary"!==t.valueEncoding||n.isBuffer(s)||(s=new n(s)),t.asBuffer&&!n.isBuffer(s))if(null==s)s=new n(0);else if("string"==typeof s)s=new n(s);else if("boolean"==typeof s)s=new n(String(s));else if("number"==typeof s)s=new n(String(s));else if(Array.isArray(s))s=new n(String(s));else{if(!(s instanceof Uint8Array))return void r(new TypeError("can't coerce `"+s.constructor.name+"` into a Buffer"));s=new n(s)}r(null,s,i)}else r(new Error("NotFound"))}},u.prototype._del=function(e,t,r){"binary"!==(t=a(this._idbOpts,t)).keyEncoding||Array.isArray(e)||(e=Array.prototype.slice.call(e));var n="readwrite";!0===t.sync&&(n="readwriteflush");var i=this._db.transaction(this._idbOpts.storeName,n);i.objectStore(this._idbOpts.storeName).delete(e);i.onabort=function(){r(i.error)},i.oncomplete=function(){r()}},u.prototype._put=function(e,t,r,n){"binary"!==(r=a(this._idbOpts,r)).keyEncoding||Array.isArray(e)||(e=Array.prototype.slice.call(e));var i="readwrite";!0===r.sync&&(i="readwriteflush");var s=this._db.transaction(this._idbOpts.storeName,i);s.objectStore(this._idbOpts.storeName).put(t,e);s.onabort=function(){n(s.error)},s.oncomplete=function(){n()}},u.prototype._iterator=function(e){return new o(this,e)},u.prototype._batch=function(e,t,n){if(0===e.length)return r.nextTick(n);var i="readwrite";!0===t.sync&&(i="readwriteflush");var s=this._db.transaction(this._idbOpts.storeName,i),o=s.objectStore(this._idbOpts.storeName);s.onabort=function(){n(s.error)},s.oncomplete=function(){n()},e.forEach((function(e){"binary"!==a(t,e).keyEncoding||Array.isArray(e.key)||(e.key=Array.prototype.slice.call(e.key)),"del"===e.type?o.delete(e.key):o.put(e.value,e.key)}))},u.prototype._close=function(e){this._db.close(),r.nextTick(e)},u.prototype._approximateSize=function(e,t,n){var i=new Error("Not implemented");if(!n)throw i;r.nextTick((function(){n(i)}))},u.destroy=function(e,t){var r;if(null!=e&&"object"==typeof e)r=a({location:e.location,storeName:e.location},e._idbOpts);else{if("string"!=typeof e)throw new TypeError("location must be a string or an object");r={location:e,storeName:e}}if("string"!=typeof r.location)throw new TypeError("location must be a string");if("string"!=typeof r.storeName)throw new TypeError("db.storeName must be a string");var n=indexedDB.open(r.location);n.onerror=function(e){t(e.target.error)},n.onsuccess=function(){var e=n.result;function i(e){var r=indexedDB.deleteDatabase(e);r.onerror=function(e){t(e.target.error)},r.onsuccess=function(){t()}}if(e.close(),0!==e.objectStoreNames.length)if(e.objectStoreNames.contains(r.storeName)){var s=indexedDB.open(r.location,e.version+1);s.onerror=function(e){t(e.target.error)},s.onupgradeneeded=function(){(e=s.result).deleteObjectStore(r.storeName)},s.onsuccess=function(){(e=s.result).close(),0===e.objectStoreNames.length?i(r.location):t()}}else t();else i(r.location)}}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"level-js",file:"/Users/mac/code/metamask-extension/node_modules/datastore-level/node_modules/level-js/index.js"}],[1804,{"./batch":1802,"./common":1803,"./promisify":1805,_process:3204,assert:1270,"deferred-leveldown":1792,events:1660,"level-errors":2623,"level-iterator-stream":1794,util:1665,xtend:3965},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("events").EventEmitter,i=e("util").inherits,s=e("xtend"),o=e("deferred-leveldown"),a=e("level-iterator-stream"),u=e("./batch"),c=e("level-errors"),l=e("assert"),h=e("./promisify"),f=e("./common").getCallback,d=e("./common").getOptions,p=c.WriteError,m=c.ReadError,g=c.NotFoundError,y=c.OpenError,b=c.InitializationError;function v(e,t,i){if(!(this instanceof v))return new v(e,t,i);var s;if(n.call(this),this.setMaxListeners(Infinity),"function"==typeof t&&(i=t,t={}),t=t||{},!e||"object"!=typeof e){if(s=new b("First argument must be an abstract-leveldown compliant store"),"function"==typeof i)return r.nextTick(i,s);throw s}l.strictEqual(typeof e.status,"string",".status required, old abstract-leveldown"),this.options=d(t),this._db=e,this.db=new o(e),this.open(i)}function _(e,t){if(!e._isOpening()&&!e.isOpen())return r.nextTick(t,new m("Database is not open")),!0}v.prototype.emit=n.prototype.emit,v.prototype.once=n.prototype.once,i(v,n),v.prototype.open=function(e,t){var n,i=this;return"function"==typeof e&&(t=e,e=null),t||(n=(t=h()).promise),e||(e=this.options),this.isOpen()?(r.nextTick(t,null,i),n):this._isOpening()?(this.once("open",(function(){t(null,i)})),n):(this.emit("opening"),this.db.open(e,(function(e){if(e)return t(new y(e));i.db=i._db,t(null,i),i.emit("open"),i.emit("ready")})),n)},v.prototype.close=function(e){var t,n=this;return e||(t=(e=h()).promise),this.isOpen()?(this.db.close((function(){n.emit("closed"),e.apply(null,arguments)})),this.emit("closing"),this.db=new o(this._db)):this.isClosed()?r.nextTick(e):"closing"===this.db.status?this.once("closed",e):this._isOpening()&&this.once("open",(function(){n.close(e)})),t},v.prototype.isOpen=function(){return"open"===this.db.status},v.prototype._isOpening=function(){return"opening"===this.db.status},v.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},v.prototype.get=function(e,t,r){if(null===e||e===undefined)throw new m("get() requires a key argument");var n;return(r=f(t,r))||(n=(r=h()).promise),_(this,r)||(t=d(t),this.db.get(e,t,(function(t,n){if(t)return t=/notfound/i.test(t)||t.notFound?new g("Key not found in database ["+e+"]",t):new m(t),r(t);r(null,n)}))),n},v.prototype.put=function(e,t,r,n){if(null===e||e===undefined)throw new p("put() requires a key argument");var i,s=this;return(n=f(r,n))||(i=(n=h()).promise),_(this,n)||(r=d(r),this.db.put(e,t,r,(function(r){if(r)return n(new p(r));s.emit("put",e,t),n()}))),i},v.prototype.del=function(e,t,r){if(null===e||e===undefined)throw new p("del() requires a key argument");var n,i=this;return(r=f(t,r))||(n=(r=h()).promise),_(this,r)||(t=d(t),this.db.del(e,t,(function(t){if(t)return r(new p(t));i.emit("del",e),r()}))),n},v.prototype.batch=function(e,t,r){if(!arguments.length)return new u(this);if(!Array.isArray(e))throw new p("batch() requires an array argument");var n,i=this;return(r=f(t,r))||(n=(r=h()).promise),_(this,r)||(t=d(t),this.db.batch(e,t,(function(t){if(t)return r(new p(t));i.emit("batch",e),r()}))),n},v.prototype.iterator=function(e){return this.db.iterator(e)},v.prototype.readStream=v.prototype.createReadStream=function(e){return"number"!=typeof(e=s({keys:!0,values:!0},e)).limit&&(e.limit=-1),new a(this.db.iterator(e),e)},v.prototype.keyStream=v.prototype.createKeyStream=function(e){return this.createReadStream(s(e,{keys:!0,values:!1}))},v.prototype.valueStream=v.prototype.createValueStream=function(e){return this.createReadStream(s(e,{keys:!1,values:!0}))},v.prototype.toString=function(){return"LevelUP"},v.errors=c,t.exports=v.default=v}).call(this)}).call(this,e("_process"))}}},{package:"levelup",file:"/Users/mac/code/metamask-extension/node_modules/datastore-level/node_modules/levelup/lib/levelup.js"}],[2650,{"./blake":2648,"./crypto-sha1-2":2649,"./utils":2652,buffer:1659,"js-sha3":2568,murmurhash3js:3021},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("js-sha3"),i=e("murmurhash3js"),s=e("./utils"),o=e("./crypto-sha1-2"),a=s.toCallback,u=s.toBuf,c=s.fromString,l=s.fromNumberTo32BitBuf;t.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,128)),shake256:a(u(n.shake_256,256)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(l(c(i.x86.hash32))),addBlake:e("./blake"),dblSha2256:(e,t)=>{o.sha2256(e,((e,n)=>{e&&t(e),o.sha2256(r.from(n),t)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-crypto/node_modules/multihashing-async/src/crypto.js"}],[2667,{"./../util":2671,"asn1.js":1255},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("asn1.js"),i=e("./../util"),s=i.toBase64,o=i.toBn,a=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())})),u=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid({"1.2.840.113549.1.1.1":"rsa"}),this.key("none").optional().null_(),this.key("curve").optional().objid(),this.key("params").optional().seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()))})),c=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())})),l=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));r.pkcs1ToJwk=function(e){const t=a.decode(e,"der");return{kty:"RSA",n:s(t.modulus),e:s(t.publicExponent),d:s(t.privateExponent),p:s(t.prime1),q:s(t.prime2),dp:s(t.exponent1),dq:s(t.exponent2),qi:s(t.coefficient),alg:"RS256",kid:"2011-04-29"}},r.jwkToPkcs1=function(e){return a.encode({version:0,modulus:o(e.n),publicExponent:o(e.e),privateExponent:o(e.d),prime1:o(e.p),prime2:o(e.q),exponent1:o(e.dp),exponent2:o(e.dq),coefficient:o(e.qi)},"der")},r.pkixToJwk=function(e){const t=c.decode(e,"der"),r=l.decode(t.subjectPublicKey.data,"der");return{kty:"RSA",n:s(r.modulus),e:s(r.publicExponent),alg:"RS256",kid:"2011-04-29"}},r.jwkToPkix=function(e){return c.encode({algorithm:{algorithm:"rsa",none:null},subjectPublicKey:{data:l.encode({modulus:o(e.n),publicExponent:o(e.e)},"der")}},"der")}}}},{package:"libp2p-crypto",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-crypto/src/keys/rsa-utils.js"}],[3052,{"./forge":3033,"./md":3036,"./util":3055},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./md"),e("./util");var i=t.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){o||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),o=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(s,o){"utf8"===o&&(s=n.util.encodeUtf8(s));var u=s.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return t.putBytes(s),a(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var o=n.util.createBuffer();o.putBytes(t.bytes());var u,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;o.putBytes(s.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)l+=(u=8*i.fullMessageLength[h+1])/4294967296>>>0,o.putInt32(l>>>0),l=u>>>0;o.putInt32(l);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};a(f,r,o);var d=n.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d},i};var s=null,o=!1;function a(e,t,r){for(var n,i,s,o,a,u,c,l=r.length();l>=64;){for(i=e.h0,s=e.h1,o=e.h2,a=e.h3,u=e.h4,c=0;c<16;++c)n=r.getInt32(),t[c]=n,n=(i<<5|i>>>27)+(a^s&(o^a))+u+1518500249+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<20;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(i<<5|i>>>27)+(a^s&(o^a))+u+1518500249+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<32;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(i<<5|i>>>27)+(s^o^a)+u+1859775393+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<40;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(s^o^a)+u+1859775393+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<60;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(s&o|a&(s^o))+u+2400959708+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<80;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(s^o^a)+u+3395469782+n,u=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+o|0,e.h3=e.h3+a|0,e.h4=e.h4+u|0,l-=64}}}}},{package:"node-forge",file:"/Users/mac/code/metamask-extension/node_modules/node-forge/lib/sha1.js"}],[3047,{"./forge":3033,"./util":3055,_process:3204,crypto:1658},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("./forge");e("./util");var i=null;!n.util.isNodejs||n.options.usePureJavaScript||r.versions["node-webkit"]||(i=e("crypto")),(t.exports=n.prng=n.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,s=new Array(32),o=0;o<32;++o)s[o]=r.create();function a(){if(t.pools[0].messageLength>=32)return u();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),u()}function u(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var r=1,n=0;n<32;++n)t.reseeds%r==0&&(e.update(t.pools[n].digest().getBytes()),t.pools[n].start()),r<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var i=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(i),t.generated=0}function c(e){var t=null,r=n.util.globalScope,i=r.crypto||r.msCrypto;i&&i.getRandomValues&&(t=function(e){return i.getRandomValues(e)});var s=n.util.createBuffer();if(t)for(;s.length()<e;){var o=Math.max(1,Math.min(e-s.length(),65536)/4),a=new Uint32Array(Math.floor(o));try{t(a);for(var u=0;u<a.length;++u)s.putInt32(a[u])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(s.length()<e)for(var c,l,h,f=Math.floor(65536*Math.random());s.length()<e;){l=16807*(65535&f),l+=(32767&(c=16807*(f>>16)))<<16,f=4294967295&(l=(2147483647&(l+=c>>15))+(l>>31));for(u=0;u<3;++u)h=f>>>(u<<3),h^=Math.floor(256*Math.random()),s.putByte(String.fromCharCode(255&h))}return s.getBytes(e)}return t.pools=s,t.pool=0,t.generate=function(e,r){if(!r)return t.generateSync(e);var i=t.plugin.cipher,s=t.plugin.increment,o=t.plugin.formatKey,a=t.plugin.formatSeed,c=n.util.createBuffer();t.key=null,function l(h){if(h)return r(h);if(c.length()>=e)return r(null,c.getBytes(e));t.generated>1048575&&(t.key=null);if(null===t.key)return n.util.nextTick((function(){!function(e){if(t.pools[0].messageLength>=32)return u(),e();var r=32-t.pools[0].messageLength<<5;t.seedFile(r,(function(r,n){if(r)return e(r);t.collect(n),u(),e()}))}(l)}));var f=i(t.key,t.seed);t.generated+=f.length,c.putBytes(f),t.key=o(i(t.key,s(t.seed))),t.seed=a(i(t.key,t.seed)),n.util.setImmediate(l)}()},t.generateSync=function(e){var r=t.plugin.cipher,i=t.plugin.increment,s=t.plugin.formatKey,o=t.plugin.formatSeed;t.key=null;for(var u=n.util.createBuffer();u.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&a();var c=r(t.key,t.seed);t.generated+=c.length,u.putBytes(c),t.key=s(r(t.key,i(t.seed))),t.seed=o(r(t.key,t.seed))}return u.getBytes(e)},i?(t.seedFile=function(e,t){i.randomBytes(e,(function(e,r){if(e)return t(e);t(null,r.toString())}))},t.seedFileSync=function(e){return i.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,c(e))}catch(e){t(e)}},t.seedFileSync=c),t.collect=function(e){for(var r=e.length,n=0;n<r;++n)t.pools[t.pool].update(e.substr(n,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(e>>i&255);t.collect(n)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){self.addEventListener("message",(function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",(function(r){var n=r.data;n.forge&&n.forge.prng&&t.seedFile(n.forge.prng.needed,(function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})}))}))}},t}}).call(this)}).call(this,e("_process"))}}},{package:"node-forge",file:"/Users/mac/code/metamask-extension/node_modules/node-forge/lib/prng.js"}],[3053,{"./forge":3033,"./md":3036,"./util":3055},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./md"),e("./util");var i=t.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){o||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),64),a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,s=0;s<r;++s)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(s,o){"utf8"===o&&(s=n.util.encodeUtf8(s));var a=s.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=a[1],a[1]=a[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(s),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var o=n.util.createBuffer();o.putBytes(t.bytes());var a,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;o.putBytes(s.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)l+=(a=8*i.fullMessageLength[h+1])/4294967296>>>0,o.putInt32(l>>>0),l=a>>>0;o.putInt32(l);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(f,r,o);var d=n.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d.putInt32(f.h5),d.putInt32(f.h6),d.putInt32(f.h7),d},i};var s=null,o=!1,a=null;function u(e,t,r){for(var n,i,s,o,u,c,l,h,f,d,p,m,g,y=r.length();y>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=((n=t[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=t[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(c=e.h0,l=e.h1,h=e.h2,f=e.h3,d=e.h4,p=e.h5,m=e.h6,g=e.h7,u=0;u<64;++u)s=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),o=c&l|h&(c^l),n=g+((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(m^d&(p^m))+a[u]+t[u],g=m,m=p,p=d,d=f+n>>>0,f=h,h=l,l=c,c=n+(i=s+o)>>>0;e.h0=e.h0+c|0,e.h1=e.h1+l|0,e.h2=e.h2+h|0,e.h3=e.h3+f|0,e.h4=e.h4+d|0,e.h5=e.h5+p|0,e.h6=e.h6+m|0,e.h7=e.h7+g|0,y-=64}}}}},{package:"node-forge",file:"/Users/mac/code/metamask-extension/node_modules/node-forge/lib/sha256.js"}],[3030,{"./forge":3033,"./util":3055},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./util"),t.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},n.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},n.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),n.cipher.algorithms[e]=t},n.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[e]:null};var i=n.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};i.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=e.output||n.util.createBuffer(),this.mode.start(t)},i.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}}}},{package:"node-forge",file:"/Users/mac/code/metamask-extension/node_modules/node-forge/lib/cipher.js"}],[3031,{"./forge":3033,"./util":3055},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./util"),n.cipher=n.cipher||{};var i=t.exports=n.cipher.modes=n.cipher.modes||{};function s(e,t){if("string"==typeof e&&(e=n.util.createBuffer(e)),n.util.isArray(e)&&e.length>4){var r=e;e=n.util.createBuffer();for(var i=0;i<r.length;++i)e.putByte(r[i])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!n.util.isArray(e)){var s=[],o=t/4;for(i=0;i<o;++i)s.push(e.getInt32());e=s}return e}function o(e){e[e.length-1]=e[e.length-1]+1&4294967295}function a(e){return[e/4294967296|0,4294967295&e]}i.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(e){},i.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}o(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,r=n.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?n.util.createBuffer(e.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=n.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(a(8*i)))}this._inBlock=this._j0.slice(0),o(this._inBlock),this._partialBytes=0,t=n.util.createBuffer(t),this._aDataLength=a(8*t.length());var s=t.length()%this.blockSize;for(s&&t.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},i.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),o(this._inBlock)},i.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),o(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(a(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var s=[];this.cipher.encrypt(this._j0,s);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^s[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){e[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},i.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;n>0;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},i.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=e[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t},i.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},i.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),o=0;o<i;++o){var a=[0,0,0,0],u=(n-1-o%n)*t;a[o/n|0]=1<<t-1<<u,s[o]=this.generateSubHashTable(this.multiply(a,e),t)}return s},i.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var o=1;o<s;++o){var a=i[s],u=i[o];i[s+o]=[a[0]^u[0],a[1]^u[1],a[2]^u[2],a[3]^u[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var c=i[s^n];i[s]=[e[0]^c[0],e[1]^c[1],e[2]^c[2],e[3]^c[3]]}return i}}}},{package:"node-forge",file:"/Users/mac/code/metamask-extension/node_modules/node-forge/lib/cipherModes.js"}],[3216,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n=function(e,t){var r=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(r="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(r="");var n=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return n&&(n=" ["+n+"]"),t.push((r?r+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+n+";"),t},i=function(e,t){t.push("message "+e.name+" {"),e.enums||(e.enums=[]),e.enums.forEach((function(e){t.push(s(e,[]))})),e.messages||(e.messages=[]),e.messages.forEach((function(e){t.push(i(e,[]))}));var r={};return e.fields||(e.fields=[]),e.fields.forEach((function(e){e.oneof?(r[e.oneof]||(r[e.oneof]=[]),r[e.oneof].push(n(e,[]))):t.push(n(e,[]))})),Object.keys(r).forEach((function(e){r[e].unshift("oneof "+e+" {"),r[e].push("}"),t.push(r[e])})),t.push("}",""),t},s=function(e,t){t.push("enum "+e.name+" {"),e.options||(e.options={});var r=a(e.options,[]);return r.length>1&&t.push(r.slice(0,-1)),Object.keys(e.values).map((function(r){var n=o(e.values[r]);t.push([r+" = "+n+";"])})),t.push("}",""),t},o=function(e,t){var r=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return r&&(r=" ["+r+"]"),e.value+r},a=function(e,t){var r=Object.keys(e);return r.forEach((function(r){var n=e[r];~r.indexOf(".")&&(r="("+r+")");var i=typeof n;"object"===i?(n=u(n,[])).length&&t.push("option "+r+" = {",n,"};"):("string"===i&&"optimize_for"!==r&&(n='"'+n+'"'),t.push("option "+r+" = "+n+";"))})),r.length>0&&t.push(""),t},u=function(e,t){return Object.keys(e).forEach((function(r){var n=e[r],i=typeof n;"object"===i?Array.isArray(n)?n.forEach((function(e){(e=u(e,[])).length&&t.push(r+" {",e,"}")})):(n=u(n,[])).length&&t.push(r+" {",n,"}"):("string"===i&&(n='"'+n+'"'),t.push(r+": "+n))})),t},c=function(e,t){var r="rpc "+e.name+"(";e.client_streaming&&(r+="stream "),r+=e.input_type+") returns (",e.server_streaming&&(r+="stream "),r+=e.output_type+")",e.options||(e.options={});var n=a(e.options,[]);return n.length>1?t.push(r+" {",n.slice(0,-1),"}"):t.push(r+";"),t},l=function(e){return function(t){return Array.isArray(t)?t.map(l(e+"  ")).join("\n"):e+t}};t.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),a(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){s(e,t)})),e.messages||(e.messages=[]),e.messages.forEach((function(e){i(e,t)})),e.services&&e.services.forEach((function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),a(e.options,t),e.methods||(e.methods=[]),e.methods.forEach((function(e){t.push(c(e,[]))})),t.push("}","")}(e,t)})),t.map(l("")).join("\n")}}}},{package:"protocol-buffers-schema",file:"/Users/mac/code/metamask-extension/node_modules/protocol-buffers-schema/stringify.js"}],[3215,{"./tokenize":3217},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./tokenize"),i=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],s=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var r=e.shift();if("("===r&&(r=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[r]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},o=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var r=e.shift();t.required="required"===r,t.repeated="repeated"===r,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=s(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},a=function(e){for(var t={enums:[],messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(o(e));break;case"enum":t.enums.push(p(e));break;case"message":t.messages.push(l(e));break;case"extensions":t.extensions=c(e);break;case"oneof":e.shift();var r=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var n=o(e);n.oneof=r,t.fields.push(n)}e.shift();break;case"extend":t.extends.push(u(e));break;case";":e.shift();break;case"reserved":case"option":for(e.shift();";"!==e[0];)e.shift();break;default:e.unshift("optional"),t.fields.push(o(e))}return t},u=function(e){return{name:e[1],message:l(e)}},c=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var r=e.shift();if("max"===r&&(r=536870911),r=Number(r),isNaN(r))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:r}},l=function(e){e.shift();var t=1,r=[],n={name:e.shift(),enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),r=a(r),n.enums=r.enums,n.messages=r.messages,n.fields=r.fields,n.extends=r.extends,n.extensions=r.extensions,n;r.push(e.shift())}if(t)throw new Error("No closing tag for message")},h=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},f=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},d=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var r={value:null,options:{}};return r.value=Number(e.shift()),"["===e[0]&&(r.options=s(e)),e.shift(),{name:t,val:r}},p=function(e){e.shift();var t={},r={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),r;if("option"!==e[0]){var n=d(e);r.values[n.name]=n.val}else t=m(e),r.options[t.name]=t.value}throw new Error("No closing tag for enum")},m=function(e){for(var t=null,r=null,n=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:r};switch(e[0]){case"option":e.shift();var i="("===e[0];if(i&&e.shift(),t=e.shift(),i){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(t+=e.shift());break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(r=n(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error("Unexpected value for option optimize_for: "+r);"{"===r&&(r=g(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},g=function(e){for(var t=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},r={};e.length;){if("}"===e[0])return e.shift(),r;var n="("===e[0];n&&e.shift();var i=e.shift();if(n){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var s=null;switch(e[0]){case":":if(r[i]!==undefined)throw new Error("Duplicate option map key "+i);e.shift(),"{"===(s=t(e.shift()))&&(s=g(e)),r[i]=s,";"===e[0]&&e.shift();break;case"{":if(e.shift(),s=g(e),r[i]===undefined&&(r[i]=[]),!Array.isArray(r[i]))throw new Error("Duplicate option map key "+i);r[i].push(s);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},y=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},b=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var r=m(e);if(t.options[r.name]!==undefined)throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value;break;case"rpc":t.methods.push(v(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},v=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var r=m(e);if(t.options[r.name]!==undefined)throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value}throw new Error("No closing tag for rpc")};t.exports=function(e){for(var t=n(e.toString()),r=0;r<t.length;r++){var s;if(/^("|')([^'"]*)$/.test(t[r]))for(s=1===t[r].length?r+1:r;s<t.length;s++)if(/^([^'"]*)("|')$/.test(t[s])){t=t.slice(0,r).concat(t.slice(r,s+1).join("")).concat(t.slice(s+1));break}}for(var o={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},a=!0;t.length;){switch(t[0]){case"package":o.package=h(t);break;case"syntax":if(!a)throw new Error("Protobuf syntax version should be first thing in file");o.syntax=f(t);break;case"message":o.messages.push(l(t));break;case"enum":o.enums.push(p(t));break;case"option":var c=m(t);if(o.options[c.name])throw new Error("Duplicate option "+c.name);o.options[c.name]=c.value;break;case"import":o.imports.push(y(t));break;case"extend":o.extends.push(u(t));break;case"service":o.services||(o.services=[]),o.services.push(b(t));break;default:throw new Error("Unexpected token: "+t[0])}a=!1}return o.extends.forEach((function(e){o.messages.forEach((function(t){t.name===e.name&&e.message.fields.forEach((function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)}))}))})),o.messages.forEach((function(e){e.fields.forEach((function(t){var r,n,s,a;if(t.options&&"true"===t.options.packed&&-1===i.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some((function(e){return e.name===t.type})))return}else{if((r=t.type.split(".")).length>2)throw new Error("what is this?");if(n=r[0],s=r[1],o.messages.some((function(e){if(e.name===n)return a=e,e})),a&&a.enums&&a.enums.some((function(e){return e.name===s})))return}throw new Error("Fields of type "+t.type+" cannot be declared [packed=true]. "+"Only repeated fields of primitive numeric types (types which use "+'the varint, 32-bit, or 64-bit wire types) can be declared "packed". '+"See https://developers.google.com/protocol-buffers/docs/encoding#optional")}}))})),o}}}},{package:"protocol-buffers-schema",file:"/Users/mac/code/metamask-extension/node_modules/protocol-buffers-schema/parse.js"}],[3218,{"./utils":3223,varint:3833},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("varint"),i=e("./utils").defined;var s=function(e,t,r){switch(e){case 0:return n.decode(t,r),r+n.decode.bytes;case 1:return r+8;case 2:var i=n.decode(t,r);return r+n.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4;default:throw new Error("Unknown wire type: "+e)}},o=function(e,t){if(e.map)return{};if(e.repeated)return[];switch(e.type){case"string":return null!=t?t:"";case"bool":return"true"===t;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(t||0,10);default:return null}};t.exports=function(e,t,r){for(var a=[],u={},c=[],l=[],h=0;h<r.length;h++){var f=e.fields[h];u[f.tag]=h;var d=f.options&&f.options.default,p=t(f.type,e.id,!1);l[h]=[d,p&&p.values],e.fields[h].packed=f.repeated&&f.options&&f.options.packed&&"false"!==f.options.packed,f.required&&a.push(f.name),f.oneof&&c.push(f.name)}function m(e,t,r,i,s,o){var a=t.name;if(t.oneof)for(var u=Object.keys(r),l=0;l<u.length;l++)c.indexOf(u[l])>-1&&delete r[u[l]];if(e.message){var h=n.decode(i,s);s+=n.decode.bytes;var f=e.decode(i,s,s+h);t.map?(r[a]=r[a]||{},r[a][f.key]=f.value):t.repeated?(r[a]=r[a]||[],r[a].push(f)):r[a]=f}else t.repeated?(r[a]=r[a]||[],r[a].push(e.decode(i,s))):r[a]=e.decode(i,s);return s+=e.decode.bytes}return function t(h,f,d){if(null==f&&(f=0),null==d&&(d=h.length),!(d<=h.length&&f<=h.length))throw new Error("Decoded message is not valid");for(var p,g=f,y={};;){if(d<=f){var b,v,_="",w=0;for(w=0;w<a.length;w++)if(_=a[w],!i(y[_]))throw new Error("Decoded message is not valid, missing required field: "+_);for(w=0;w<r.length;w++)if(p=e.fields[w],v=l[w][0],b=l[w][1],_=p.name,!i(y[_])){var k=!1;if(p.oneof)for(var M=Object.keys(y),E=0;E<M.length;E++)if(c.indexOf(M[E])>-1){k=!0;break}k||(b?p.repeated?y[_]=[]:(v=v&&b[v]?b[v].value:b[Object.keys(b)[0]].value,y[_]=parseInt(v||0,10)):y[_]=o(p,v))}return t.bytes=f-g,y}var S=n.decode(h,f);f+=n.decode.bytes;var x=u[S>>3];if(null!=x){var R=r[x];if((p=e.fields[x]).packed){var A=n.decode(h,f);for(A+=f+=n.decode.bytes;f<A;)f=m(R,p,y,h,f)}else f=m(R,p,y,h,f)}else f=s(7&S,h,f)}}}}}},{package:"protons",file:"/Users/mac/code/metamask-extension/node_modules/protons/src/compile/decode.js"}],[3220,{"./utils":3223,varint:3833},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./utils").defined,i=e("varint");t.exports=function(e,t,r){for(var s=Object.keys(r),o=t.length,a=new Array(o),u=0;u<e.fields.length;u++){a[u]=i.encodingLength(e.fields[u].tag<<3|t[u].type);var c=e.fields[u];e.fields[u].packed=c.repeated&&c.options&&c.options.packed&&"false"!==c.options.packed}return function(u){var c=0,l=0,h=0;for(l=0;l<s.length;l++){var f=s[l],d=r[f],p=!1;for(h=0;h<d.length;h++)if(n(u[d[h]])){if(p)throw new Error("only one of the properties defined in oneof "+f+" can be set");p=!0}}for(l=0;l<o;l++){var m,g=t[l],y=e.fields[l],b=u[y.name],v=a[l];if(n(b)){if(y.map){var _=Object.keys(b);for(h=0;h<_.length;h++)_[h]={key:_[h],value:b[_[h]]};b=_}if(y.packed){var w=0;for(h=0;h<b.length;h++)n(b[h])&&(w+=m=g.encodingLength(b[h]),g.message&&(w+=i.encodingLength(m)));w&&(c+=v+w+i.encodingLength(w))}else if(y.repeated)for(h=0;h<b.length;h++)n(b[h])&&(c+=v+(m=g.encodingLength(b[h]))+(g.message?i.encodingLength(m):0));else c+=v+(m=g.encodingLength(b))+(g.message?i.encodingLength(m):0)}else if(y.required)throw new Error(y.name+" is required")}return c}}}}},{package:"protons",file:"/Users/mac/code/metamask-extension/node_modules/protons/src/compile/encoding-length.js"}],[3219,{"./utils":3223,buffer:1659,varint:3833},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("./utils").defined,i=e("varint");t.exports=function(e,t,s,o,a){for(var u=Object.keys(o),c=s.length,l={},h=0;h<c;h++){l[h]={p:i.encode(e.fields[h].tag<<3|2),h:i.encode(e.fields[h].tag<<3|s[h].type)};var f=e.fields[h];e.fields[h].packed=f.repeated&&f.options&&f.options.packed&&"false"!==f.options.packed}function d(e,t,r,n,s,o){var a=0;if(!s)for(a=0;a<r.length;a++)e[t++]=r[a];return n.message&&(i.encode(n.encodingLength(o),e,t),t+=i.encode.bytes),n.encode(o,e,t),t+n.encode.bytes}return function t(h,f,p){null==p&&(p=0),null==f&&(f=r.allocUnsafe(a(h)));var m=p,g=Object.keys(h),y=0,b=!1;for(y=0;y<u.length;y++){var v=u[y],_=o[y];if(g.indexOf(_)>-1){if(b)throw new Error("only one of the properties defined in oneof "+v+" can be set");b=!0}}for(y=0;y<c;y++){var w=s[y],k=e.fields[y],M=h[k.name],E=0;if(n(M)){var S,x=l[y].p,R=l[y].h,A=k.packed;if(k.map){var T=Object.keys(M);for(E=0;E<T.length;E++)T[E]={key:T[E],value:M[T[E]]};M=T}if(A){var j=0;for(E=0;E<M.length;E++)n(M[E])&&(j+=w.encodingLength(M[E]));if(j){for(E=0;E<R.length;E++)f[p++]=x[E];i.encode(j,f,p),p+=i.encode.bytes}}if(k.repeated)for(E=0;E<M.length;E++)S=M[E],n(S)&&(p=d(f,p,R,w,A,S));else p=d(f,p,R,w,A,M)}else if(k.required)throw new Error(k.name+" is required")}return t.bytes=p-m,f}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"protons",file:"/Users/mac/code/metamask-extension/node_modules/protons/src/compile/encode.js"}],[3221,{"safe-buffer":3577,"signed-varint":3627,varint:3833},function(){with(this)return function(){"use strict";return function(e,t,r){var n,i,s,o=e("varint"),a=e("signed-varint"),u=e("safe-buffer").Buffer,c=function(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}};r.make=c,r.bytes=(n=function(e){return u.isBuffer(e)?e.length:u.byteLength(e)},c(2,i=function(e,t,r){var s=r,a=n(e);return o.encode(a,t,r),r+=o.encode.bytes,u.isBuffer(e)?e.copy(t,r):t.write(e,r,a),r+=a,i.bytes=r-s,t},s=function(e,t){var r=t,n=o.decode(e,t);t+=o.decode.bytes;var i=e.slice(t,t+n);return t+=i.length,s.bytes=t-r,i},(function(e){var t=n(e);return o.encodingLength(t)+t}))),r.string=function(){var e=function(t,r,n){var i=n,s=u.byteLength(t);return o.encode(s,r,n,"utf-8"),n+=o.encode.bytes,r.write(t,n,s),n+=s,e.bytes=n-i,r},t=function(e,r){var n=r,i=o.decode(e,r);r+=o.decode.bytes;var s=e.toString("utf-8",r,r+i);return r+=i,t.bytes=r-n,s};return c(2,e,t,(function(e){var t=u.byteLength(e);return o.encodingLength(t)+t}))}(),r.bool=function(){var e=function(t,r,n){return r[n]=t?1:0,e.bytes=1,r},t=function(e,r){var n=e[r]>0;return t.bytes=1,n};return c(0,e,t,(function(e){return 1}))}(),r.int32=function(){var e=function(t,r){var n=o.decode(t,r);return e.bytes=o.decode.bytes,n>2147483647?n-4294967296:n};return c(0,o.encode,e,(function(e){return o.encodingLength(e<0?e+4294967296:e)}))}(),r.int64=function(){var e=function(t,r){var n=o.decode(t,r);if(n>=Math.pow(2,63)){for(var i=9;255===t[r+i-1];)i--;i=i||9;var s=u.allocUnsafe(i);t.copy(s,0,r,r+i),s[i-1]=127&s[i-1],n=-1*o.decode(s,0),e.bytes=10}else e.bytes=o.decode.bytes;return n},t=function(e,r,n){if(e<0){var i=n+9;for(o.encode(-1*e,r,n),r[n+=o.encode.bytes-1]=128|r[n];n<i-1;)r[++n]=255;r[i]=1,t.bytes=10}else o.encode(e,r,n),t.bytes=o.encode.bytes;return r};return c(0,t,e,(function(e){return e<0?10:o.encodingLength(e)}))}(),r.sint32=r.sint64=c(0,a.encode,a.decode,a.encodingLength),r.uint32=r.uint64=r.enum=r.varint=c(0,o.encode,o.decode,o.encodingLength),r.fixed64=r.sfixed64=function(){var e=function(t,r,n){return t.copy(r,n),e.bytes=8,r},t=function(e,r){var n=e.slice(r,r+8);return t.bytes=8,n};return c(1,e,t,(function(e){return 8}))}(),r.double=function(){var e=function(t,r,n){return r.writeDoubleLE(t,n),e.bytes=8,r},t=function(e,r){var n=e.readDoubleLE(r);return t.bytes=8,n};return c(1,e,t,(function(e){return 8}))}(),r.fixed32=function(){var e=function(t,r,n){return r.writeUInt32LE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readUInt32LE(r);return t.bytes=4,n};return c(5,e,t,(function(e){return 4}))}(),r.sfixed32=function(){var e=function(t,r,n){return r.writeInt32LE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readInt32LE(r);return t.bytes=4,n};return c(5,e,t,(function(e){return 4}))}(),r.float=function(){var e=function(t,r,n){return r.writeFloatLE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readFloatLE(r);return t.bytes=4,n};return c(5,e,t,(function(e){return 4}))}()}}},{package:"protons",file:"/Users/mac/code/metamask-extension/node_modules/protons/src/compile/encodings.js"}],[2671,{"asn1.js":1255,buffer:1659},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){const n=e("asn1.js").bignum;r.toBase64=function(e,r){return e.toArrayLike(t,"be",r).toString("base64").replace(/(=*)$/,"").replace(/\+/g,"-").replace(/\//g,"_")},r.toBn=function(e){return new n(t.from(e,"base64"))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-crypto",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-crypto/src/util.js"}],[1255,{"./asn1/api":1256,"./asn1/base":1258,"./asn1/constants":1262,"./asn1/decoders":1264,"./asn1/encoders":1267,"bn.js":1614},function(){with(this)return function(){"use strict";return function(e,t,r){const n=r;n.bignum=e("bn.js"),n.define=e("./asn1/api").define,n.base=e("./asn1/base"),n.constants=e("./asn1/constants"),n.decoders=e("./asn1/decoders"),n.encoders=e("./asn1/encoders")}}},{package:"asn1.js",file:"/Users/mac/code/metamask-extension/node_modules/asn1.js/lib/asn1.js"}],[2643,{"./blake":2641,"./crypto-sha1-2":2642,"./utils":2645,buffer:1659,"js-sha3":2568,murmurhash3js:3021},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("js-sha3"),i=e("murmurhash3js"),s=e("./utils"),o=e("./crypto-sha1-2"),a=s.toCallback,u=s.toBuf,c=s.fromString,l=s.fromNumberTo32BitBuf;t.exports={sha1:o.sha1,sha2256:o.sha2256,sha2512:o.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,128)),shake256:a(u(n.shake_256,256)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(l(c(i.x86.hash32))),addBlake:e("./blake"),dblSha2256:(e,t)=>{o.sha2256(e,((e,n)=>{e&&t(e),o.sha2256(r.from(n),t)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/node_modules/multihashing-async/src/crypto.js"}],[3594,{"./lib":3598,"./lib/js":3604},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("./lib")(e("./lib/js"))}}},{package:"secp256k1",file:"/Users/mac/code/metamask-extension/node_modules/secp256k1/js.js"}],[2541,{},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e,t){this.value=e,this.next=t}t.exports=n,n.prototype.contains=function(e){for(var t=this;t;){if(t.value===e)return!0;t=t.next}return!1}}}},{package:"is-circular",file:"/Users/mac/code/metamask-extension/node_modules/is-circular/lib/node.js"}],[3005,{buffer:1659},function(){with(this)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer"),i=self.crypto||self.msCrypto;t.exports=e=>{if("undefined"==typeof self||!self.crypto&&!self.msCrypto)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return async t=>{switch(e){case"sha1":return n.from(await i.subtle.digest({name:"SHA-1"},t));case"sha2-256":return n.from(await i.subtle.digest({name:"SHA-256"},t));case"sha2-512":return n.from(await i.subtle.digest({name:"SHA-512"},t));case"dbl-sha2-256":{const e=await i.subtle.digest({name:"SHA-256"},t);return n.from(await i.subtle.digest({name:"SHA-256"},e))}default:throw new Error(`${e} is not a supported algorithm`)}}}}}},{package:"multihashing-async",file:"/Users/mac/code/metamask-extension/node_modules/multihashing-async/src/sha.browser.js"}],[3006,{buffer:1659},function(){with(this)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer");t.exports={fromNumberTo32BitBuf:e=>{const t=new Array(4);for(let r=0;r<4;r++)t[r]=255&e,e>>=8;return n.from(t)}}}}},{package:"multihashing-async",file:"/Users/mac/code/metamask-extension/node_modules/multihashing-async/src/utils.js"}],[3002,{blakejs:1611,buffer:1659},function(){with(this)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer"),i=e("blakejs"),s={init:i.blake2bInit,update:i.blake2bUpdate,digest:i.blake2bFinal},o={init:i.blake2sInit,update:i.blake2sUpdate,digest:i.blake2sFinal},a=(e,t)=>async r=>{const i=t.init(e,null);return t.update(i,r),n.from(t.digest(i))};t.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,s);for(let t=0;t<32;t++)e[45633+t]=a(t+1,o)}}}},{package:"multihashing-async",file:"/Users/mac/code/metamask-extension/node_modules/multihashing-async/src/blake.js"}],[3019,{"./lib/murmurHash3js":3020},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("./lib/murmurHash3js")}}},{package:"murmurhash3js-revisited",file:"/Users/mac/code/metamask-extension/node_modules/murmurhash3js-revisited/index.js"}],[2525,{"../util":2529,"./../dag-link":2517,buffer:1659},function(){with(this)return function(){"use strict";return function(e,t,r){(function(n){(function(){const i=e("./../dag-link"),{cid:s,serialize:o}=e("../util");(r=t.exports).cloneData=function(e){let t;return e.Data&&e.Data.length>0?(t=n.alloc(e.Data.length),e.Data.copy(t)):t=n.alloc(0),t},r.cloneLinks=function(e){return e.Links.slice()},r.linkSort=function(e,t){return n.compare(e.nameAsBuffer,t.nameAsBuffer)},r.toDAGLink=async(e,t={})=>{const r=o(e),n=await s(r);return new i(t.name||"",r.length,n)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipld-dag-pb",file:"/Users/mac/code/metamask-extension/node_modules/ipld-dag-pb/src/dag-node/util.js"}],[3685,{},function(){with(this)return function(){"use strict";return function(e,t,r){
//! stable.js 0.1.8, https://github.com/Two-Screen/stable
//!  2018 Angry Bytes and contributors. MIT licensed.
!function(e,n){"object"==typeof r&&void 0!==t?t.exports=n():"function"==typeof define&&define.amd?define(n):e.stable=n()}(this,(function(){var e=function(e,r){return t(e.slice(),r)};function t(e,t){"function"!=typeof t&&(t=function(e,t){return String(e).localeCompare(t)});var n=e.length;if(n<=1)return e;for(var i=new Array(n),s=1;s<n;s*=2){r(e,t,s,i);var o=e;e=i,i=o}return e}e.inplace=function(e,n){var i=t(e,n);return i!==e&&r(i,null,e.length,e),e};var r=function(e,t,r,n){var i,s,o,a,u,c=e.length,l=0,h=2*r;for(i=0;i<c;i+=h)for(o=(s=i+r)+r,s>c&&(s=c),o>c&&(o=c),a=i,u=s;;)if(a<s&&u<o)t(e[a],e[u])<=0?n[l++]=e[a++]:n[l++]=e[u++];else if(a<s)n[l++]=e[a++];else{if(!(u<o))break;n[l++]=e[u++]}};return e}))}}},{package:"stable",file:"/Users/mac/code/metamask-extension/node_modules/stable/stable.js"}],[2267,{},function(){with(this)return function(){"use strict";return function(e,t,r){const n="(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}",i="[0-9a-fA-F]{1,4}",s=`\n(\n(?:${i}:){7}(?:${i}|:)|                                // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${i}:){6}(?:${n}|:${i}|:)|                         // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${i}:){5}(?::${n}|(:${i}){1,2}|:)|                 // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${i}:){4}(?:(:${i}){0,1}:${n}|(:${i}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${i}:){3}(?:(:${i}){0,2}:${n}|(:${i}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${i}:){2}(?:(:${i}){0,3}:${n}|(:${i}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${i}:){1}(?:(:${i}){0,4}:${n}|(:${i}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::((?::${i}){0,5}:${n}|(?::${i}){1,7}|:))           // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(%[0-9a-zA-Z]{1,})?                                           // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=t.exports=e=>e&&e.exact?new RegExp(`(?:^${n}$)|(?:^${s}$)`):new RegExp(`(?:${n})|(?:${s})`,"g");o.v4=e=>e&&e.exact?new RegExp(`^${n}$`):new RegExp(n,"g"),o.v6=e=>e&&e.exact?new RegExp(`^${s}$`):new RegExp(s,"g")}}},{package:"ip-regex",file:"/Users/mac/code/metamask-extension/node_modules/ip-regex/index.js"}],[1610,{"./util":1612},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./util");function i(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function s(e,t,r,n,i,s){c[e]=c[e]+c[t]+i,c[n]=o(c[n]^c[e],16),c[r]=c[r]+c[n],c[t]=o(c[t]^c[r],12),c[e]=c[e]+c[t]+s,c[n]=o(c[n]^c[e],8),c[r]=c[r]+c[n],c[t]=o(c[t]^c[r],7)}function o(e,t){return e>>>t^e<<32-t}var a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),l=new Uint32Array(16);function h(e,t){var r=0;for(r=0;r<8;r++)c[r]=e.h[r],c[r+8]=a[r];for(c[12]^=e.t,c[13]^=e.t/4294967296,t&&(c[14]=~c[14]),r=0;r<16;r++)l[r]=i(e.b,4*r);for(r=0;r<10;r++)s(0,4,8,12,l[u[16*r+0]],l[u[16*r+1]]),s(1,5,9,13,l[u[16*r+2]],l[u[16*r+3]]),s(2,6,10,14,l[u[16*r+4]],l[u[16*r+5]]),s(3,7,11,15,l[u[16*r+6]],l[u[16*r+7]]),s(0,5,10,15,l[u[16*r+8]],l[u[16*r+9]]),s(1,6,11,12,l[u[16*r+10]],l[u[16*r+11]]),s(2,7,8,13,l[u[16*r+12]],l[u[16*r+13]]),s(3,4,9,14,l[u[16*r+14]],l[u[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=c[r]^c[r+8]}function f(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");var r=t?t.length:0;if(t&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");var n={h:new Uint32Array(a),b:new Uint32Array(64),c:0,t:0,outlen:e};return n.h[0]^=16842752^r<<8^e,r>0&&(d(n,t),n.c=64),n}function d(e,t){for(var r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[r]}function p(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;h(e,!0);for(var t=new Uint8Array(e.outlen),r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function m(e,t,r){r=r||32,e=n.normalizeInput(e);var i=f(r,t);return d(i,e),p(i)}t.exports={blake2s:m,blake2sHex:function(e,t,r){var i=m(e,t,r);return n.toHex(i)},blake2sInit:f,blake2sUpdate:d,blake2sFinal:p}}}},{package:"blakejs",file:"/Users/mac/code/metamask-extension/node_modules/blakejs/blake2s.js"}],[1609,{"./util":1612},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./util");function i(e,t,r){var n=e[t]+e[r],i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}function s(e,t,r,n){var i=e[t]+r;r<0&&(i+=4294967296);var s=e[t+1]+n;i>=4294967296&&s++,e[t]=i,e[t+1]=s}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,r,n,o,a){var u=h[o],c=h[o+1],f=h[a],d=h[a+1];i(l,e,t),s(l,e,u,c);var p=l[n]^l[e],m=l[n+1]^l[e+1];l[n]=m,l[n+1]=p,i(l,r,n),p=l[t]^l[r],m=l[t+1]^l[r+1],l[t]=p>>>24^m<<8,l[t+1]=m>>>24^p<<8,i(l,e,t),s(l,e,f,d),p=l[n]^l[e],m=l[n+1]^l[e+1],l[n]=p>>>16^m<<16,l[n+1]=m>>>16^p<<16,i(l,r,n),p=l[t]^l[r],m=l[t+1]^l[r+1],l[t]=m>>>31^p<<1,l[t+1]=p>>>31^m<<1}var u=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),l=new Uint32Array(32),h=new Uint32Array(32);function f(e,t){var r=0;for(r=0;r<16;r++)l[r]=e.h[r],l[r+16]=u[r];for(l[24]=l[24]^e.t,l[25]=l[25]^e.t/4294967296,t&&(l[28]=~l[28],l[29]=~l[29]),r=0;r<32;r++)h[r]=o(e.b,4*r);for(r=0;r<12;r++)a(0,8,16,24,c[16*r+0],c[16*r+1]),a(2,10,18,26,c[16*r+2],c[16*r+3]),a(4,12,20,28,c[16*r+4],c[16*r+5]),a(6,14,22,30,c[16*r+6],c[16*r+7]),a(0,10,20,30,c[16*r+8],c[16*r+9]),a(2,12,22,24,c[16*r+10],c[16*r+11]),a(4,14,16,26,c[16*r+12],c[16*r+13]),a(6,8,18,28,c[16*r+14],c[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^l[r]^l[r+16]}function d(e,t){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e},n=0;n<16;n++)r.h[n]=u[n];var i=t?t.length:0;return r.h[0]^=16842752^i<<8^e,t&&(p(r,t),r.c=128),r}function p(e,t){for(var r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,f(e,!1),e.c=0),e.b[e.c++]=t[r]}function m(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;f(e,!0);for(var t=new Uint8Array(e.outlen),r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function g(e,t,r){r=r||64,e=n.normalizeInput(e);var i=d(r,t);return p(i,e),m(i)}t.exports={blake2b:g,blake2bHex:function(e,t,r){var i=g(e,t,r);return n.toHex(i)},blake2bInit:d,blake2bUpdate:p,blake2bFinal:m}}}},{package:"blakejs",file:"/Users/mac/code/metamask-extension/node_modules/blakejs/blake2b.js"}],[2551,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){return e&&"function"==typeof e.then}}}},{package:"is-promise",file:"/Users/mac/code/metamask-extension/node_modules/is-promise/index.js"}],[3207,{_process:3204,"is-promise":2551},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n,i=e("is-promise");n="function"==typeof setImediate?setImediate:"object"==typeof r&&r&&r.nextTick?r.nextTick:function(e){setTimeout(e,0)};var s=[];function o(e){if(!(this instanceof o))return"function"==typeof e?new o(e):(r=new o((function(e){t=e})),{resolver:t,promise:r});var t,r,a,u=!1,c=!1,l=[],h=!1;function f(e){l.length?(h=!0,l.shift()(e||!1)):h=!1}this.then=function(e,t){return new o((function(r){l.push((function(i){var s=c?e:t;if("function"==typeof s){function e(){var e;try{e=s(a)}catch(e){return r.reject(e),f()}r.fulfill(e),f(!0)}i?e():n(e)}else c?(r.fulfill(a),f(i)):(r.reject(a),f(i))})),u&&!h&&f()}))},function(){function t(e){u||(u=!0,c=!1,a=e,f())}for(var r={fulfill:function e(r){u||(i(r)?r.then(e,t):(u=c=!0,a=r,f()))},reject:t},n=0;n<s.length;n++)s[n](this,r);if("function"==typeof e)try{e(r)}catch(e){r.reject(e)}}()}t.exports=o,o.use=function(e){s.push(e)}}).call(this)}).call(this,e("_process"))}}},{package:"promise",file:"/Users/mac/code/metamask-extension/node_modules/promise/index.js"}],[3266,{"../util/prop":3290,"./drain":3265},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e){return e}var i=e("../util/prop"),s=e("./drain");t.exports=function(e,t){var r=!1;return t?e=i(e)||n:(t=e,e=n),s((function(n){if(e(n))return r=!0,t(null,n),!1}),(function(e){r||t(!0===e?null:e,null)}))}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/sinks/find.js"}],[3269,{"./drain":3265},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./drain");t.exports=function(e){return n(null,e)}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/sinks/on-end.js"}],[3264,{"./reduce":3270},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./reduce");t.exports=function(e){return n((function(e,t){return e+t}),"",e)}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/sinks/concat.js"}],[3268,{"./drain":3265},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./drain");t.exports=function(e){return n((function(e){console.log(e)}),e)}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/sinks/log.js"}],[3271,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t=0;return e=e||Infinity,function(r,n){return r?n&&n(r):t>e?n(!0):void n(null,t++)}}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/sources/count.js"}],[3275,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){return e=e||Math.random,function(t,r){return t?r&&r(t):r(null,e())}}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/sources/infinite.js"}],[3273,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){return function(t,r){r(e)}}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/sources/error.js"}],[3272,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){return function(e,t){t(!0)}}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/sources/empty.js"}],[3276,{"./values":3278},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./values");t.exports=function(e){return n(Object.keys(e))}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/sources/keys.js"}],[3287,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){var r=!1;function n(e){!r&&t&&(r=!0,t(!0===e?null:e))}return function(t){return function(r,i){return r&&n(r),t(r,(function(t,r){t?n(t):e&&e(r),i(t,r)}))}}}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/throughs/through.js"}],[3286,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){var r=(t=t||{}).last||!1,n=!1;if("number"==typeof e){r=!0;var i=e;e=function(){return--i}}return function(t){function i(e){t(!0,(function(t){r=!1,e(t||!0)}))}return function(s,o){n&&!s?r?i(o):o(n):(n=s)?t(n,o):t(null,(function(t,s){(n=n||t)?o(n):e(s)?o(null,s):(n=!0,r?o(null,s):i(o))}))}}}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/throughs/take.js"}],[3285,{"./unique":3288},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./unique");t.exports=function(e){return n(e,!0)}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/throughs/non-unique.js"}],[3280,{"../util/tester":3291,"./filter":3281},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../util/tester"),i=e("./filter");t.exports=function(e){return e=n(e),i((function(t){return!e(t)}))}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/throughs/filter-not.js"}],[3288,{"../util/prop":3290,"./filter":3281},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e){return e}var i=e("../util/prop"),s=e("./filter");t.exports=function(e,t){e=i(e)||n;var r={};return s((function(n){var i=e(n);return r[i]?!!t:(r[i]=!0,!t)}))}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/throughs/unique.js"}],[3579,{"truncate-utf8-bytes":3788},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("truncate-utf8-bytes"),i=/[\/\?<>\\:\*\|"]/g,s=/[\x00-\x1f\x80-\x9f]/g,o=/^\.+$/,a=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,u=/[\. ]+$/;function c(e,t){if("string"!=typeof e)throw new Error("Input must be string");var r=e.replace(i,t).replace(s,t).replace(o,t).replace(a,t).replace(u,t);return n(r,255)}t.exports=function(e,t){var r=t&&t.replacement||"",n=c(e,r);return""===r?n:c(n,"")}}}},{package:"sanitize-filename",file:"/Users/mac/code/metamask-extension/node_modules/sanitize-filename/index.js"}],[2711,{"./util":2714,"async/detect":1302,"async/series":1343,"async/setImmediate":1344,"async/waterfall":1350,buffer:1659,"err-code":1920,"node-forge/lib/forge":3033,"node-forge/lib/pbe":3040,"node-forge/lib/pkcs7":3044},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("async/setImmediate"),i=e("async/series"),s=e("async/detect"),o=e("async/waterfall");e("node-forge/lib/pkcs7"),e("node-forge/lib/pbe");const a=e("node-forge/lib/forge"),u=e("./util"),c=e("err-code");t.exports=class{constructor(e){if(!e)throw c(new Error("keychain is required"),"ERR_KEYCHAIN_REQUIRED");this.keychain=e}encrypt(e,t,s){const o=this,l=(e,t)=>n((()=>s(e,t)));if(!r.isBuffer(t))return l(c(new Error("Plain data must be a Buffer"),"ERR_INVALID_PARAMS"));i([t=>o.keychain.findKeyByName(e,t),t=>o.keychain._getPrivateKey(e,t)],((e,n)=>{if(e)return l(e);let i=n[0],c=n[1];try{const e=a.pki.decryptRsaPrivateKey(c,o.keychain._());u.certificateForKey(i,e,((e,n)=>{if(e)return s(e);const i=a.pkcs7.createEnvelopedData();i.addRecipient(n),i.content=a.util.createBuffer(t),i.encrypt();const o=a.asn1.toDer(i.toAsn1()).getBytes();l(null,r.from(o,"binary"))}))}catch(e){l(e)}}))}decrypt(e,t){const i=(e,r)=>n((()=>t(e,r)));if(!r.isBuffer(e))return i(c(new Error("CMS data is required"),"ERR_INVALID_PARAMS"));const u=this;let l;try{const t=a.util.createBuffer(e.toString("binary")),r=a.asn1.fromDer(t);l=a.pkcs7.messageFromAsn1(r)}catch(e){return i(c(new Error("Invalid CMS: "+e.message),"ERR_INVALID_CMS"))}const h=l.recipients.filter((e=>e.issuer.find((e=>"O"===e.shortName&&"ipfs"===e.value)))).filter((e=>e.issuer.find((e=>"CN"===e.shortName)))).map((e=>({recipient:e,keyId:e.issuer.find((e=>"CN"===e.shortName)).value})));s(h,((e,t)=>u.keychain.findKeyById(e.keyId,((e,r)=>t(null,!e&&r)))),((e,t)=>{if(e)return i(e);if(!t){const t=h.map((e=>e.keyId));return e=c(new Error("Decryption needs one of the key(s): "+t.join(", ")),"ERR_MISSING_KEYS",{missingKeys:t}),i(e)}o([e=>u.keychain.findKeyById(t.keyId,e),(e,t)=>u.keychain._getPrivateKey(e.name,t)],((e,n)=>{if(e)return i(e);const s=a.pki.decryptRsaPrivateKey(n,u.keychain._());l.decrypt(t.recipient,s),i(null,r.from(l.content.getBytes(),"binary"))}))}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-keychain",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-keychain/src/cms.js"}],[2260,{"./lib/bytesToUuid":2258,"./lib/rng":2259},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./lib/rng"),i=e("./lib/bytesToUuid");t.exports=function(e,t,r){var s=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[s+a]=o[a];return t||i(o)}}}},{package:"uuid",file:"/Users/mac/code/metamask-extension/node_modules/interface-datastore/node_modules/uuid/v4.js"}],[3238,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){var e,t,r,n,i=function(i,s){e?e(i,s):i?(n=i,r=s):t=s};return i.resolve=function(i){if(e)throw new Error("already resolved");if(!(e=i))throw new Error("no read cannot resolve!"+e);t&&i(null,t),r&&i(n,r)},i.abort=function(e){i.resolve((function(t,r){r(e||!0)}))},i}}}},{package:"pull-defer",file:"/Users/mac/code/metamask-extension/node_modules/pull-defer/source.js"}],[1346,{"./internal/createTester":1314,"./internal/doParallelLimit":1317,"lodash/identity":2933},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("./internal/createTester")),i=o(e("./internal/doParallelLimit")),s=o(e("lodash/identity"));function o(e){return e&&e.__esModule?e:{default:e}}r.default=(0,i.default)((0,n.default)(Boolean,s.default)),t.exports=r.default}}},{package:"async",file:"/Users/mac/code/metamask-extension/node_modules/async/someLimit.js"}],[1823,{"./utils":1824,assert:1270,buffer:1659,debug:1828,"err-code":1920,"interface-datastore":2262},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const{Key:n}=e("interface-datastore"),{encodeBase32:i,keyToTopic:s,topicToKey:o}=e("./utils"),a=e("err-code"),u=e("assert"),c=e("debug"),l=c("datastore-pubsub:publisher");l.error=c("datastore-pubsub:publisher:error");t.exports=class{constructor(e,t,r,n,i){u.strictEqual(typeof n,"object","missing validator"),u.strictEqual(typeof n.validate,"function","missing validate function"),u.strictEqual(typeof n.select,"function","missing select function"),i&&u.strictEqual(typeof i,"function","invalid subscriptionKeyFn received"),this._pubsub=e,this._datastore=t,this._peerId=r,this._validator=n,this._handleSubscriptionKeyFn=i,this._onMessage=this._onMessage.bind(this)}put(e,t,n){if(!r.isBuffer(e)){const e="datastore key does not have a valid format";return l.error(e),n(a(new Error(e),"ERR_INVALID_DATASTORE_KEY"))}if(!r.isBuffer(t)){const e="received value is not a buffer";return l.error(e),n(a(new Error(e),"ERR_INVALID_VALUE_RECEIVED"))}const i=s(e);l(`publish value for topic ${i}`),this._pubsub.publish(i,t,n)}get(e,t){if(!r.isBuffer(e)){const e="datastore key does not have a valid format";return l.error(e),t(a(new Error(e),"ERR_INVALID_DATASTORE_KEY"))}const n=s(e);this._pubsub.ls(((r,i)=>r?t(r):i&&Array.isArray(i)&&i.indexOf(n)>-1?this._getLocal(e,t):void this._pubsub.subscribe(n,this._onMessage,(r=>{if(r){const e=`cannot subscribe topic ${n}`;return l.error(e),t(a(new Error(e),"ERR_SUBSCRIBING_TOPIC"))}l(`subscribed values for key ${n}`),this._getLocal(e,t)}))))}unsubscribe(e){const t=s(e);this._pubsub.unsubscribe(t,this._onMessage)}_getLocal(e,t){const s=new n("/"+i(e),!1);this._datastore.get(s,((e,n)=>{if(e){if("ERR_NOT_FOUND"!==e.code){const e=`unexpected error getting the ipns record for ${s.toString()}`;return l.error(e),t(a(new Error(e),"ERR_UNEXPECTED_ERROR_GETTING_RECORD"))}const r=`local record requested was not found for ${s.toString()}`;return l.error(r),t(a(new Error(r),"ERR_NOT_FOUND"))}if(!r.isBuffer(n)){const e="found record that we couldn't convert to a value";return l.error(e),t(a(new Error(e),"ERR_INVALID_RECORD_RECEIVED"))}t(null,n)}))}_onMessage(e){const{data:t,from:r,topicIDs:n}=e;let i;try{i=o(n[0])}catch(e){return void l.error(e)}l(`message received for ${i} topic`),r!==this._peerId.toB58String()?this._handleSubscriptionKeyFn?this._handleSubscriptionKeyFn(i,((e,r)=>{e?l.error("message discarded by the subscriptionKeyFn"):this._storeIfSubscriptionIsBetter(r,t)})):this._storeIfSubscriptionIsBetter(i,t):l("message discarded as it is from the same peer")}_storeIfSubscriptionIsBetter(e,t){this._isBetter(e,t,((n,i)=>{!n&&i&&this._storeRecord(r.from(e),t)}))}_validateRecord(e,t,r){this._validator.validate(e,t,r)}_selectRecord(e,t,r){this._validator.select(e,t,((e,t)=>{if(e)return l.error(e),r(e);r(null,0===t)}))}_isBetter(e,t,r){this._validateRecord(t,e,((i,s)=>{if(i||!s){const e="record received through pubsub is not valid";return l.error(e),r(a(new Error(e),"ERR_NOT_VALID_RECORD"))}const o=new n(e);this._getLocal(o.toBuffer(),((e,n)=>e?r(null,!0):n.equals(t)?r(null,!1):void this._selectRecord(t,n,r)))}))}_storeRecord(e,t){const r=new n("/"+i(e),!1);this._datastore.put(r,t,(t=>{t?l.error(`record for ${e.toString()} could not be stored in the routing`):l(`record for ${e.toString()} was stored in the datastore`)}))}open(e){const t="open function was not implemented yet";return l.error(t),e(a(new Error(t),"ERR_NOT_IMPLEMENTED_YET"))}has(e,t){const r="has function was not implemented yet";return l.error(r),t(a(new Error(r),"ERR_NOT_IMPLEMENTED_YET"))}delete(e,t){const r="delete function was not implemented yet";return l.error(r),t(a(new Error(r),"ERR_NOT_IMPLEMENTED_YET"))}close(e){const t="close function was not implemented yet";return l.error(t),e(a(new Error(t),"ERR_NOT_IMPLEMENTED_YET"))}batch(){const e="batch function was not implemented yet";throw l.error(e),a(new Error(e),"ERR_NOT_IMPLEMENTED_YET")}query(){const e="query function was not implemented yet";throw l.error(e),a(new Error(e),"ERR_NOT_IMPLEMENTED_YET")}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"datastore-pubsub",file:"/Users/mac/code/metamask-extension/node_modules/datastore-pubsub/src/index.js"}],[2275,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={maxProvidersPerRequest:3,providerRequestTimeout:1e4,hasBlockTimeout:15e3,provideTimeout:15e3,kMaxPriority:Math.pow(2,31)-1,rebroadcastDelay:1e4,maxListeners:1e3}}}},{package:"ipfs-bitswap",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-bitswap/src/constants.js"}],[2284,{"./entry":2283,"./message.proto":2285,assert:1270,"async/each":1304,"async/nextTick":1338,cids:1685,"ipfs-block":2292,"lodash.isequalwith":2805,"multicodec/src/name-table":2996,"multihashing-async":2273,protons:3224,"varint-decoder":3830},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("protons"),i=e("ipfs-block"),s=e("lodash.isequalwith"),o=e("assert"),a=e("async/each"),u=e("async/nextTick"),c=e("cids"),l=e("multicodec/src/name-table"),h=e("varint-decoder"),f=e("multihashing-async"),d=n(e("./message.proto")),p=e("./entry");class m{constructor(e){this.full=e,this.wantlist=new Map,this.blocks=new Map}get empty(){return 0===this.blocks.size&&0===this.wantlist.size}addEntry(e,t,r){o(e&&c.isCID(e),"must be a valid cid");const n=e.buffer.toString(),i=this.wantlist.get(n);i?(i.priority=t,i.cancel=Boolean(r)):this.wantlist.set(n,new p(e,t,r))}addBlock(e){o(i.isBlock(e),"must be a valid cid");const t=e.cid.buffer.toString();this.blocks.set(t,e)}cancel(e){o(c.isCID(e),"must be a valid cid");const t=e.buffer.toString();this.wantlist.delete(t),this.addEntry(e,0,!0)}serializeToBitswap100(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map((e=>({block:e.cid.buffer,priority:Number(e.priority),cancel:Boolean(e.cancel)})))},blocks:Array.from(this.blocks.values()).map((e=>e.data))};return this.full&&(e.wantlist.full=!0),d.Message.encode(e)}serializeToBitswap110(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map((e=>({block:e.cid.buffer,priority:Number(e.priority),cancel:Boolean(e.cancel)})))},payload:[]};return this.full&&(e.wantlist.full=!0),this.blocks.forEach((t=>{e.payload.push({prefix:t.cid.prefix,data:t.data})})),d.Message.encode(e)}equals(e){const t=(e,t)=>{if(e.equals&&"function"==typeof e.equals)return e.equals(t)};return!(this.full!==e.full||!s(this.wantlist,e.wantlist,t)||!s(this.blocks,e.blocks,t))}get[Symbol.toStringTag](){const e=Array.from(this.wantlist.keys()),t=Array.from(this.blocks.keys());return`BitswapMessage <full: ${this.full}, list: ${e}, blocks: ${t}>`}}m.deserialize=(e,t)=>{let r;try{r=d.Message.decode(e)}catch(e){return u((()=>t(e)))}const n=r.wantlist&&r.wantlist.full||!1,s=new m(n);return r.wantlist&&r.wantlist.entries.forEach((e=>{let r;try{r=new c(e.block)}catch(e){return t(e)}s.addEntry(r,e.priority,e.cancel)})),r.blocks.length>0?a(r.blocks,((e,r)=>{f(e,"sha2-256",((n,o)=>{if(n)return r(n);let a;try{a=new c(o)}catch(n){return t(n)}s.addBlock(new i(e,a)),r()}))}),(e=>{if(e)return t(e);t(null,s)})):r.payload.length>0?a(r.payload,((e,t)=>{if(!e.prefix||!e.data)return u(t);const r=h(e.prefix),n=r[0],o=r[1],a=r[2];f(e.data,a,((r,a)=>{if(r)return t(r);let u;try{u=new c(n,l[o.toString("16")],a)}catch(r){return t(r)}s.addBlock(new i(e.data,u)),t()}))}),(e=>{if(e)return t(e);t(null,s)})):void t(null,s)},m.Entry=p,t.exports=m}}},{package:"ipfs-bitswap",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-bitswap/src/types/message/index.js"}],[2287,{"../../utils":2288,"./entry":2286},function(){with(this)return function(){"use strict";return function(e,t,r){const{sortBy:n}=e("../../utils"),i=e("./entry");class s{constructor(e){this.set=new Map,this._stats=e}get length(){return this.set.size}add(e,t){const r=e.buffer.toString(),n=this.set.get(r);n?(n.inc(),n.priority=t):(this.set.set(r,new i(e,t)),this._stats&&this._stats.push(null,"wantListSize",1))}remove(e){const t=e.buffer.toString(),r=this.set.get(t);r&&(r.dec(),r.hasRefs()||(this.set.delete(t),this._stats&&this._stats.push(null,"wantListSize",-1)))}removeForce(e){this.set.has(e)&&this.set.delete(e)}forEach(e){return this.set.forEach(e)}entries(){return this.set.entries()}sortedEntries(){return new Map(n((e=>e[1].key),Array.from(this.set.entries())))}contains(e){const t=e.buffer.toString();return this.set.get(t)}}s.Entry=i,t.exports=s}}},{package:"ipfs-bitswap",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-bitswap/src/types/wantlist/index.js"}],[2604,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t,r){var n;return function(){if(!t)return e.apply(this,arguments);var i=this,s=arguments,o=r&&!n;return clearTimeout(n),n=setTimeout((function(){if(n=null,!o)return e.apply(i,s)}),t),o?e.apply(this,arguments):void 0}}}}},{package:"just-debounce-it",file:"/Users/mac/code/metamask-extension/node_modules/just-debounce-it/index.js"}],[2277,{"../types/wantlist":2287},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("../types/wantlist");t.exports=class{constructor(e){this.partner=e,this.wantlist=new n,this.exchangeCount=0,this.sentToPeer=new Map,this.accounting={bytesSent:0,bytesRecv:0}}sentBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesSent+=e}receivedBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesRecv+=e}wants(e,t){this.wantlist.add(e,t)}cancelWant(e){this.wantlist.remove(e)}wantlistContains(e){return this.wantlist.contains(e)}debtRatio(){return this.accounting.bytesSent/(this.accounting.bytesRecv+1)}}}}},{package:"ipfs-bitswap",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-bitswap/src/decision-engine/ledger.js"}],[2282,{"bignumber.js":2269,events:1660,"moving-average":2979},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("events"),i=e("bignumber.js"),s=e("moving-average");t.exports=class extends n{constructor(e,t){super(),this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this),e.forEach((e=>{this._stats[e]=i(0),this._movingAverages[e]={},this._options.movingAverageIntervals.forEach((t=>{(this._movingAverages[e][t]=s(t)).push(this._frequencyLastTime,0)}))})),this._enabled=this._options.enabled}enable(){this._enabled=!0}disable(){this._disabled=!0}stop(){this._timeout&&clearTimeout(this._timeout)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}push(e,t){this._enabled&&(this._queue.push([e,t,Date.now()]),this._resetComputeTimeout())}_resetComputeTimeout(){this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(this._update,this._nextTimeout())}_nextTimeout(){const e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(;this._queue.length;){const t=e=this._queue.shift();this._applyOp(t)}this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){const t=e-this._frequencyLastTime;Object.keys(this._stats).forEach((r=>{this._updateFrequencyFor(r,t,e)})),this._frequencyLastTime=e}_updateFrequencyFor(e,t,r){const n=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;const i=n/t*1e3;let o=this._movingAverages[e];o||(o=this._movingAverages[e]={}),this._options.movingAverageIntervals.forEach((e=>{let t=o[e];t||(t=o[e]=s(e)),t.push(r,i)}))}_applyOp(e){const t=e[0],r=e[1];if("number"!=typeof r)throw new Error("invalid increment number:",r);let n;n=this._stats.hasOwnProperty(t)?this._stats[t]:this._stats[t]=i(0),this._stats[t]=n.plus(r),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=r}}}}},{package:"ipfs-bitswap",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-bitswap/src/stats/stat.js"}],[2290,{"../types/message":2284,"../utils":2288,"just-debounce-it":2604},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("just-debounce-it"),i=e("../types/message"),s=e("../utils").logger;t.exports=class{constructor(e,t,r){this.peerId=t,this.network=r,this.refcnt=1,this._entries=[],this._log=s(e,"msgqueue",t.toB58String().slice(0,8)),this.sendEntries=n(this._sendEntries.bind(this),200)}addMessage(e){e.empty||this.send(e)}addEntries(e){this._entries=this._entries.concat(e),this.sendEntries()}_sendEntries(){if(!this._entries.length)return;const e=new i(!1);this._entries.forEach((t=>{t.cancel?e.cancel(t.cid):e.addEntry(t.cid,t.priority)})),this._entries=[],this.addMessage(e)}send(e){this.network.connectTo(this.peerId,(t=>{t?this._log.error("cant connect to peer %s: %s",this.peerId.toB58String(),t.message):(this._log("sending message"),this.network.sendMessage(this.peerId,e,(e=>{e&&this._log.error("send error: %s",e.message)})))}))}}}}},{package:"ipfs-bitswap",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-bitswap/src/want-manager/msg-queue.js"}],[3243,{"./decode":3241,"./encode":3242},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./encode"),i=e("./decode");r.encode=n,r.decode=i.decode,r.decodeFromReader=i.decodeFromReader}}},{package:"pull-length-prefixed",file:"/Users/mac/code/metamask-extension/node_modules/pull-length-prefixed/src/index.js"}],[2733,{"../../is-buffer/index.js":2539,"./record.proto":2734,"./utils":2738,assert:1270,protons:3224},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("protons"),i=e("assert"),s=n(e("./record.proto")).Record,o=e("./utils");class a{constructor(e,t,n){e&&i(r.isBuffer(e),"key must be a Buffer"),t&&i(r.isBuffer(t),"value must be a buffer"),this.key=e,this.value=t,this.timeReceived=n}serialize(){return s.encode(this.prepareSerialize())}prepareSerialize(){return{key:this.key,value:this.value,timeReceived:this.timeReceived&&o.toRFC3339(this.timeReceived)}}static deserialize(e){const t=s.decode(e);return a.fromDeserialized(t)}static fromDeserialized(e){let t;e.timeReceived&&(t=o.parseRFC3339(e.timeReceived));return new a(e.key,e.value,t)}}t.exports=a}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"libp2p-record",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-record/src/record.js"}],[2735,{"./selectors":2736,buffer:1659,"buffer-split":1671,"err-code":1920},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("buffer-split"),i=e("err-code");t.exports={bestRecord:(e,t,s)=>{if(0===s.length){throw i(new Error("No records given"),"ERR_NO_RECORDS_RECEIVED")}const o=n(t,r.from("/"));if(o.length<3){throw i(new Error("Record key does not have a selector function"),"ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")}const a=e[o[1].toString()];if(!a){const e=`Unrecognized key prefix: ${o[1]}`;throw i(new Error(e),"ERR_UNRECOGNIZED_KEY_PREFIX")}return a(t,s)},selectors:e("./selectors")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-record",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-record/src/selection.js"}],[2739,{"./validators":2740,buffer:1659,"buffer-split":1671,"err-code":1920},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("buffer-split"),i=e("err-code");t.exports={verifyRecord:(e,t,s)=>{const o=t.key,a=n(o,r.from("/"));if(a.length<3)return s();const u=e[a[1].toString()];if(!u){return s(i(new Error("Invalid record keytype"),"ERR_INVALID_RECORD_KEY_TYPE"))}u.func(o,t.value,s)},validators:e("./validators")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-record",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-record/src/validator.js"}],[2534,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.ERR_IPNS_EXPIRED_RECORD="ERR_IPNS_EXPIRED_RECORD",r.ERR_UNRECOGNIZED_VALIDITY="ERR_UNRECOGNIZED_VALIDITY",r.ERR_SIGNATURE_CREATION="ERR_SIGNATURE_CREATION",r.ERR_SIGNATURE_VERIFICATION="ERR_SIGNATURE_VERIFICATION",r.ERR_UNRECOGNIZED_FORMAT="ERR_UNRECOGNIZED_FORMAT",r.ERR_PEER_ID_FROM_PUBLIC_KEY="ERR_PEER_ID_FROM_PUBLIC_KEY",r.ERR_PUBLIC_KEY_FROM_ID="ERR_PUBLIC_KEY_FROM_ID",r.ERR_UNDEFINED_PARAMETER="ERR_UNDEFINED_PARAMETER"}}},{package:"ipns",file:"/Users/mac/code/metamask-extension/node_modules/ipns/src/errors.js"}],[2537,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports.toRFC3339=e=>`${e.getUTCFullYear()}-${String(e.getUTCMonth()+1).padStart(2,"0")}-${String(e.getUTCDate()).padStart(2,"0")}T${String(e.getUTCHours()).padStart(2,"0")}:${String(e.getUTCMinutes()).padStart(2,"0")}:${String(e.getUTCSeconds()).padStart(2,"0")}.${1e3*e.getUTCMilliseconds()*1e3}Z`,t.exports.parseRFC3339=e=>{const t=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T"+"(\\d{2}):(\\d{2}):(\\d{2})"+"\\.(\\d+)Z"),r=String(e).trim().match(t);if(!r)throw new Error("Invalid format");const n=parseInt(r[1],10),i=parseInt(r[2],10)-1,s=parseInt(r[3],10),o=parseInt(r[4],10),a=parseInt(r[5],10),u=parseInt(r[6],10),c=parseInt(r[7].slice(0,-6),10);return new Date(Date.UTC(n,i,s,o,a,u,c))}}}},{package:"ipns",file:"/Users/mac/code/metamask-extension/node_modules/ipns/src/utils.js"}],[3737,{},function(){with(this)return function(){"use strict";return function(e,t,r){
/**
 * Timestamp for 64-bit time_t, nanosecond precision and strftime
 *
 * @author Yusuke Kawasaki
 * @license MIT
 * @see https://github.com/kawanet/timestamp-nano
 */
!function(){void 0!==t&&(t.exports=g);var e=86400,r=3200,n=1168776,i=100982246400,s=1e3*i,o=864e13,a=4294967296,u=1e6,c=1e9,l="000000000",h=Math.trunc||function(e){var t=e-e%1;return 0===t&&(e<0||0===e&&1/e!=1/0)?-0:t},f=g.prototype;g.fromDate=function(e){return new g(+e)},g.fromInt64BE=w(0,1,2,3,0,4),g.fromInt64LE=w(3,2,1,0,4,0),g.fromString=function(e){var t,r=new g,n=(e+="").replace(/^\s*[+\-]?\d+/,(function(e){var t=+e,n=1970+(t-1970)%400;return r.year=t-n,n})).replace(/(?:Z|([+\-]\d{2}):?(\d{2}))$/,(function(e,r,n){return r<0&&(n*=-1),t=6e4*(60*+r+ +n),""})).replace(/\.\d+$/,(function(e){return r.nano=+(e+l).substr(1,9),""})).split(/\D+/);n.length>1?n[1]--:n[1]=0;if(r.time=t=Date.UTC.apply(Date,n)-(t||0),isNaN(t))throw new TypeError("Invalid Date");return y(r)},g.fromTimeT=function(e){return v(e,0)},f.year=0,f.time=0,f.nano=0,f.addNano=function(e){return this.nano+=+e||0,this},f.getNano=function(){var e=y(this);return(e.time%1e3*u+ +e.nano+c)%c},f.getTimeT=function(){var t=y(this),i=Math.floor(t.time/1e3),s=t.year;s&&(i+=s*n*e/r);return i},f.getYear=function(){return this.toDate().getUTCFullYear()+this.year},f.toDate=function(){return b(y(this).time)},f.toJSON=function(){return this.toString().replace(/0{1,6}Z$/,"Z")},f.toString=function(e){var t=this,r=t.toDate(),n={H:function(){return M(r.getUTCHours())},L:function(){return E(r.getUTCMilliseconds(),3)},M:function(){return M(r.getUTCMinutes())},N:function(){return E(t.getNano(),9)},S:function(){return M(r.getUTCSeconds())},Y:function(){var e=t.getYear();return e>999999?"+"+e:e>9999?"+"+E(e,6):e>=0?E(e,4):e>=-999999?"-"+E(-e,6):e},a:function(){return p[r.getUTCDay()]},b:function(){return d[r.getUTCMonth()]},d:function(){return M(r.getUTCDate())},e:function(){return e=r.getUTCDate(),(e>9?"":" ")+(0|e);var e},m:function(){return M(r.getUTCMonth()+1)}};return function e(t){return t.replace(/%./g,(function(t){var r=t[1],i=m[r],s=n[r];return i?e(i):s?s():t}))}(e||"%Y-%m-%dT%H:%M:%S.%NZ")},f.writeInt64BE=_(0,1,2,3,0,4),f.writeInt64LE=_(3,2,1,0,4,0);var d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m={"%":"%",F:"%Y-%m-%d",n:"\n",R:"%H:%M",T:"%H:%M:%S",t:"\t",X:"%T",Z:"GMT",z:"+0000"};return g;function g(e,t,r){var n=this;if(!(n instanceof g))return new g(e,t,r);n.time=+e||0,n.nano=+t||0,n.year=+r||0,y(n)}function y(e){var t,n,i=e.year,a=e.time,c=e.nano;if(c<0||u<=c){var l=Math.floor(c/u);c-=l*u,a+=l,t=1}var f=i%r;if(a<-o||o<a||f){(n=h(a/s))&&(i+=n*r,a-=n*s);var d=b(a);d.setUTCFullYear(f+d.getUTCFullYear());var p=(a=+d)+(n=h((i-=f)/r))*s;n&&-o<=p&&p<=o&&(i-=n*r,a=p),t=1}return t&&(e.year=i,e.time=a,e.nano=c),e}function b(e){var t=new Date(0);return t.setTime(e),t}function v(e,t){t|=0,e=+e||0;var n=h((t*=a)/i)+h(e/i),s=t%i+e%i,o=h(s/i);return o&&(n+=o,s-=o*i),new g(1e3*s,0,n*r)}function _(e,t,r,n,i,s){return function(e,t){var r=y(this);e||(e=new Array(8));k(e,t|=0);var n=Math.floor(r.time/1e3),u=31556952*r.year,c=h(u/a)+h(n/a),l=u%a+n%a,f=Math.floor(l/a);f&&(c+=f,l-=f*a);return o(e,t+i,c),o(e,t+s,l),e};function o(i,s,o){i[s+e]=o>>24&255,i[s+t]=o>>16&255,i[s+r]=o>>8&255,i[s+n]=255&o}}function w(e,t,r,n,i,s){return function(e,t){k(e,t|=0);var r=o(e,t+i);return v(o(e,t+s),r)};function o(i,s){return 16777216*i[s+e]+(i[s+t]<<16|i[s+r]<<8|i[s+n])}}function k(e,t){var r=e&&e.length;if(null==r)throw new TypeError("Invalid Buffer");if(r<t+8)throw new RangeError("Out of range")}function M(e){return(e>9?"":"0")+(0|e)}function E(e,t){return(l+(0|e)).substr(-t)}}()}}},{package:"timestamp-nano",file:"/Users/mac/code/metamask-extension/node_modules/timestamp-nano/timestamp.js"}],[2536,{protons:3224},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("protons");t.exports=n('\nmessage IpnsEntry {\n  enum ValidityType {\n\t\tEOL = 0; // setting an EOL says "this record is valid until..."\n\t}\n\n  required bytes value = 1;\n\trequired bytes signature = 2;\n\n\toptional ValidityType validityType = 3;\n\toptional bytes validity = 4;\n\n\toptional uint64 sequence = 5;\n\n\toptional uint64 ttl = 6;\n\n\t// in order for nodes to properly validate a record upon receipt, they need the public\n\t// key associated with it. For old RSA keys, its easiest if we just send this as part of\n\t// the record itself. For newer ed25519 keys, the public key can be embedded in the\n\t// peerID, making this field unnecessary.\n\toptional bytes pubKey = 7;\n}\n').IpnsEntry}}},{package:"ipns",file:"/Users/mac/code/metamask-extension/node_modules/ipns/src/pb/ipns.proto.js"}],[3247,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports="/mplex/6.7.0"}}},{package:"pull-mplex",file:"/Users/mac/code/metamask-extension/node_modules/pull-mplex/src/codec.js"}],[3233,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t,r,n=!1,i=!1;function s(){if(e)return e(n&&!0!==n?n:i&&!0!==i?i:null)}function o(){i=i||!0,function(e){s();var r=t;t=null,r&&r(n||i)}(),r&&r(n,(function(e){t&&t(e||n)}))}function a(e){return r=e,function(r,o){if(t=o,r&&(n=r),i)return o(i);n||(!0,e(r,(function(o,a){if(!1,n)return!r&&e(n,(function(){}));if(t){var u=t;t=null,o?(i=n||o,s(),u(n||o)):u(n||o,a)}})))}}return a.abort=function(e){i||(n=e||!0,o())},a}}}},{package:"pull-abortable",file:"/Users/mac/code/metamask-extension/node_modules/pull-abortable/index.js"}],[3252,{"./codec":3247,"async/nextTick":1338,debug:1828,events:1660,"interface-connection":2257},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("events").EventEmitter,i=e("interface-connection").Connection,s=e("async/nextTick"),o=e("debug"),a=e("./codec"),u=o("libp2p-mplex:muxer");function c(){}u.err=o("libp2p-mplex:muxer:error");t.exports=class extends n{constructor(e,t){super(),this.conn=e,this.multiplex=t,this.multicodec=a,t.on("close",(()=>this.emit("close"))),t.on("error",(e=>this.emit("error",e))),t.on("stream",(e=>{e.on("error",(e=>{u.err("receiver stream errored",e)})),this.emit("stream",new i(e,this.conn))}))}newStream(e){e=e||c;let t=this.multiplex.createStream();t.on("error",(e=>{u.err("initiator stream errored",e)}));const r=new i(t,this.conn);return s(e,null,r),r}end(e){if(e=e||c,this.multiplex.destroyed)return s(e);this.multiplex.once("close",e),this.multiplex.close()}}}}},{package:"pull-mplex",file:"/Users/mac/code/metamask-extension/node_modules/pull-mplex/src/muxer.js"}],[3251,{"./channel":3246,"./coder":3248,"./consts":3249,"./util":3253,"async/nextTick":1338,buffer:1659,debug:1828,events:1660,looper:3245,"pull-pushable":3255,"pull-stream":3261,"pull-through":3292},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("pull-stream"),i=e("pull-pushable"),s=e("pull-through"),o=e("looper"),a=e("async/nextTick"),u=e("events"),c=e("debug"),{emitError:l,emitStream:h}=e("./util"),{Types:f,MAX_MSG_SIZE:d}=e("./consts"),p=e("./channel"),m=e("./coder"),g=c("pull-plex");g.err=c("pull-plex:err");t.exports=class extends u{constructor(e){super(),"boolean"==typeof e&&(e={initiator:e}),e={initiator:!0,onChan:null,maxChannels:1e4,maxMsgSize:d,lazy:!1,...e},this._maxChannels=e.maxChannels,this._maxMsgSize=e.maxMsgSize,this._lazy=e.lazy,this._initiator=Boolean(e.initiator),this._chanId=0,this._inChannels=new Array(this._maxChannels/2),this._outChannels=new Array(this._maxChannels/2),this._endedRemote=!1,this._endedLocal=!1,this._chandata=i((e=>{this._log("mplex ended"),this._endedRemote=!0,this.close(e)})),e.onChan&&this.on("stream",(t=>e.onChan(t,t.id))),this.source=n(this._chandata,m.encode());const t=this;this.sink=n(s((function(e){if(e&&e.length>=t._maxMsgSize)return a(l,t,new Error("message too large!")),this.queue(null);this.queue(e)})),m.decode(),(e=>{const r=o((()=>{e(null,((e,n)=>{if(!t._endedLocal){if(!0===e)return t.close();if(e)return t.destroy(e);t._handle(n),r()}}))}));r()}))}_log(e,t){g({op:e,initiator:this._initiator,endedLocal:this._endedLocal,endedRemote:this._endedRemote,data:t&&t.toString()||""})}get initiator(){return this._initiator}close(e){if(this._log("close",e),this.destroyed)return;e&&a(l,this,e),e=e||"Underlying stream has been closed",this._endedLocal=!0;const t=Array.prototype.concat(this._outChannels,this._inChannels);for(let r of t)r&&r.close(e);this.emit("close")}get destroyed(){return this._endedRemote&&this._endedLocal}destroy(e){e=e||new Error("Underlying stream has been closed"),this._chandata.end(e),this.close(e)}push(e){e.data&&r.byteLength(e.data)>this._maxMsgSize&&this._chandata.end(new Error("message too large!")),this._chandata.push(e)}createStream(e){"number"==typeof e&&(e=e.toString());const t=this._newStream(null,!0,!1,e,this._outChannels);return this._lazy||t.openChan(e),t}_newStream(e,t,r,n,i){if(this.chanSize>=this._maxChannels)return void this.emit("error",new Error("max channels exceeded"));if("string"==typeof t&&(n=t,t=!1,r=!1),"string"==typeof r&&(n=r,r=!1),i[e="number"==typeof e?e:this._chanId++])return void this.emit("error",new Error(`channel with id ${e} already exist!`));const s=new p({id:e,name:n,plex:this,initiator:t,open:r||!1});return this._addChan(e,s,i)}_addChan(e,t,r){return t.once("close",(()=>{r[e]=null})),t.once("error",(e=>{g.err("channel error",e)})),r[e]=t,t}get chanSize(){return this._inChannels.size+this._outChannels.size}_handle(e){this._log("_handle",e);const{id:t,type:r,data:n}=e;switch(r){case f.NEW:{const e=this._newStream(t,!1,!0,n.toString(),this._inChannels);a(h,this,e,t);break}case f.OUT_MESSAGE:case f.IN_MESSAGE:{const e=(1&r?this._outChannels:this._inChannels)[t];e&&e.push(n);break}case f.OUT_CLOSE:case f.IN_CLOSE:{const e=(1&r?this._outChannels:this._inChannels)[t];e&&e.close();break}case f.OUT_RESET:case f.IN_RESET:{const e=(1&r?this._outChannels:this._inChannels)[t];e&&e.destroy();break}default:a(l,this,new Error("Invalid message type"))}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"pull-mplex",file:"/Users/mac/code/metamask-extension/node_modules/pull-mplex/src/mplex.js"}],[2789,{"interface-connection":2257,multiaddr:2984,os:3142,"pull-ws/server":3298},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("interface-connection").Connection,i=e("multiaddr"),s=e("os");function o(){}const a=e("pull-ws/server")||o;t.exports=(e,t)=>{const r=a(e,(e=>{e.getObservedAddrs=e=>e(null,[]),t(new n(e))}));let u;return r._listen=r.listen,r.listen=(e,t)=>{t=t||o,u=e,e.protoNames().includes("ipfs")&&(e=e.decapsulate("ipfs")),r._listen(e.toOptions(),t)},r.getAddrs=e=>{const t=[],n=r.address();if(!n)return e(new Error("Listener is not ready yet"));let o=u.getPeerId();if(-1!==u.toString().indexOf("ip4")){let e=u.decapsulate("tcp");if(e=e.encapsulate("/tcp/"+n.port+"/ws"),u.getPeerId()&&(e=e.encapsulate("/ipfs/"+o)),-1!==e.toString().indexOf("0.0.0.0")){const r=s.networkInterfaces();Object.keys(r).forEach((n=>{r[n].forEach((r=>{"IPv4"===r.family&&t.push(i(e.toString().replace("0.0.0.0",r.address)))}))}))}else t.push(e)}e(null,t)},r}}}},{package:"libp2p-websockets",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-websockets/src/listener.js"}],[2257,{"./connection":2256},function(){with(this)return function(){"use strict";return function(e,t,r){r.Connection=e("./connection")}}},{package:"interface-connection",file:"/Users/mac/code/metamask-extension/node_modules/interface-connection/src/index.js"}],[3294,{"./duplex":3295,"./web-socket":3301,"./ws-url":3302},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./web-socket"),i=e("./duplex"),s=e("./ws-url");function o(e){return"function"==typeof e}t.exports=function(e,t){o(t)&&(t={onConnect:t});var r="undefined"==typeof window?{}:window.location,a=s(e,r),u=new n(a),c=i(u,t);return c.remoteAddress=a,c.close=function(e){o(e)&&u.addEventListener("close",e),u.close()},u.addEventListener("open",(function(e){t&&o(t.onConnect)&&t.onConnect(null,c)})),c},t.exports.connect=t.exports}}},{package:"pull-ws",file:"/Users/mac/code/metamask-extension/node_modules/pull-ws/client.js"}],[2695,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=class{constructor(){this.queries=new Set,this.running=!1}queryStarted(e){this.queries.add(e)}queryCompleted(e){this.queries.delete(e)}start(){this.running=!0}stop(){this.running=!1;for(const e of this.queries)e.stop();this.queries.clear()}}}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-kad-dht/src/query-manager.js"}],[2684,{},function(){with(this)return function(){"use strict";return function(e,t,r){const n=r.second=1e3,i=r.minute=60*n,s=r.hour=60*i;r.MAX_RECORD_AGE=36*s,r.PROTOCOL_DHT="/ipfs/kad/1.0.0",r.PROVIDERS_KEY_PREFIX="/providers/",r.PROVIDERS_LRU_CACHE_SIZE=256,r.PROVIDERS_VALIDITY=24*s,r.PROVIDERS_CLEANUP_INTERVAL=s,r.READ_MESSAGE_TIMEOUT=10*n,r.GET_MANY_RECORD_COUNT=16,r.K=20,r.ALPHA=3,r.maxMessageSize=2<<22,r.defaultRandomWalk={enabled:!0,queriesPerPeriod:1,interval:5*i,timeout:10*n,delay:10*n}}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-kad-dht/src/constants.js"}],[1311,{"./internal/doParallel":1316,"./internal/filter":1319},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("./internal/filter")),i=s(e("./internal/doParallel"));function s(e){return e&&e.__esModule?e:{default:e}}r.default=(0,i.default)(n.default),t.exports=r.default}}},{package:"async",file:"/Users/mac/code/metamask-extension/node_modules/async/filter.js"}],[1348,{"./internal/initialParams":1322,"./internal/wrapAsync":1334},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){var s=(0,i.default)(e);return(0,n.default)((function(n,i){var o,a=!1;n.push((function(){a||(i.apply(null,arguments),clearTimeout(o))})),o=setTimeout((function(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),a=!0,i(n)}),t),s.apply(null,n)}))};var n=s(e("./internal/initialParams")),i=s(e("./internal/wrapAsync"));function s(e){return e&&e.__esModule?e:{default:e}}t.exports=r.default}}},{package:"async",file:"/Users/mac/code/metamask-extension/node_modules/async/timeout.js"}],[2693,{"./constants":2684,"./limited-peer-list":2686,"./message":2688,"./query":2696,"./utils":2710,"async/timeout":1348,"err-code":1920,"libp2p-record":2732,"peer-id":3195,"peer-info":3196,"promise-to-callback":3206,"promisify-es6":3208},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("peer-id"),i=e("libp2p-record"),s=e("async/timeout"),o=e("peer-info"),a=e("promisify-es6"),u=e("promise-to-callback"),c=e("err-code"),l=e("./utils"),h=e("./message"),f=e("./constants"),d=e("./query"),p=e("./limited-peer-list"),m=i.Record;t.exports=e=>({_nearestPeersToQuery(e,t){u(this._nearestPeersToQueryAsync(e))(t)},async _nearestPeersToQueryAsync(t){const r=await a(l.convertBuffer)(t.key);return e.routingTable.closestPeers(r,e.kBucketSize).map((t=>e.peerBook.has(t)?e.peerBook.get(t):e.peerBook.put(new o(t))))},_betterPeersToQuery(e,t,r){u(this._betterPeersToQueryAsync(e,t))(r)},async _betterPeersToQueryAsync(t,r){e._log("betterPeersToQuery");return(await e._nearestPeersToQueryAsync(t)).filter((t=>e._isSelf(t.id)?(e._log.error("trying to return self as closer"),!1):!t.id.isEqual(r.id)))},_checkLocalDatastore(e,t){u(this._checkLocalDatastoreAsync(e))(t)},async _checkLocalDatastoreAsync(t){e._log("checkLocalDatastore: %b",t);const r=l.bufferToKey(t);let n;try{n=await a((t=>e.datastore.get(r,t)))()}catch(e){if("ERR_NOT_FOUND"===e.code)return undefined;throw e}const i=m.deserialize(n);if(!i)throw c("Invalid record","ERR_INVALID_RECORD");return null==i.timeReceived||l.now()-i.timeReceived>f.MAX_RECORD_AGE?(await a((t=>e.datastore.delete(r,t)))(),undefined):i},_add(e,t){u(this._addAsync(e))((e=>t(e)))},_addAsync:async t=>(t=e.peerBook.put(t),await a((r=>e.routingTable.add(t.id,r)))(),undefined),_verifyRecordLocally(e,t){u(this._verifyRecordLocallyAsync(e))((e=>t(e)))},async _verifyRecordLocallyAsync(t){e._log("verifyRecordLocally"),await a((r=>i.validator.verifyRecord(e.validators,t,r)))()},_closerPeersSingle(e,t,r){u(this._closerPeersSingleAsync(e,t))(r)},async _closerPeersSingleAsync(t,r){e._log("_closerPeersSingle %b from %s",t,r.toB58String());return(await e._findPeerSingleAsync(r,new n(t))).closerPeers.filter((t=>!e._isSelf(t.id))).map((t=>e.peerBook.put(t)))},_isSelf:t=>t&&e.peerInfo.id.id.equals(t.id),_findPeerSingle(e,t,r){u(this._findPeerSingleAsync(e,t))(r)},async _findPeerSingleAsync(t,r){e._log("_findPeerSingle %s",t.toB58String());const n=new h(h.TYPES.FIND_NODE,r.id,0);return a((r=>e.network.sendRequest(t,n,r)))()},_putValueToPeer(e,t,r,n){u(this._putValueToPeerAsync(e,t,r))(n)},async _putValueToPeerAsync(t,r,n){const i=new h(h.TYPES.PUT_VALUE,t,0);i.record=r;if(!(await a((t=>e.network.sendRequest(n,i,t)))()).record.value.equals(m.deserialize(r).value))throw c(new Error("value not put correctly"),"ERR_PUT_VALUE_INVALID")},_putLocal(e,t,r){u(this._putLocalAsync(e,t))((e=>r(e)))},_putLocalAsync:async(t,r)=>(await a((n=>e.datastore.put(l.bufferToKey(t),r,n)))(),undefined),_get(e,t,r){u(this._getAsync(e,t))(r)},async _getAsync(t,r){e._log("_get %b",t);const n=await a((n=>e.getMany(t,f.GET_MANY_RECORD_COUNT,r,n)))(),s=n.map((e=>e.val));let o=0;try{o=i.selection.bestRecord(e.selectors,t,s)}catch(e){if("ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY"!==e.code)throw e}const u=s[o];if(e._log("GetValue %b %s",t,u),!u)throw c(new Error("best value was not found"),"ERR_NOT_FOUND");return await this._sendCorrectionRecord(t,n,u),u},async _sendCorrectionRecord(t,r,n){const i=await a((e=>l.createPutRecord(t,n,e)))();return Promise.all(r.map((async r=>{if(!r.val.equals(n))if(e._isSelf(r.from))try{await e._putLocalAsync(t,i)}catch(t){e._log.error("Failed error correcting self",t)}else try{await e._putValueToPeerAsync(t,i,r.from)}catch(t){e._log.error("Failed error correcting entry",t)}})))},_getLocal(e,t){u(this._getLocalAsync(e))(t)},async _getLocalAsync(t){e._log("getLocal %b",t);const r=await a((r=>e.datastore.get(l.bufferToKey(t),r)))();e._log("found %b in local datastore",t);const n=m.deserialize(r);return await e._verifyRecordLocallyAsync(n),n},_getValueOrPeers(e,t,r){u(this._getValueOrPeersAsync(e,t))(((e,t)=>{if(e)return r(e);r(null,t.record,t.peers)}))},async _getValueOrPeersAsync(t,r){const n=await a((n=>e._getValueSingle(t,r,n)))(),i=n.closerPeers,s=n.record;if(s){try{await e._verifyRecordOnlineAsync(s)}catch(t){const r="invalid record received, discarded";throw e._log(r),c(new Error(r),"ERR_INVALID_RECORD")}return{record:s,peers:i}}if(i.length>0)return{peers:i};throw c(new Error("Not found"),"ERR_NOT_FOUND")},_getValueSingle(e,t,r){u(this._getValueSingleAsync(e,t))(r)},async _getValueSingleAsync(t,r){const n=new h(h.TYPES.GET_VALUE,r,0);return a((r=>e.network.sendRequest(t,n,r)))()},_verifyRecordOnline(e,t){u(this._verifyRecordOnlineAsync(e))((e=>t(e)))},async _verifyRecordOnlineAsync(t){await a((r=>i.validator.verifyRecord(e.validators,t,r)))()},_getPublicKeyFromNode(e,t){u(this._getPublicKeyFromNodeAsync(e))(t)},async _getPublicKeyFromNodeAsync(t){const r=l.keyForPublicKey(t),i=await a((n=>e._getValueSingle(t,r,n)))();if(!i.record||!i.record.value)throw c(`Node not responding with its public key: ${t.toB58String()}`,"ERR_INVALID_RECORD");const s=await a((e=>n.createFromPubKey(i.record.value,e)))();if(!s.isEqual(t))throw c("public key does not match id","ERR_PUBLIC_KEY_DOES_NOT_MATCH_ID");return s.pubKey},_findNProviders(e,t,r,n){u(this._findNProvidersAsync(e,t,r))(n)},async _findNProvidersAsync(t,r,n){const i=new p(n);if((await e.providers.getProviders(t)).forEach((t=>{let r;r=e.peerBook.has(t)?e.peerBook.get(t):e.peerBook.put(new o(t)),i.push(r)})),i.length>=n)return i.toArray();const h=[],f=new d(e,t.buffer,((r,s)=>{const o=l.pathSize(n-i.length,s),a=new p(o);return h.push(a),async r=>{const n=await e._findProvidersSingleAsync(r,t),i=n.providerPeers;return e._log("(%s) found %s provider entries",e.peerInfo.id.toB58String(),i.length),i.forEach((t=>{a.push(e.peerBook.put(t))})),a.length>=o?{pathComplete:!0}:{closerPeers:n.closerPeers}}})),m=e.routingTable.closestPeers(t.buffer,e.kBucketSize);try{await a((e=>s((e=>{u(f.run(m))(e)}),r)(e)))()}catch(e){if("ETIMEDOUT"!==e.code)throw e}finally{f.stop()}if(h.forEach((e=>{e.toArray().forEach((e=>{i.push(e)}))})),0===i.length)throw c(new Error("no providers found"),"ERR_NOT_FOUND");return i.toArray()},_findProvidersSingle(e,t,r){u(this._findProvidersSingleAsync(e,t))(r)},async _findProvidersSingleAsync(t,r){const n=new h(h.TYPES.GET_PROVIDERS,r.buffer,0);return a((r=>e.network.sendRequest(t,n,r)))()}})}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-kad-dht/src/private.js"}],[2710,{"async/map":1335,"async/setImmediate":1344,"base32.js":1523,buffer:1659,debug:1828,"err-code":1920,"interface-datastore":2262,"libp2p-record":2732,multihashes:3001,"multihashing-async":2682,"peer-id":3195,"xor-distance":3964},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){const n=e("debug"),i=e("multihashing-async"),s=e("multihashes"),o=e("interface-datastore").Key,a=e("base32.js"),u=e("xor-distance"),c=e("async/map"),l=e("libp2p-record").Record,h=e("async/setImmediate"),f=e("peer-id"),d=e("err-code");r.convertBuffer=(e,t)=>{i.digest(e,"sha2-256",t)},r.convertPeerId=(e,t)=>{i.digest(e.id,"sha2-256",t)},r.bufferToKey=e=>new o("/"+r.encodeBase32(e),!1),r.keyForPublicKey=e=>t.concat([t.from("/pk/"),e.id]),r.isPublicKeyKey=e=>"/pk/"===e.slice(0,4).toString(),r.fromPublicKeyKey=e=>new f(e.slice(4)),r.now=()=>Date.now(),r.encodeBase32=e=>(new a.Encoder).write(e).finalize(),r.decodeBase32=e=>{const r=new a.Decoder;return t.from(r.write(e).finalize())},r.sortClosestPeers=(e,t,n)=>{c(e,((e,n)=>{r.convertPeerId(e,((r,i)=>{if(r)return n(r);n(null,{peer:e,distance:u(i,t)})}))}),((e,t)=>{if(e)return n(e);n(null,t.sort(r.xorCompare).map((e=>e.peer)))}))},r.xorCompare=(e,t)=>u.compare(e.distance,t.distance),r.pathSize=(e,t)=>Math.ceil(e/t),r.createPutRecord=(e,t,r)=>{const n=new Date,i=new l(e,t,n);h((()=>{r(null,i.serialize())}))},r.logger=(e,t)=>{const r=["libp2p","dht"];t&&r.push(t),e&&r.push(`${e.toB58String().slice(0,8)}`),n.formatters.b=e=>s.toB58String(e);const i=n(r.join(":"));return i.error=n(r.concat(["error"]).join(":")),i},r.TimeoutError=class extends Error{get code(){return"ETIMEDOUT"}},r.withTimeout=(e,t)=>async(...r)=>Promise.race([e(...r),new Promise(((e,r)=>{setTimeout((()=>{r(d(new Error("Async function did not complete before timeout"),"ETIMEDOUT"))}),t)}))])}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-kad-dht/src/utils.js"}],[2688,{"../../../is-buffer/index.js":2539,"./dht.proto":2687,assert:1270,"libp2p-record":2732,"peer-id":3195,"peer-info":3196,protons:3224},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("assert"),i=e("peer-info"),s=e("peer-id"),o=e("protons"),a=e("libp2p-record").Record,u=o(e("./dht.proto")),c=u.Message.MessageType,l=u.Message.ConnectionType;class h{constructor(e,t,i){t&&n(r.isBuffer(t)),this.type=e,this.key=t,this._clusterLevelRaw=i,this.closerPeers=[],this.providerPeers=[],this.record=null}get clusterLevel(){const e=this._clusterLevelRaw-1;return e<0?0:e}set clusterLevel(e){this._clusterLevelRaw=e}serialize(){const e={key:this.key,type:this.type,clusterLevelRaw:this._clusterLevelRaw,closerPeers:this.closerPeers.map(f),providerPeers:this.providerPeers.map(f)};return this.record&&(r.isBuffer(this.record)?e.record=this.record:e.record=this.record.serialize()),u.Message.encode(e)}static deserialize(e){const t=u.Message.decode(e),r=new h(t.type,t.key,t.clusterLevelRaw);return r.closerPeers=t.closerPeers.map(d),r.providerPeers=t.providerPeers.map(d),t.record&&(r.record=a.deserialize(t.record)),r}}function f(e){const t={id:e.id.id,addrs:e.multiaddrs.toArray().map((e=>e.buffer))};return e.isConnected()?t.connection=l.CONNECTED:t.connection=l.NOT_CONNECTED,t}function d(e){const t=new i(new s(e.id));return e.addrs.forEach((e=>t.multiaddrs.add(e))),t}h.TYPES=c,h.CONNECTION_TYPES=l,t.exports=h}).call(this)}).call(this,{isBuffer:e("../../../is-buffer/index.js")})}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-kad-dht/src/message/index.js"}],[2694,{"./constants":2684,"./utils":2710,buffer:1659,hashlru:2222,"interface-datastore":2262,"p-queue":3146,"peer-id":3195,"promisify-es6":3208,"pull-stream-to-async-iterator":3259,varint:3833},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("hashlru"),i=e("varint"),s=e("peer-id"),o=e("interface-datastore").Key,a=e("p-queue"),u=e("promisify-es6"),c=e("pull-stream-to-async-iterator"),l=e("./constants"),h=e("./utils");function f(e){return e="string"==typeof e?e:h.encodeBase32(e.buffer),l.PROVIDERS_KEY_PREFIX+e}function d(e){const t=e.toString().split("/");if(4!==t.length)throw new Error("incorrectly formatted provider entry key in datastore: "+e);return{cid:t[2],peerId:t[3]}}function p(e){return i.decode(e)}t.exports=class{constructor(e,t,r){this.datastore=e,this._log=h.logger(t,"providers"),this.cleanupInterval=l.PROVIDERS_CLEANUP_INTERVAL,this.provideValidity=l.PROVIDERS_VALIDITY,this.lruCacheSize=r||l.PROVIDERS_LRU_CACHE_SIZE,this.providers=n(this.lruCacheSize),this.syncQueue=new a({concurrency:1})}stop(){this._cleaner&&(clearInterval(this._cleaner),this._cleaner=null)}_cleanup(){return this.syncQueue.add((async()=>{this._log("start cleanup");const e=Date.now();let t=0,r=0;const n=new Map,i=this.datastore.batch(),s=this.datastore.query({prefix:l.PROVIDERS_KEY_PREFIX});for await(const e of c(s))try{const{cid:s,peerId:o}=d(e.key),a=p(e.value),u=Date.now(),c=u-a,l=c>this.provideValidity;if(this._log("comparing: %d - %d = %d > %d %s",u,a,c,this.provideValidity,l?"(expired)":""),l){r++,i.delete(e.key);const t=n.get(s)||new Set;t.add(o),n.set(s,t)}t++}catch(e){this._log.error(e.message)}this._log("deleting %d / %d entries",r,t),n.size&&await u((e=>i.commit(e)))();for(const[e,t]of n){const r=f(e),n=this.providers.get(r);if(n){for(const e of t)n.delete(e);0===n.size?this.providers.remove(r):this.providers.set(r,n)}}this._log("Cleanup successful (%dms)",Date.now()-e)}))}async _getProvidersMap(e){const t=f(e);let r=this.providers.get(t);return r||(r=await async function(e,t){const r=new Map,n=e.query({prefix:f(t)});for await(const e of c(n)){const{peerId:t}=d(e.key);r.set(t,p(e.value))}return r}(this.datastore,e),this.providers.set(t,r)),r}get cleanupInterval(){return this._cleanupInterval}set cleanupInterval(e){this._cleanupInterval=e,this._cleaner&&clearInterval(this._cleaner),this._cleaner=setInterval((()=>this._cleanup()),this.cleanupInterval)}async addProvider(e,t){return this.syncQueue.add((async()=>{this._log("addProvider %s",e.toBaseEncodedString());const n=await this._getProvidersMap(e);this._log("loaded %s provs",n.size);const s=Date.now();n.set(h.encodeBase32(t.id),s);const a=f(e);return this.providers.set(a,n),async function(e,t,n,s){const a=[f(t),"/",h.encodeBase32(n.id)].join(""),c=new o(a),l=r.from(i.encode(s));return u((t=>e.put(c,l,t)))()}(this.datastore,e,t,s)}))}async getProviders(e){return this.syncQueue.add((async()=>{this._log("getProviders %s",e.toBaseEncodedString());return[...(await this._getProvidersMap(e)).keys()].map((e=>new s(h.decodeBase32(e))))}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-kad-dht/src/providers.js"}],[2701,{"./utils":2710,"k-bucket":2607},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("k-bucket"),i=e("./utils");t.exports=class{constructor(e,t){this.self=e,this._onPing=this._onPing.bind(this),i.convertPeerId(e,((e,r)=>{if(e)throw e;this.kb=new n({localNodeId:r,numberOfNodesPerKBucket:t,numberOfNodesToPing:1}),this.kb.on("ping",this._onPing)}))}_onPing(e,t){const r=e[0];this.kb.remove(r.id),this.kb.add(t)}get size(){return this.kb.count()}find(e,t){i.convertPeerId(e,((r,n)=>{if(r)return t(r);const i=this.closestPeer(n);if(i&&i.isEqual(e))return t(null,i);t()}))}closestPeer(e,t){const r=this.closestPeers(e,1);if(r.length>0)return r[0]}closestPeers(e,t){return this.kb.closest(e,t).map((e=>e.peer))}add(e,t){i.convertPeerId(e,((r,n)=>{if(r)return t(r);this.kb.add({id:n,peer:e}),t()}))}remove(e,t){i.convertPeerId(e,((e,r)=>{if(e)return t(e);this.kb.remove(r),t()}))}}}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-kad-dht/src/routing.js"}],[2700,{"./constants":2684,"./utils":2710,"abort-controller":1239,assert:1270,"err-code":1920,"libp2p-crypto":2657,"multihashing-async":2682,"p-times":3151,"peer-id":3195,"promisify-es6":3208},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("promisify-es6"),i=e("libp2p-crypto"),s=n(e("multihashing-async")),o=e("peer-id"),a=e("assert"),u=e("abort-controller"),c=e("err-code"),l=e("p-times"),h=e("./constants"),{logger:f}=e("./utils");t.exports=class{constructor(e,t){a(e,"Random Walk needs an instance of the Kademlia DHT"),this._options={...h.defaultRandomWalk,...t},this._kadDHT=e,this.log=f(e.peerInfo.id,"random-walk"),this._timeoutId=undefined}start(){!this._timeoutId&&this._options.enabled&&(this._timeoutId=setTimeout((()=>{this._runPeriodically()}),this._options.delay))}stop(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=undefined),this._controller&&this._controller.abort()}async _runPeriodically(){for(;this._timeoutId;){try{await this._walk(this._options.queriesPerPeriod,this._options.timeout)}catch(e){this._kadDHT._log.error("random-walk:error",e)}await new Promise((e=>{this._timeoutId=setTimeout(e,this._options.interval)}))}}async _walk(e,t){this.log("start"),this._controller=new u;try{await l(e,(async e=>{this.log("running query %d",e);try{const e=await this._randomPeerId();if(!this._controller)return;await this._query(e,{timeout:t,signal:this._controller.signal})}catch(t){if(t&&"ETIMEDOUT"!==t.code)throw this.log.error("query %d finished with error",e,t),t}this.log("finished query %d",e)}))}finally{this._controller=null,this.log("finished queries")}}async _query(e,t){let r;this.log("query:%s",e.toB58String());try{r=await n((r=>this._kadDHT.findPeer(e,t,r)))()}catch(e){if(e&&"ERR_NOT_FOUND"===e.code)return;throw e}throw this.log("query:found",r),c(`random-walk: ACTUALLY FOUND PEER: ${r}, ${e.toB58String()}`,"ERR_FOUND_RANDOM_PEER")}async _randomPeerId(){const e=await s(i.randomBytes(16),"sha2-256");return new o(e)}}}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-kad-dht/src/random-walk.js"}],[2696,{"../utils":2710,"./run":2698,multihashes:3001},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("multihashes"),i=e("../utils"),s=e("./run");t.exports=class{constructor(e,t,r){this.dht=e,this.key=t,this.makePath=r,this._log=i.logger(this.dht.peerInfo.id,"query:"+n.toB58String(t)),this.running=!1,this._onStart=this._onStart.bind(this),this._onComplete=this._onComplete.bind(this)}async run(e){return this.dht._queryManager.running?0===e.length?(this._log.error("Running query with no peers"),{finalSet:new Set,paths:[]}):(this._run=new s(this),this._log(`query running with K=${this.dht.kBucketSize}, A=${this.dht.concurrency}, D=${Math.min(this.dht.disjointPaths,e.length)}`),this._run.once("start",this._onStart),this._run.once("complete",this._onComplete),this._run.execute(e)):(this._log.error("Attempt to run query after shutdown"),{finalSet:new Set,paths:[]})}_onStart(){this.running=!0,this._startTime=Date.now(),this._log("query:start"),this.dht._queryManager.queryStarted(this)}_onComplete(){this.stop()}stop(){this._log(`query:done in ${Date.now()-this._startTime}ms`),this._run&&this._log(`${this._run.errors.length} of ${this._run.peersSeen.size} peers errored (${this._run.errors.length/this._run.peersSeen.size*100}% fail rate)`),this.running&&(this._run.removeListener("start",this._onStart),this._run.removeListener("complete",this._onComplete),this.running=!1,this._run&&this._run.stop(),this.dht._queryManager.queryCompleted(this))}}}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-kad-dht/src/query/index.js"}],[2689,{"./constants":2684,"./message":2688,"./rpc":2709,"./utils":2710,"async/setImmediate":1344,"async/timeout":1348,"err-code":1920,"pull-length-prefixed":3243,"pull-stream":3261},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("pull-stream"),i=e("async/timeout"),s=e("pull-length-prefixed"),o=e("async/setImmediate"),a=e("err-code"),u=e("./rpc"),c=e("./constants"),l=e("./message"),h=e("./utils");function f(e,t,r){n(n.values([t]),s.encode(),e,n.filter((e=>e.length<c.maxMessageSize)),s.decode(),n.collect(((e,t)=>{if(e)return r(e);if(0===t.length)return r(a(new Error("No message received"),"ERR_NO_MESSAGE_RECEIVED"));let n;try{n=l.deserialize(t[0])}catch(e){return r(a(e,"ERR_FAILED_DESERIALIZE_RESPONSE"))}r(null,n)})))}t.exports=class{constructor(e){this.dht=e,this.readMessageTimeout=c.READ_MESSAGE_TIMEOUT,this._log=h.logger(this.dht.peerInfo.id,"net"),this._rpc=u(this.dht),this._onPeerConnected=this._onPeerConnected.bind(this),this._running=!1}start(e){const t=t=>o((()=>e(t)));return this._running?t(a(new Error("Network is already running"),"ERR_NETWORK_ALREADY_RUNNING")):this.dht.isStarted?(this._running=!0,this.dht.switch.handle(c.PROTOCOL_DHT,this._rpc),this.dht.switch.on("peer-mux-established",this._onPeerConnected),void t()):t(a(new Error("Can not start network"),"ERR_CANNOT_START_NETWORK"))}stop(e){const t=t=>o((()=>e(t)));if(!this.dht.isStarted&&!this.isStarted)return t(a(new Error("Network is already stopped"),"ERR_NETWORK_ALREADY_STOPPED"));this._running=!1,this.dht.switch.removeListener("peer-mux-established",this._onPeerConnected),this.dht.switch.unhandle(c.PROTOCOL_DHT),t()}get isStarted(){return this._running}get isConnected(){return this.dht.isStarted&&this.isStarted}_onPeerConnected(e){if(!this.isConnected)return this._log.error("Network is offline");this.dht.switch.dial(e,c.PROTOCOL_DHT,((t,r)=>{if(t)return this._log("%s does not support protocol: %s",e.id.toB58String(),c.PROTOCOL_DHT);n(n.empty(),r),this.dht._add(e,(t=>{if(t)return this._log.error("Failed to add to the routing table",t);this._log("added to the routing table: %s",e.id.toB58String())}))}))}sendRequest(e,t,r){if(!this.isConnected)return r(a(new Error("Network is offline"),"ERR_NETWORK_OFFLINE"));this._log("sending to: %s",e.toB58String()),this.dht.switch.dial(e,c.PROTOCOL_DHT,((e,n)=>{if(e)return r(e);this._writeReadMessage(n,t.serialize(),r)}))}sendMessage(e,t,r){if(!this.isConnected)return o((()=>r(a(new Error("Network is offline"),"ERR_NETWORK_OFFLINE"))));this._log("sending to: %s",e.toB58String()),this.dht.switch.dial(e,c.PROTOCOL_DHT,((e,n)=>{if(e)return r(e);this._writeMessage(n,t.serialize(),r)}))}_writeReadMessage(e,t,r){i(f,this.readMessageTimeout)(e,t,r)}_writeMessage(e,t,r){n(n.values([t]),s.encode(),e,n.onEnd(r))}}}}},{package:"libp2p-kad-dht",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-kad-dht/src/network.js"}],[2755,{"pull-defer":3236,"pull-handshake":3240},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("pull-handshake"),i=e("pull-defer");t.exports=class{constructor(e,t,r,s){"function"==typeof r&&(s=r,r=undefined),this.setup(),this.id.local=e,this.id.remote=t,this.key.local=e.privKey,this.timeout=r||6e4,s=s||(()=>{}),this.secure=i.duplex(),this.stream=n({timeout:this.timeout},s),this.shake=this.stream.handshake,delete this.stream.handshake}setup(){this.id={local:null,remote:null},this.key={local:null,remote:null},this.shake=null,this.cleanSecrets()}cleanSecrets(){this.shared={},this.ephemeralKey={local:null,remote:null},this.proposal={in:null,out:null},this.proposalEncoded={in:null,out:null},this.protocols={local:null,remote:null},this.exchange={in:null,out:null}}}}}},{package:"libp2p-secio",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-secio/src/state.js"}],[2751,{"./exchange":2749,"./finish":2750,"./propose":2752,"async/series":1343},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("async/series"),i=e("./propose"),s=e("./exchange"),o=e("./finish");t.exports=function(e,t){return n([t=>i(e,t),t=>s(e,t),t=>o(e,t)],(r=>{e.cleanSecrets(),r&&(!0===r&&(r=new Error("Stream ended prematurely")),e.shake.abort(r)),t(r)})),e.stream}}}},{package:"libp2p-secio",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-secio/src/handshake/index.js"}],[2785,{"./listener":2786,"./utils":2787,"async/setImmediate":1344,"class-is":1687,debug:1828,events:1660,"interface-connection":2257,mafmt:2965,multiaddr:2984,"peer-id":3195,"peer-info":3196},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("debug")("libp2p:websocket-star"),i=e("multiaddr"),s=e("events").EventEmitter,o=e("peer-id"),a=e("peer-info"),u=e("interface-connection").Connection,c=e("async/setImmediate"),l=e("./utils"),h=e("./listener"),f=l.cleanUrlSIO,d=e("mafmt"),p=e("class-is");t.exports=p(class{constructor(e){e=e||{},this.id=e.id,this.flag=e.allowJoinWithDisabledChallenge,this.discovery=new s,this.discovery.tag="websocketStar",this.discovery.start=e=>{c(e)},this.discovery.stop=e=>{c(e)},this.listeners_list={},this._peerDiscovered=this._peerDiscovered.bind(this)}lazySetId(e){e&&(this.id=e,this.canCrypto=!0)}dial(e,t,r){let n;"function"==typeof t&&(r=t,t={});try{n=f(e)}catch(e){return r(e)}const i=this.listeners_list[n];return i?i.dial(e,t,r):(r(new Error("No listener for this server")),new u)}createListener(e,t){"function"==typeof e&&(t=e,e={});const r=new h({id:this.id,handler:t,listeners:this.listeners_list,flag:this.flag});return r.on("peer",this._peerDiscovered),r}filter(e){return Array.isArray(e)||(e=[e]),e.filter((e=>d.WebSocketStar.matches(e)))}_peerDiscovered(e){n("Peer Discovered:",e);const t=e.split("/ipfs/").pop(),r=o.createFromB58String(t),s=new a(r);s.multiaddrs.add(i(e)),this.discovery.emit("peer",s)}},{className:"WebsocketStar",symbolName:"@libp2p/js-libp2p-websocket-star/websocketstar"})}}},{package:"libp2p-websocket-star",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-websocket-star/src/index.js"}],[3954,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n,i;self.mozRTCPeerConnection||navigator.mozGetUserMedia?(n="moz",i=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)):(self.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(n="webkit",i=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10));var s=self.RTCPeerConnection||self.mozRTCPeerConnection||self.webkitRTCPeerConnection,o=self.mozRTCIceCandidate||self.RTCIceCandidate,a=self.mozRTCSessionDescription||self.RTCSessionDescription,u=self.webkitMediaStream||self.MediaStream,c="https:"===self.location.protocol&&("webkit"===n&&i>=26||"moz"===n&&i>=33),l=self.AudioContext||self.webkitAudioContext,h=self.document&&document.createElement("video"),f=h&&h.canPlayType&&"probably"===h.canPlayType('video/webm; codecs="vp8", vorbis'),d=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;t.exports={prefix:n,browserVersion:i,support:!!s&&!!d,supportRTCPeerConnection:!!s,supportVp8:f,supportGetUserMedia:!!d,supportDataChannel:!!(s&&s.prototype&&s.prototype.createDataChannel),supportWebAudio:!(!l||!l.prototype.createMediaStreamSource),supportMediaStream:!(!u||!u.prototype.removeTrack),supportScreenSharing:!!c,AudioContext:l,PeerConnection:s,SessionDescription:a,IceCandidate:o,MediaStream:u,getUserMedia:d}}}},{package:"webrtcsupport",file:"/Users/mac/code/metamask-extension/node_modules/webrtcsupport/index-browser.js"}],[2782,{multiaddr:2984},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("multiaddr");(r=t.exports).cleanUrlSIO=function(e){const t=e.toString().split("/"),r=e.protos()[1].name,i=e.protos()[2].name,s=e.stringTuples()[1][1];if("tcp"!==r||"ws"!==i&&"wss"!==i)throw new Error("invalid multiaddr: "+e.toString());return n.isName(e)?"ws"===i?"http://"+t[2]+(80===s?"":":"+s):"wss"===i?"https://"+t[2]+(443===s?"":":"+s):void 0:"http://"+t[2]+":"+t[4]},r.cleanMultiaddr=function(e){const t="/libp2p-webrtc-star";if(-1!==e.indexOf(t)){e=e.substring(t.length,e.length);let r=n(e);const i=r.stringTuples().filter((e=>421===e[0]))[0];r=r.decapsulate("ipfs"),r=r.encapsulate("/p2p-webrtc-star"),r=r.encapsulate(`/ipfs/${i[1]}`),e=r.toString()}return e}}}},{package:"libp2p-webrtc-star",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-webrtc-star/src/utils.js"}],[3628,{buffer:1659,debug:1828,"get-browser-rtc":2156,inherits:2255,randombytes:3322,"readable-stream":3643},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){t.exports=c;var n=e("debug")("simple-peer"),i=e("get-browser-rtc"),s=e("inherits"),o=e("randombytes"),a=e("readable-stream"),u=65536;function c(e){var t=this;if(!(t instanceof c))return new c(e);if(t._id=o(4).toString("hex").slice(0,7),t._debug("new peer %o",e),e=Object.assign({allowHalfOpen:!1},e),a.Duplex.call(t,e),t.channelName=e.initiator?e.channelName||o(20).toString("hex"):null,t.initiator=e.initiator||!1,t.channelConfig=e.channelConfig||c.channelConfig,t.config=Object.assign({},c.config,e.config),t.offerOptions=e.offerOptions||{},t.answerOptions=e.answerOptions||{},t.sdpTransform=e.sdpTransform||function(e){return e},t.streams=e.streams||(e.stream?[e.stream]:[]),t.trickle=e.trickle===undefined||e.trickle,t.allowHalfTrickle=e.allowHalfTrickle!==undefined&&e.allowHalfTrickle,t.iceCompleteTimeout=e.iceCompleteTimeout||5e3,t.destroyed=!1,t._connected=!1,t.remoteAddress=undefined,t.remoteFamily=undefined,t.remotePort=undefined,t.localAddress=undefined,t.localFamily=undefined,t.localPort=undefined,t._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:i(),!t._wrtc)throw"undefined"==typeof window?h("No WebRTC support: Specify `opts.wrtc` option in this environment","ERR_WEBRTC_SUPPORT"):h("No WebRTC support: Not a supported browser","ERR_WEBRTC_SUPPORT");t._pcReady=!1,t._channelReady=!1,t._iceComplete=!1,t._iceCompleteTimer=null,t._channel=null,t._pendingCandidates=[],t._isNegotiating=!t.initiator,t._batchedNegotiation=!1,t._queuedNegotiation=!1,t._sendersAwaitingStable=[],t._senderMap=new Map,t._firstStable=!0,t._closingInterval=null,t._remoteTracks=[],t._remoteStreams=[],t._chunk=null,t._cb=null,t._interval=null;try{t._pc=new t._wrtc.RTCPeerConnection(t.config)}catch(e){return void setTimeout((()=>t.destroy(e)),0)}t._isReactNativeWebrtc="number"==typeof t._pc._peerConnectionId,t._pc.oniceconnectionstatechange=function(){t._onIceStateChange()},t._pc.onicegatheringstatechange=function(){t._onIceStateChange()},t._pc.onsignalingstatechange=function(){t._onSignalingStateChange()},t._pc.onicecandidate=function(e){t._onIceCandidate(e)},t.initiator?t._setupData({channel:t._pc.createDataChannel(t.channelName,t.channelConfig)}):t._pc.ondatachannel=function(e){t._setupData(e)},t.streams&&t.streams.forEach((function(e){t.addStream(e)})),t._pc.ontrack=function(e){t._onTrack(e)},t.initiator&&t._needsNegotiation(),t._onFinishBound=function(){t._onFinish()},t.once("finish",t._onFinishBound)}function l(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function h(e,t){var r=new Error(e);return r.code=t,r}s(c,a.Duplex),c.WEBRTC_SUPPORT=!!i(),c.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}],sdpSemantics:"unified-plan"},c.channelConfig={},Object.defineProperty(c.prototype,"bufferSize",{get:function(){return this._channel&&this._channel.bufferedAmount||0}}),Object.defineProperty(c.prototype,"connected",{get:function(){return this._connected&&"open"===this._channel.readyState}}),c.prototype.address=function(){var e=this;return{port:e.localPort,family:e.localFamily,address:e.localAddress}},c.prototype.signal=function(e){var t=this;if(t.destroyed)throw h("cannot signal after peer is destroyed","ERR_SIGNALING");if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}t._debug("signal()"),e.renegotiate&&t.initiator&&(t._debug("got request to renegotiate"),t._needsNegotiation()),e.transceiverRequest&&t.initiator&&(t._debug("got request for transceiver"),t.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(t._pc.localDescription&&t._pc.localDescription.type&&t._pc.remoteDescription&&t._pc.remoteDescription.type?t._addIceCandidate(e.candidate):t._pendingCandidates.push(e.candidate)),e.sdp&&t._pc.setRemoteDescription(new t._wrtc.RTCSessionDescription(e)).then((function(){t.destroyed||(t._pendingCandidates.forEach((function(e){t._addIceCandidate(e)})),t._pendingCandidates=[],"offer"===t._pc.remoteDescription.type&&t._createAnswer())})).catch((function(e){t.destroy(h(e,"ERR_SET_REMOTE_DESCRIPTION"))})),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||t.destroy(h("signal() called with invalid signal data","ERR_SIGNALING"))},c.prototype._addIceCandidate=function(e){var t=this,r=new t._wrtc.RTCIceCandidate(e);t._pc.addIceCandidate(r).catch((function(e){var n;!r.address||r.address.endsWith(".local")?(n="Ignoring unsupported ICE candidate.",console.warn(n)):t.destroy(h(e,"ERR_ADD_ICE_CANDIDATE"))}))},c.prototype.send=function(e){this._channel.send(e)},c.prototype.addTransceiver=function(e,t){var r=this;if(r._debug("addTransceiver()"),r.initiator)try{r._pc.addTransceiver(e,t),r._needsNegotiation()}catch(e){r.destroy(e)}else r.emit("signal",{transceiverRequest:{kind:e,init:t}})},c.prototype.addStream=function(e){var t=this;t._debug("addStream()"),e.getTracks().forEach((function(r){t.addTrack(r,e)}))},c.prototype.addTrack=function(e,t){var r=this;r._debug("addTrack()");var n=r._senderMap.get(e)||new Map,i=n.get(t);i?i.removed?r.destroy(h("Track has been removed. You should enable/disable tracks that you want to re-add.","ERR_SENDER_REMOVED")):r.destroy(h("Track has already been added to that stream.","ERR_SENDER_ALREADY_ADDED")):(i=r._pc.addTrack(e,t),n.set(t,i),r._senderMap.set(e,n),r._needsNegotiation())},c.prototype.replaceTrack=function(e,t,r){var n=this;n._debug("replaceTrack()");var i=n._senderMap.get(e),s=i?i.get(r):null;s||n.destroy(h("Cannot replace track that was never added.","ERR_TRACK_NOT_ADDED")),t&&n._senderMap.set(t,i),null!=s.replaceTrack?s.replaceTrack(t):n.destroy(h("replaceTrack is not supported in this browser","ERR_UNSUPPORTED_REPLACETRACK"))},c.prototype.removeTrack=function(e,t){var r=this;r._debug("removeSender()");var n=r._senderMap.get(e),i=n?n.get(t):null;i||r.destroy(h("Cannot remove track that was never added.","ERR_TRACK_NOT_ADDED"));try{i.removed=!0,r._pc.removeTrack(i)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?r._sendersAwaitingStable.push(i):r.destroy(e)}r._needsNegotiation()},c.prototype.removeStream=function(e){var t=this;t._debug("removeSenders()"),e.getTracks().forEach((function(r){t.removeTrack(r,e)}))},c.prototype._needsNegotiation=function(){var e=this;e._debug("_needsNegotiation"),e._batchedNegotiation||(e._batchedNegotiation=!0,setTimeout((function(){e._batchedNegotiation=!1,e._debug("starting batched negotiation"),e.negotiate()}),0))},c.prototype.negotiate=function(){var e=this;e.initiator?e._isNegotiating?(e._queuedNegotiation=!0,e._debug("already negotiating, queueing")):(e._debug("start negotiation"),setTimeout((()=>{e._createOffer()}),0)):e._isNegotiating||(e._debug("requesting negotiation from initiator"),e.emit("signal",{renegotiate:!0})),e._isNegotiating=!0},c.prototype.destroy=function(e){this._destroy(e,(function(){}))},c.prototype._destroy=function(e,t){var r=this;if(!r.destroyed){if(r._debug("destroy (error: %s)",e&&(e.message||e)),r.readable=r.writable=!1,r._readableState.ended||r.push(null),r._writableState.finished||r.end(),r.destroyed=!0,r._connected=!1,r._pcReady=!1,r._channelReady=!1,r._remoteTracks=null,r._remoteStreams=null,r._senderMap=null,clearInterval(r._closingInterval),r._closingInterval=null,clearInterval(r._interval),r._interval=null,r._chunk=null,r._cb=null,r._onFinishBound&&r.removeListener("finish",r._onFinishBound),r._onFinishBound=null,r._channel){try{r._channel.close()}catch(e){}r._channel.onmessage=null,r._channel.onopen=null,r._channel.onclose=null,r._channel.onerror=null}if(r._pc){try{r._pc.close()}catch(e){}r._pc.oniceconnectionstatechange=null,r._pc.onicegatheringstatechange=null,r._pc.onsignalingstatechange=null,r._pc.onicecandidate=null,r._pc.ontrack=null,r._pc.ondatachannel=null}r._pc=null,r._channel=null,e&&r.emit("error",e),r.emit("close"),t()}},c.prototype._setupData=function(e){var t=this;if(!e.channel)return t.destroy(h("Data channel event is missing `channel` property","ERR_DATA_CHANNEL"));t._channel=e.channel,t._channel.binaryType="arraybuffer","number"==typeof t._channel.bufferedAmountLowThreshold&&(t._channel.bufferedAmountLowThreshold=u),t.channelName=t._channel.label,t._channel.onmessage=function(e){t._onChannelMessage(e)},t._channel.onbufferedamountlow=function(){t._onChannelBufferedAmountLow()},t._channel.onopen=function(){t._onChannelOpen()},t._channel.onclose=function(){t._onChannelClose()},t._channel.onerror=function(e){t.destroy(h(e,"ERR_DATA_CHANNEL"))};var r=!1;t._closingInterval=setInterval((function(){t._channel&&"closing"===t._channel.readyState?(r&&t._onChannelClose(),r=!0):r=!1}),5e3)},c.prototype._read=function(){},c.prototype._write=function(e,t,r){var n=this;if(n.destroyed)return r(h("cannot write after peer is destroyed","ERR_DATA_CHANNEL"));if(n._connected){try{n.send(e)}catch(e){return n.destroy(h(e,"ERR_DATA_CHANNEL"))}n._channel.bufferedAmount>u?(n._debug("start backpressure: bufferedAmount %d",n._channel.bufferedAmount),n._cb=r):r(null)}else n._debug("write before connect"),n._chunk=e,n._cb=r},c.prototype._onFinish=function(){var e=this;function t(){setTimeout((function(){e.destroy()}),1e3)}e.destroyed||(e._connected?t():e.once("connect",t))},c.prototype._startIceCompleteTimeout=function(){var e=this;e.destroyed||e._iceCompleteTimer||(e._debug("started iceComplete timeout"),e._iceCompleteTimer=setTimeout((function(){e._iceComplete||(e._iceComplete=!0,e._debug("iceComplete timeout completed"),e.emit("iceTimeout"),e.emit("_iceComplete"))}),e.iceCompleteTimeout))},c.prototype._createOffer=function(){var e=this;e.destroyed||e._pc.createOffer(e.offerOptions).then((function(t){function r(){if(!e.destroyed){var r=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:r.type,sdp:r.sdp})}}e.destroyed||(e.trickle||e.allowHalfTrickle||(t.sdp=l(t.sdp)),t.sdp=e.sdpTransform(t.sdp),e._pc.setLocalDescription(t).then((function(){if(e._debug("createOffer success"),e.destroyed)return;e.trickle||e._iceComplete?r():e.once("_iceComplete",r)})).catch((function(t){e.destroy(h(t,"ERR_SET_LOCAL_DESCRIPTION"))})))})).catch((function(t){e.destroy(h(t,"ERR_CREATE_OFFER"))}))},c.prototype._requestMissingTransceivers=function(){var e=this;e._pc.getTransceivers&&e._pc.getTransceivers().forEach((t=>{t.mid||!t.sender.track||t.requested||(t.requested=!0,e.addTransceiver(t.sender.track.kind))}))},c.prototype._createAnswer=function(){var e=this;e.destroyed||e._pc.createAnswer(e.answerOptions).then((function(t){function r(){if(!e.destroyed){var r=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:r.type,sdp:r.sdp}),e.initiator||e._requestMissingTransceivers()}}e.destroyed||(e.trickle||e.allowHalfTrickle||(t.sdp=l(t.sdp)),t.sdp=e.sdpTransform(t.sdp),e._pc.setLocalDescription(t).then((function(){if(e.destroyed)return;e.trickle||e._iceComplete?r():e.once("_iceComplete",r)})).catch((function(t){e.destroy(h(t,"ERR_SET_LOCAL_DESCRIPTION"))})))})).catch((function(t){e.destroy(h(t,"ERR_CREATE_ANSWER"))}))},c.prototype._onIceStateChange=function(){var e=this;if(!e.destroyed){var t=e._pc.iceConnectionState,r=e._pc.iceGatheringState;e._debug("iceStateChange (connection: %s) (gathering: %s)",t,r),e.emit("iceStateChange",t,r),"connected"!==t&&"completed"!==t||(e._pcReady=!0,e._maybeReady()),"failed"===t&&e.destroy(h("Ice connection failed.","ERR_ICE_CONNECTION_FAILURE")),"closed"===t&&e.destroy(h("Ice connection closed.","ERR_ICE_CONNECTION_CLOSED"))}},c.prototype.getStats=function(e){var t=this;function r(e){return"[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach((function(t){Object.assign(e,t)})),e}0===t._pc.getStats.length?t._pc.getStats().then((function(t){var n=[];t.forEach((function(e){n.push(r(e))})),e(null,n)}),(function(t){e(t)})):t._isReactNativeWebrtc?t._pc.getStats(null,(function(t){var n=[];t.forEach((function(e){n.push(r(e))})),e(null,n)}),(function(t){e(t)})):t._pc.getStats.length>0?t._pc.getStats((function(n){if(!t.destroyed){var i=[];n.result().forEach((function(e){var t={};e.names().forEach((function(r){t[r]=e.stat(r)})),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,i.push(r(t))})),e(null,i)}}),(function(t){e(t)})):e(null,[])},c.prototype._maybeReady=function(){var e=this;e._debug("maybeReady pc %s channel %s",e._pcReady,e._channelReady),!e._connected&&!e._connecting&&e._pcReady&&e._channelReady&&(e._connecting=!0,function t(){e.destroyed||e.getStats((function(r,n){if(!e.destroyed){r&&(n=[]);var i={},s={},o={},a=!1;if(n.forEach((function(e){"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(i[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(s[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(o[e.id]=e)})),n.forEach((function(e){"transport"===e.type&&e.selectedCandidatePairId&&c(o[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&c(e)})),a||Object.keys(o).length&&!Object.keys(s).length){if(e._connecting=!1,e._connected=!0,e._chunk){try{e.send(e._chunk)}catch(r){return e.destroy(h(r,"ERR_DATA_CHANNEL"))}e._chunk=null,e._debug('sent chunk from "write before connect"');var u=e._cb;e._cb=null,u(null)}"number"!=typeof e._channel.bufferedAmountLowThreshold&&(e._interval=setInterval((function(){e._onInterval()}),150),e._interval.unref&&e._interval.unref()),e._debug("connect"),e.emit("connect")}else setTimeout(t,100)}function c(t){a=!0;var r=s[t.localCandidateId];r&&(r.ip||r.address)?(e.localAddress=r.ip||r.address,e.localPort=Number(r.port)):r&&r.ipAddress?(e.localAddress=r.ipAddress,e.localPort=Number(r.portNumber)):"string"==typeof t.googLocalAddress&&(r=t.googLocalAddress.split(":"),e.localAddress=r[0],e.localPort=Number(r[1])),e.localAddress&&(e.localFamily=e.localAddress.includes(":")?"IPv6":"IPv4");var n=i[t.remoteCandidateId];n&&(n.ip||n.address)?(e.remoteAddress=n.ip||n.address,e.remotePort=Number(n.port)):n&&n.ipAddress?(e.remoteAddress=n.ipAddress,e.remotePort=Number(n.portNumber)):"string"==typeof t.googRemoteAddress&&(n=t.googRemoteAddress.split(":"),e.remoteAddress=n[0],e.remotePort=Number(n[1])),e.remoteAddress&&(e.remoteFamily=e.remoteAddress.includes(":")?"IPv6":"IPv4"),e._debug("connect local: %s:%s remote: %s:%s",e.localAddress,e.localPort,e.remoteAddress,e.remotePort)}}))}())},c.prototype._onInterval=function(){var e=this;!e._cb||!e._channel||e._channel.bufferedAmount>u||e._onChannelBufferedAmountLow()},c.prototype._onSignalingStateChange=function(){var e=this;e.destroyed||("stable"!==e._pc.signalingState||e._firstStable||(e._isNegotiating=!1,e._debug("flushing sender queue",e._sendersAwaitingStable),e._sendersAwaitingStable.forEach((function(t){e._pc.removeTrack(t),e._queuedNegotiation=!0})),e._sendersAwaitingStable=[],e._queuedNegotiation&&(e._debug("flushing negotiation queue"),e._queuedNegotiation=!1,e._needsNegotiation()),e._debug("negotiate"),e.emit("negotiate")),e._firstStable=!1,e._debug("signalingStateChange %s",e._pc.signalingState),e.emit("signalingStateChange",e._pc.signalingState))},c.prototype._onIceCandidate=function(e){var t=this;t.destroyed||(e.candidate&&t.trickle?t.emit("signal",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||t._iceComplete||(t._iceComplete=!0,t.emit("_iceComplete")),e.candidate&&t._startIceCompleteTimeout())},c.prototype._onChannelMessage=function(e){if(!this.destroyed){var t=e.data;t instanceof ArrayBuffer&&(t=r.from(t)),this.push(t)}},c.prototype._onChannelBufferedAmountLow=function(){var e=this;if(!e.destroyed&&e._cb){e._debug("ending backpressure: bufferedAmount %d",e._channel.bufferedAmount);var t=e._cb;e._cb=null,t(null)}},c.prototype._onChannelOpen=function(){var e=this;e._connected||e.destroyed||(e._debug("on channel open"),e._channelReady=!0,e._maybeReady())},c.prototype._onChannelClose=function(){var e=this;e.destroyed||(e._debug("on channel close"),e.destroy())},c.prototype._onTrack=function(e){var t=this;t.destroyed||e.streams.forEach((function(r){t._debug("on track"),t.emit("track",e.track,r),t._remoteTracks.push({track:e.track,stream:r}),t._remoteStreams.some((function(e){return e.id===r.id}))||(t._remoteStreams.push(r),setTimeout((function(){t.emit("stream",r)}),0))}))},c.prototype._debug=function(){var e=this,t=[].slice.call(arguments);t[0]="["+e._id+"] "+t[0],n.apply(null,t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"simple-peer",file:"/Users/mac/code/metamask-extension/node_modules/simple-peer/index.js"}],[3646,{"./manager":3647,"./socket":3649,"./url":3650,debug:3651,"socket.io-parser":3655},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./url"),i=e("socket.io-parser"),s=e("./manager"),o=e("debug")("socket.io-client");t.exports=r=u;var a=r.managers={};function u(e,t){"object"==typeof e&&(t=e,e=undefined),t=t||{};var r,i=n(e),u=i.source,c=i.id,l=i.path,h=a[c]&&l in a[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||h?(o("ignoring socket cache for %s",u),r=s(u,t)):(a[c]||(o("new io instance for %s",u),a[c]=s(u,t)),r=a[c]),i.query&&!t.query&&(t.query=i.query),r.socket(i.path,t)}r.protocol=i.protocol,r.connect=u,r.Manager=e("./manager"),r.Socket=e("./socket")}}},{package:"socket.io-client",file:"/Users/mac/code/metamask-extension/node_modules/socket.io-client/lib/index.js"}],[2793,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.messages={NOT_STARTED_YET:"The libp2p node is not started yet",DHT_DISABLED:"DHT is not available"},r.codes={DHT_DISABLED:"ERR_DHT_DISABLED",PUBSUB_NOT_STARTED:"ERR_PUBSUB_NOT_STARTED",ERR_NODE_NOT_STARTED:"ERR_NODE_NOT_STARTED",ERR_DISCOVERED_SELF:"ERR_DISCOVERED_SELF"}}}},{package:"libp2p",file:"/Users/mac/code/metamask-extension/node_modules/libp2p/src/errors.js"}],[2790,{superstruct:3727},function(){with(this)return function(){"use strict";return function(e,t,r){const{struct:n,superstruct:i}=e("superstruct"),{optional:s,list:o}=n,a=i(),u=a.union([a.interface({createListener:"function",dial:"function"}),"function"]),c=a({connEncryption:s(o([a("object|function")])),connProtector:a.union(["undefined",a.interface({protect:"function"})]),contentRouting:s(o(["object"])),dht:s(a("null|function|object")),peerDiscovery:s(o([a("object|function")])),peerRouting:s(o(["object"])),streamMuxer:s(o([a("object|function")])),transport:a.intersection([[u],a.interface({length:e=>e>0||"ERROR_EMPTY"})])}),l=a({peerDiscovery:a("object",{autoDial:!0}),relay:a({enabled:"boolean",hop:s(a({enabled:"boolean",active:"boolean"},{enabled:!1,active:!1}))},{enabled:!0}),dht:a("object?",{enabled:!1,kBucketSize:20,randomWalk:{enabled:!1,queriesPerPeriod:1,interval:3e5,timeout:1e4}}),EXPERIMENTAL:a({pubsub:"boolean"},{pubsub:!1})},{}),h=a({switch:"object?",connectionManager:a("object",{minPeers:25}),datastore:"object?",peerInfo:"object",peerBook:"object?",modules:c,config:l});t.exports.validate=e=>{const[t,r]=h.validate(e);if(t)throw new Error(`${t.message}${t.reason?" - "+t.reason:""}`);return r.config.dht.enabled&&a("function|object")(r.modules.dht),r.config.peerDiscovery.autoDial===undefined&&(r.config.peerDiscovery.autoDial=!0),r}}}},{package:"libp2p",file:"/Users/mac/code/metamask-extension/node_modules/libp2p/src/config.js"}],[2794,{"err-code":1920,multiaddr:2984,"peer-id":3195,"peer-info":3196},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("peer-id"),i=e("peer-info"),s=e("multiaddr"),o=e("err-code");t.exports=e=>function(t,r){let a;if(i.isPeerInfo(t))a=t;else if(s.isMultiaddr(t)||"string"==typeof t){if("string"==typeof t)try{t=s(t)}catch(e){return r(o(e,"ERR_INVALID_MULTIADDR"))}const u=t.getPeerId();if(!u)return r(o(new Error("peer multiaddr instance or string must include peerId"),"ERR_INVALID_MULTIADDR"));try{a=e.peerBook.get(u)}catch(e){a=new i(n.createFromB58String(u))}a.multiaddrs.add(t)}else{if(!n.isPeerId(t))return r(o(new Error(`${a} is not a valid peer type`),"ERR_INVALID_PEER_TYPE"));{const n=t.toB58String();try{a=e.peerBook.get(n)}catch(n){return e.peerRouting.findPeer(t,r)}}}r(null,a)}}}},{package:"libp2p",file:"/Users/mac/code/metamask-extension/node_modules/libp2p/src/get-peer-info.js"}],[2796,{"async/tryEach":1349,"err-code":1920},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("async/tryEach"),i=e("err-code");t.exports=e=>{const t=e._modules.peerRouting||[];return e._dht&&t.unshift(e._dht),{findPeer:(e,r,s)=>{"function"==typeof r&&(s=r,r={}),t.length||s(i(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE"));const o=t.map((t=>n=>t.findPeer(e,r,((e,t)=>e?n(e):t&&0!==Object.keys(t).length?void n(null,t):n(i(new Error("not found"),"NOT_FOUND"),null)))));n(o,((e,t)=>{if(e)return s(e);s(null,t=t||[])}))}}}}}},{package:"libp2p",file:"/Users/mac/code/metamask-extension/node_modules/libp2p/src/peer-routing.js"}],[2792,{"./errors":2793,"async/nextTick":1338,"err-code":1920},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("async/nextTick"),i=e("err-code"),{messages:s,codes:o}=e("./errors");t.exports=e=>({put:(t,r,a)=>{if(!e._dht)return n(a,i(new Error(s.DHT_DISABLED),o.DHT_DISABLED));e._dht.put(t,r,a)},get:(t,r,a)=>{if("function"==typeof r&&(a=r,r={}),!e._dht)return n(a,i(new Error(s.DHT_DISABLED),o.DHT_DISABLED));e._dht.get(t,r,a)},getMany:(t,r,a,u)=>{if("function"==typeof a&&(u=a,a={}),!e._dht)return n(u,i(new Error(s.DHT_DISABLED),o.DHT_DISABLED));e._dht.getMany(t,r,a,u)}})}}},{package:"libp2p",file:"/Users/mac/code/metamask-extension/node_modules/libp2p/src/dht.js"}],[2798,{once:3069},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("once");t.exports.emitFirst=function(e,t,r){r=n(r),t.forEach((n=>{e.once(n,((...n)=>{t.forEach((t=>{e.removeListener(t,r)})),r.apply(e,n)}))}))}}}},{package:"libp2p",file:"/Users/mac/code/metamask-extension/node_modules/libp2p/src/util/index.js"}],[2791,{"async/parallel":1339,"async/tryEach":1349,"err-code":1920},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("async/tryEach"),i=e("async/parallel"),s=e("err-code");t.exports=e=>{const t=e._modules.contentRouting||[];return e._dht&&t.unshift(e._dht),{findProviders:(e,r,i)=>{if("function"==typeof r?(i=r,r={}):"number"==typeof r&&(r={maxTimeout:r}),!t.length)return i(s(new Error("No content routers available"),"NO_ROUTERS_AVAILABLE"));const o=t.map((t=>n=>t.findProviders(e,r,((e,t)=>e?n(e):t&&0!==Object.keys(t).length?void n(null,t):n(s(new Error("not found"),"NOT_FOUND"),null)))));n(o,((e,t)=>{if(e&&"NOT_FOUND"!==e.code)return i(e);i(null,t=t||[])}))},provide:(e,r)=>{if(!t.length)return r(s(new Error("No content routers available"),"NO_ROUTERS_AVAILABLE"));i(t.map((t=>r=>t.provide(e,r))),r)}}}}}},{package:"libp2p",file:"/Users/mac/code/metamask-extension/node_modules/libp2p/src/content-routing.js"}],[2717,{"./handler":2716,"./ping":2718},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./handler");(r=t.exports=e("./ping")).mount=n.mount,r.unmount=n.unmount}}},{package:"libp2p-ping",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-ping/src/index.js"}],[2797,{"../../is-buffer/index.js":2539,"./errors":2793,"async/nextTick":1338,"err-code":1920,"libp2p-floodsub":2674},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("async/nextTick"),{messages:i,codes:s}=e("./errors"),o=e("libp2p-floodsub"),a=e("err-code");t.exports=e=>{const t=new o(e);return e._floodSub=t,{subscribe:(r,o,u,c)=>{if("function"==typeof o&&(c=u,u=o,o={}),!e.isStarted()&&!t.started)return n(c,a(new Error(i.NOT_STARTED_YET),s.PUBSUB_NOT_STARTED));var l;l=c,0===t.listenerCount(r)&&t.subscribe(r),t.on(r,u),n(l)},unsubscribe:(r,o,u)=>{if(!e.isStarted()&&!t.started)return n(u,a(new Error(i.NOT_STARTED_YET),s.PUBSUB_NOT_STARTED));o||u?t.removeListener(r,o):t.removeAllListeners(r),0===t.listenerCount(r)&&t.unsubscribe(r),"function"==typeof u&&n((()=>u()))},publish:(o,u,c)=>e.isStarted()||t.started?r.isBuffer(u)?void t.publish(o,u,c):n(c,a(new Error("data must be a Buffer"),"ERR_DATA_IS_NOT_A_BUFFER")):n(c,a(new Error(i.NOT_STARTED_YET),s.PUBSUB_NOT_STARTED)),ls:r=>{if(!e.isStarted()&&!t.started)return n(r,a(new Error(i.NOT_STARTED_YET),s.PUBSUB_NOT_STARTED));const o=Array.from(t.subscriptions);n((()=>r(null,o)))},peers:(r,o)=>{if(!e.isStarted()&&!t.started)return n(o,a(new Error(i.NOT_STARTED_YET),s.PUBSUB_NOT_STARTED));"function"==typeof r&&(o=r,r=null);const u=Array.from(t.peers.values()).filter((e=>!r||e.topics.has(r))).map((e=>e.info.id.toB58String()));n((()=>o(null,u)))},setMaxListeners:e=>t.setMaxListeners(e)}}}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"libp2p",file:"/Users/mac/code/metamask-extension/node_modules/libp2p/src/pubsub.js"}],[2640,{debug:1828,events:1660,"latency-monitor":2617},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("events"),i=e("latency-monitor").default,s=e("debug")("libp2p:connection-manager"),o={maxPeers:Infinity,minPeers:0,maxData:Infinity,maxSentData:Infinity,maxReceivedData:Infinity,maxEventLoopDelay:Infinity,pollInterval:2e3,movingAverageInterval:6e4,defaultPeerValue:1};function a(e,t){return e[1]-t[1]}function u(e){return e.name.toLowerCase()}t.exports=class extends n{constructor(e,t){if(super(),this._libp2p=e,this._options=Object.assign({},o,t),this._options.maxPeersPerProtocol=function(e){e||(e={});return Object.keys(e).forEach((t=>{const r=e[t];delete e[t],e[t.toLowerCase()]=r})),e}(this._options.maxPeersPerProtocol),s("options: %j",this._options),this._stats=e.stats,t&&!this._stats)throw new Error("No libp2p.stats");this._peerValues=new Map,this._peers=new Map,this._peerProtocols=new Map,this._peerCountPerProtocol=new Map,this._onStatsUpdate=this._onStatsUpdate.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this),this._onPeerDisconnect=this._onPeerDisconnect.bind(this),this._libp2p.isStarted()?this._onceStarted():this._libp2p.once("start",this._onceStarted.bind(this))}start(){this._stats.on("update",this._onStatsUpdate),this._libp2p.on("connection:start",this._onPeerConnect),this._libp2p.on("connection:end",this._onPeerDisconnect),this._latencyMonitor=new i({dataEmitIntervalMs:this._options.pollInterval}),this._onLatencyMeasure=this._onLatencyMeasure.bind(this),this._latencyMonitor.on("data",this._onLatencyMeasure)}stop(){this._stats.removeListener("update",this._onStatsUpdate),this._libp2p.removeListener("connection:start",this._onPeerConnect),this._libp2p.removeListener("connection:end",this._onPeerDisconnect),this._latencyMonitor.removeListener("data",this._onLatencyMeasure)}setPeerValue(e,t){if(t<0||t>1)throw new Error("value should be a number between 0 and 1");e.toB58String&&(e=e.toB58String()),this._peerValues.set(e,t)}_onceStarted(){this._peerId=this._libp2p.peerInfo.id.toB58String()}_onStatsUpdate(){const e=this._stats.global.movingAverages,t=e.dataReceived[this._options.movingAverageInterval].movingAverage();this._checkLimit("maxReceivedData",t);const r=e.dataSent[this._options.movingAverageInterval].movingAverage();this._checkLimit("maxSentData",r);const n=t+r;this._checkLimit("maxData",n),s("stats update",n)}_onPeerConnect(e){const t=e.id.toB58String();s("%s: connected to %s",this._peerId,t),this._peerValues.set(t,this._options.defaultPeerValue),this._peers.set(t,e),this.emit("connected",t),this._checkLimit("maxPeers",this._peers.size),function(e){const t=new Set;return e.multiaddrs.forEach((e=>{e.protos().map(u).forEach((e=>{t.add(e)}))})),Array.from(t)}(e).forEach((e=>{this._peerCountPerProtocol[e]||(this._peerCountPerProtocol[e]=0),this._peerCountPerProtocol[e]++;let r=this._peerProtocols[t];r||(r=this._peerProtocols[t]=new Set),r.add(e),this._checkProtocolMaxPeersLimit(e,this._peerCountPerProtocol[e])}))}_onPeerDisconnect(e){const t=e.id.toB58String();s("%s: disconnected from %s",this._peerId,t),this._peerValues.delete(t),this._peers.delete(t);const r=this._peerProtocols[t];r&&Array.from(r).forEach((e=>{this._peerCountPerProtocol[e]&&this._peerCountPerProtocol[e]--})),this.emit("disconnected",t)}_onLatencyMeasure(e){this._checkLimit("maxEventLoopDelay",e.avgMs)}_checkLimit(e,t){const r=this._options[e];s("checking limit of %s. current value: %d of %d",e,t,r),t>r&&(s("%s: limit exceeded: %s, %d",this._peerId,e,t),this.emit("limit:exceeded",e,t),this._maybeDisconnectOne())}_checkProtocolMaxPeersLimit(e,t){s("checking protocol limit. current value of %s is %d",e,t);t>this._options.maxPeersPerProtocol[e]&&(s("%s: protocol max peers limit exceeded: %s, %d",this._peerId,e,t),this.emit("limit:exceeded",e,t),this._maybeDisconnectOne())}_maybeDisconnectOne(){if(this._options.minPeers<this._peerValues.size){const e=Array.from(this._peerValues).sort(a);s("%s: sorted peer values: %j",this._peerId,e);const t=e[0];if(t){const e=t[0];s("%s: lowest value peer is %s",this._peerId,e),s("%s: forcing disconnection from %j",this._peerId,e),this._disconnectPeer(e)}}}_disconnectPeer(e){s("preemptively disconnecting peer",e),this.emit("%s: disconnect:preemptive",this._peerId,e);const t=this._peers.get(e);this._libp2p.hangUp(t,(e=>{e&&this.emit("error",e)}))}}}}},{package:"libp2p-connection-manager",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-connection-manager/src/index.js"}],[2769,{"./connection/handler":2759,"./connection/manager":2762,"./dialer":2764,"./errors":2767,"./get-peer-info":2768,"./observer":2773,"./plaintext":2774,"./protocol-muxer":2775,"./stats":2776,"./transport":2779,assert:1270,"async/each":1304,"async/eachSeries":1309,"async/series":1343,debug:1828,events:1660,"fsm-event":2151,"libp2p-circuit":2636},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("fsm-event"),i=e("events").EventEmitter,s=e("async/each"),o=e("async/eachSeries"),a=e("async/series"),u=e("libp2p-circuit"),c=e("./transport"),l=e("./connection/manager"),h=e("./get-peer-info"),f=e("./dialer"),d=e("./connection/handler"),p=e("./protocol-muxer"),m=e("./plaintext"),g=e("./observer"),y=e("./stats"),b=e("assert"),v=e("./errors"),_=e("debug"),w=_("libp2p:switch");w.error=_("libp2p:switch:error");t.exports=class extends i{constructor(e,t,r){super(),b(e,"You must provide a `peerInfo`"),b(t,"You must provide a `peerBook`"),this._peerInfo=e,this._peerBook=t,this._options=r||{},this.setMaxListeners(Infinity),this.transports={},this.conns={},this.protocols={},this.muxers={},this.identify=!1,this.crypto=m,this.protector=this._options.protector||null,this.transport=new c(this),this.connection=new l(this),this.observer=g(this),this.stats=y(this.observer,this._options.stats),this.protocolMuxer=p(this.protocols,this.observer),this._connectionHandler=d(this),this.state=new n("STOPPED",{STOPPED:{start:"STARTING",stop:"STOPPING"},STARTING:{done:"STARTED",stop:"STOPPING"},STARTED:{stop:"STOPPING",start:"STARTED"},STOPPING:{stop:"STOPPING",done:"STOPPED"}}),this.state.on("STARTING",(()=>{w("The switch is starting"),this._onStarting()})),this.state.on("STOPPING",(()=>{w("The switch is stopping"),this._onStopping()})),this.state.on("STARTED",(()=>{w("The switch has started"),this.emit("start")})),this.state.on("STOPPED",(()=>{w("The switch has stopped"),this.emit("stop")})),this.state.on("error",(e=>{w.error(e),this.emit("error",e)})),this.dialer=f(this),this.dial=this.dialer.dial,this.dialFSM=this.dialer.dialFSM}availableTransports(e){const t=e.multiaddrs.toArray();return Object.keys(this.transports).filter((e=>this.transports[e].filter(t).length>0)).sort(((e,t)=>e===u.tag?1:t===u.tag||e<t?-1:1))}handle(e,t,r){this.protocols[e]={handlerFunc:t,matchFunc:r},this._peerInfo.protocols.add(e)}unhandle(e){this.protocols[e]&&delete this.protocols[e],this._peerInfo.protocols.delete(e)}hangUp(e,t){const r=h(e,this._peerBook).id.toB58String(),n=[...this.connection.getAllById(r)];s(n,((e,t)=>{e.once("close",t),e.close()}),t)}hasTransports(){const e=Object.keys(this.transports).filter((e=>e!==u.tag));return e&&e.length>0}start(e=(()=>{})){this.once("start",e),this.state("start")}stop(e=(()=>{})){this.once("stop",e),this.state("stop")}_onStarting(){this.stats.start(),o(this.availableTransports(this._peerInfo),((e,t)=>{this.transport.listen(e,{},null,t)}),(e=>{if(e)return w.error(e),this.emit("error",e),this.state("stop");this.state("done")}))}_onStopping(){this.stats.stop(),a([e=>{s(this.transports,((e,t)=>{s(e.listeners,((e,t)=>{e.close((e=>{e&&w.error(e),t()}))}),t)}),e)},e=>s(this.connection.getAll(),((e,t)=>{e.once("close",t),e.close()}),e)],(e=>{this.state("done")}))}},t.exports.errors=v}}},{package:"libp2p-switch",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-switch/src/index.js"}],[2416,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function s(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(r===undefined||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(n," ").concat(s(t,"type"));else{var u=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(u," ").concat(n," ").concat(s(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/node_modules/readable-stream/errors-browser.js"}],[2429,{events:1660},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("events").EventEmitter}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[2424,{_process:3204},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,s){var o=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(s?s(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!s&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(n,o):(o._writableState.errorEmitted=!0,e.nextTick(r,o,t)):e.nextTick(r,o,t):s?(e.nextTick(n,o),s(t)):e.nextTick(n,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[2428,{"../../../errors":2416},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/state.js"}],[2426,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[2423,{buffer:1659,util:1658},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=e("buffer").Buffer,a=e("util").inspect,u=a&&a.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,c;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,n,i=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=i,n=a,o.prototype.copy.call(t,r,n),a+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0==(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&s(t.prototype,r),c&&s(t,c),e}()}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[2422,{"./end-of-stream":2425,_process:3204},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=e("./end-of-stream"),o=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var r=e[f].read();null!==r&&(e[l]=null,e[o]=null,e[a]=null,t(d(r,!1)))}}function m(e){r.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(d(undefined,!0));if(this[f].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[u]?n(e[u]):t(d(undefined,!0))}))}));var n,i=this[l];if(i)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[c]?r(d(undefined,!0)):t[h](r,n)}),n)}}(i,this));else{var s=this[f].read();if(null!==s)return Promise.resolve(d(s,!1));n=new Promise(this[h])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(d(undefined,!0))}))}))})),n),g);t.exports=function(e){var t,r=Object.create(y,(i(t={},f,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var n=r[f].read();n?(r[l]=null,r[o]=null,r[a]=null,e(d(n,!1))):(r[o]=e,r[a]=t)},writable:!0}),t));return r[l]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[o]=null,r[a]=null,t(e)),void(r[u]=e)}var n=r[o];null!==n&&(r[l]=null,r[o]=null,r[a]=null,n(d(undefined,!0))),r[c]=!0})),e.on("readable",m.bind(null,r)),r}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[2431,{"safe-buffer":3577},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return r!==undefined?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}r.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if((t=this.fillLast(e))===undefined)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}}}},{package:"string_decoder",file:"/Users/mac/code/metamask-extension/node_modules/ipfs/node_modules/string_decoder/lib/string_decoder.js"}],[1289,{"../../../errors":1280},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){a=!1,c=!0,o||s.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){o=!1,h=!0,a||s.call(t)},d=function(e){s.call(t,e)},p=function(){var e;return o&&!h?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)}}}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[1291,{"../../../errors":1280,"./end-of-stream":1289},function(){with(this)return function(){"use strict";return function(e,t,r){var n;var i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(t,r,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),n===undefined&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var u=!1;return function(e){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,r){var s=r<t.length-1;return u(e,s,r>0,(function(e){n||(n=e),e&&o.forEach(c),s||(o.forEach(c),i(n))}))}));return t.reduce(l)}}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[1281,{"./_stream_readable":1283,"./_stream_writable":1285,_process:3204,inherits:2255},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=c;var i=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(c,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var u=o[a];c.prototype[u]||(c.prototype[u]=s.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/_stream_duplex.js"}],[1282,{"./_stream_transform":1284,inherits:2255},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/_stream_passthrough.js"}],[1284,{"../errors":1280,"./_stream_duplex":1281,inherits:2255},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=l;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/_stream_transform.js"}],[1285,{"../errors":1280,"./_stream_duplex":1281,"./internal/streams/destroy":1288,"./internal/streams/state":1292,"./internal/streams/stream":1293,_process:3204,buffer:1659,inherits:2255,"util-deprecate":3810},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=E,E.WritableState=M;var s={deprecate:e("util-deprecate")},o=e("./internal/streams/stream"),a=e("buffer").Buffer,u=global.Uint8Array||function(){};var c,l=e("./internal/streams/destroy"),h=e("./internal/streams/state").getHighWaterMark,f=e("../errors").codes,d=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,v=f.ERR_STREAM_WRITE_AFTER_END,_=f.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;function k(){}function M(t,s,o){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof o&&(o=s instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if("function"!=typeof s)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,s){--t.pendingcb,n?(r.nextTick(s,i),r.nextTick(j,e,t),e._writableState.errorEmitted=!0,w(e,i)):(s(i),e._writableState.errorEmitted=!0,w(e,i),j(e,t))}(e,n,i,t,s);else{var o=A(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||R(e,n),i?r.nextTick(x,e,n,o,s):x(e,n,o,s)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function E(t){var r=this instanceof(i=i||e("./_stream_duplex"));if(!r&&!c.call(E,this))return new E(t);this._writableState=new M(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function S(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function x(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),j(e,t)}function R(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)s[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;s.allBuffers=u,S(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(S(e,t,!1,t.objectMode?1:c.length,c,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(r){t.pendingcb--,r&&w(e,r),t.prefinished=!0,e.emit("prefinish"),j(e,t)}))}function j(e,t){var n=A(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(E,o),M.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(M.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===E&&(e&&e._writableState instanceof M)}})):c=function(e){return e instanceof this},E.prototype.pipe=function(){w(this,new g)},E.prototype.write=function(e,t,n){var i,s=this._writableState,o=!1,c=!s.objectMode&&(i=e,a.isBuffer(i)||i instanceof u);return c&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),c?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=k),s.ending?function(e,t){var n=new v;w(e,n),r.nextTick(t,n)}(this,n):(c||function(e,t,n,i){var s;return null===n?s=new b:"string"==typeof n||t.objectMode||(s=new d("chunk",["string","Buffer"],n)),!s||(w(e,s),r.nextTick(i,s),!1)}(this,s,e,n))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var u=t.objectMode?1:n.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,u,n,i,s);return c}(this,s,c,e,t,n)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||R(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new p("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,j(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=l.destroy,E.prototype._undestroy=l.undestroy,E.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/_stream_writable.js"}],[1283,{"../errors":1280,"./_stream_duplex":1281,"./internal/streams/async_iterator":1286,"./internal/streams/buffer_list":1287,"./internal/streams/destroy":1288,"./internal/streams/from":1290,"./internal/streams/state":1292,"./internal/streams/stream":1293,_process:3204,buffer:1659,events:1660,inherits:2255,"string_decoder/":1295,util:1658},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;t.exports=E,E.ReadableState=M;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),o=e("buffer").Buffer,a=global.Uint8Array||function(){};var u,c=e("util");u=c&&c.debuglog?c.debuglog("stream"):function(){};var l,h,f,d=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,v=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(E,s);var w=p.errorOrDestroy,k=["error","close","destroy","pause","resume"];function M(t,r,i){n=n||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function E(t){if(n=n||e("./_stream_duplex"),!(this instanceof E))return new E(t);var r=this instanceof n;this._readableState=new M(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function S(e,t,r,n,i){u("readableAddChunk",t);var s,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,j(e)))}(e,c);else if(i||(s=function(e,t){var r;n=t,o.isBuffer(n)||n instanceof a||"string"==typeof t||t===undefined||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(c,t)),s)w(e,s);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),n)c.endEmitted?w(e,new _):x(e,c,t,!0);else if(c.ended)w(e,new b);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?x(e,c,t,!1):C(e,c)):x(e,c,t,!1)}else n||(c.reading=!1,C(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function x(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&T(e)),C(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=p.destroy,E.prototype._undestroy=p.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=o.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},E.prototype.unshift=function(e){return S(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var r=new l(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var R=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(j,e))}function j(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,N(e)}function C(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){u("readable nexttick read 0"),e.read(0)}function L(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(D,t,e))}function D(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function q(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):T(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=e>0?P(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(e){w(this,new v("_read()"))},E.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,u("pipe count=%d opts=%j",s.pipesCount,t);var o=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:g;function a(t,r){u("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",a),n.removeListener("end",c),n.removeListener("end",g),n.removeListener("data",f),h=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}s.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,N(e))}}(n);e.on("drain",l);var h=!1;function f(t){u("ondata");var r=e.write(t);u("dest.write",r),!1===r&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==q(s.pipes,e))&&!h&&(u("false write response, pause",s.awaitDrain),s.awaitDrain++),n.pause())}function d(t){u("onerror",t),g(),e.removeListener("error",d),0===i(e,"error")&&w(e,t)}function p(){e.removeListener("finish",m),g()}function m(){u("onfinish"),e.removeListener("close",p),g()}function g(){u("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",p),e.once("finish",m),e.emit("pipe",n),s.flowing||(u("pipe resume"),n.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=q(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?T(this):i.reading||r.nextTick(O,this))),n},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(B,this),n},E.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||r.nextTick(B,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(L,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&i!==undefined)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<k.length;s++)e.on(k[s],this.emit.bind(this,k[s]));return this._read=function(t){u("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return h===undefined&&(h=e("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=P,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,r){return f===undefined&&(f=e("./internal/streams/from")),f(E,t,r)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/_stream_readable.js"}],[2316,{"./utils/apply-default-options":2320,"./utils/to-mfs-path":2327,"err-code":1920,"ipfs-unixfs-exporter":2359},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("ipfs-unixfs-exporter"),i=e("./utils/apply-default-options"),s=e("./utils/to-mfs-path"),o=e("err-code"),a={offset:0,length:Infinity};t.exports=e=>function(t,r={}){return r=i(r,a),{[Symbol.asyncIterator]:async function*(){const i=await s(e,t),a=await n(i.mfsPath,e.ipld);if("file"!==a.unixfs.type)throw o(new Error(`${t} was not a file`),"ERR_NOT_FILE");if(!a.content)throw o(new Error(`Could not load content stream from ${t}`),"ERR_NO_CONTENT");for await(const e of a.content({offset:r.offset,length:r.length}))yield e}}}}}},{package:"ipfs-mfs",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-mfs/src/core/read.js"}],[2313,{"./utils/apply-default-options":2320,"./utils/constants":2321,"./utils/to-mfs-path":2327,"ipfs-unixfs-exporter":2359},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("ipfs-unixfs-exporter"),i=e("./utils/apply-default-options"),s=e("./utils/to-mfs-path"),{FILE_SEPARATOR:o,FILE_TYPES:a}=e("./utils/constants"),u={},c=e=>{let t=0,r=e.node.size||e.node.length;return e.unixfs&&(r=e.unixfs.fileSize(),t=a[e.unixfs.type]),{cid:e.cid,name:e.name,type:t,size:r}};t.exports=e=>async function*(t=o,r={}){"object"!=typeof t||t instanceof String||(r=t,t=o),r=i(r,u);const a=await s(e,t),l=await n(a.mfsPath,e.ipld);if(l.unixfs&&l.unixfs.type.includes("directory"))for await(const e of l.content(r))yield c(e);else yield c(l)}}}},{package:"ipfs-mfs",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-mfs/src/core/ls.js"}],[2315,{"./cp":2310,"./rm":2317,"./utils/apply-default-options":2320,"./utils/to-sources":2330},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./utils/apply-default-options"),i=e("./utils/to-sources"),s=e("./cp"),o=e("./rm"),a={parents:!1,recursive:!1,flush:!0,format:"dag-pb",hashAlg:"sha2-256",shardSplitThreshold:1e3};t.exports=e=>async function(...t){Array.isArray(t[0])&&(t=t[0].concat(t.slice(1)));const{sources:r}=await i(e,t),u=n(t,a),c=r.map((e=>e.path)).concat(u),l=r.slice(0,-1).map((e=>e.path)).concat(Object.assign(u,{recursive:!0}));await s(e).apply(null,c),await o(e).apply(null,l)}}}},{package:"ipfs-mfs",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-mfs/src/core/mv.js"}],[2318,{"./utils/apply-default-options":2320,"./utils/to-mfs-path":2327,debug:1828,"err-code":1920,"ipfs-unixfs-exporter":2359},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./utils/apply-default-options"),i=e("./utils/to-mfs-path"),s=e("ipfs-unixfs-exporter"),o=e("debug")("ipfs:mfs:stat"),a=e("err-code"),u={withLocal:!1};t.exports=e=>async function(t,r){r=n(r,u),o(`Fetching stats for ${t}`);const{type:l,cid:h,mfsPath:f}=await i(e,t);let d,p="ipfs"===l&&h?h:f;try{d=await s(p,e.ipld)}catch(e){if("ERR_NOT_FOUND"===e.code)throw a(new Error(`${t} does not exist`),"ERR_NOT_FOUND");throw e}if(!c[d.cid.codec])throw new Error(`Cannot stat codec ${d.cid.codec}`);return c[d.cid.codec](d,r)};const c={raw:e=>({cid:e.cid,size:e.node.length,cumulativeSize:e.node.length,blocks:0,type:"file",local:undefined,sizeLocal:undefined,withLocality:!1}),"dag-pb":e=>{let t=e.node.Links.length,r=e.node.size,n=e.node.size,i=null;return e.unixfs&&(r=e.unixfs.fileSize(),i=e.unixfs.type,i.includes("directory")&&(r=0,n=e.node.size),"file"===i&&(t=e.unixfs.blockSizes.length)),{cid:e.cid,size:r,cumulativeSize:n,blocks:t,type:i,local:undefined,sizeLocal:undefined,withLocality:!1}},"dag-cbor":e=>({cid:e.cid,local:undefined,sizeLocal:undefined,withLocality:!1})}}}},{package:"ipfs-mfs",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-mfs/src/core/stat.js"}],[2311,{"./stat":2318,"./utils/apply-default-options":2320,"./utils/constants":2321},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./utils/apply-default-options"),i=e("./stat"),{FILE_SEPARATOR:s}=e("./utils/constants"),o={};t.exports=e=>async function(t=s,r=o){r=n(r,o),await i(e)(t,r)}}}},{package:"ipfs-mfs",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-mfs/src/core/flush.js"}],[2335,{"./mkdir":2314,"./stat":2318,"./utils/add-link":2319,"./utils/apply-default-options":2320,"./utils/constants":2321,"./utils/create-lock":2322,"./utils/to-async-iterator":2326,"./utils/to-mfs-path":2327,"./utils/to-path-components":2328,"./utils/to-trail":2331,"./utils/update-mfs-root":2332,"./utils/update-tree":2333,"async-iterator-last":1277,buffer:1659,debug:1828,"err-code":1920,"ipfs-unixfs-importer":2384},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("debug")("ipfs:mfs:write"),i=e("ipfs-unixfs-importer"),s=e("./stat"),o=e("./mkdir"),a=e("./utils/add-link"),u=e("./utils/apply-default-options"),c=e("./utils/create-lock"),l=e("./utils/to-async-iterator"),h=e("./utils/to-mfs-path"),f=e("./utils/to-path-components"),d=e("./utils/to-trail"),p=e("./utils/update-tree"),m=e("./utils/update-mfs-root"),g=e("err-code"),{MAX_CHUNK_SIZE:y}=e("./utils/constants"),b=e("async-iterator-last"),v={offset:0,length:undefined,create:!1,truncate:!1,rawLeaves:!1,reduceSingleLeafToSelf:!1,cidVersion:0,hashAlg:"sha2-256",format:"dag-pb",parents:!1,progress:()=>{},strategy:"trickle",flush:!0,leafType:"raw",shardSplitThreshold:1e3};t.exports=e=>async function(t,r,i){let s,o,a;if(n("Hello world, writing",t,r,i),i=u(i,v),n("Reading source, destination and parent"),await c().readLock((async()=>{s=await l(r,i),o=await h(e,t),a=await h(e,o.mfsDirectory)}))(),n("Read source, destination and parent"),!i.parents&&!a.exists)throw g(new Error("directory does not exist"),"ERR_NO_EXIST");if(!i.create&&!o.exists)throw g(new Error("file does not exist"),"ERR_NO_EXIST");return _(e,t,s,o,i)};const _=async(e,t,r,n,i)=>{const u=await w(e,r,n,i);await c().writeLock((async()=>{const r=f(t),n=r.pop();let c=!1;try{await s(e)(`/${r.join("/")}`,i),c=!0}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}c||await o(e)(`/${r.join("/")}`,i);const l=await h(e,t),y=await d(e,l.mfsDirectory,i),b=y[y.length-1];if(!b.type.includes("directory"))throw g(new Error(`cannot write to ${b.name}: Not a directory`),"ERR_NOT_A_DIRECTORY");const v=await e.ipld.get(b.cid),_=await a(e,{parent:v,name:n,cid:u.cid,size:u.size,flush:i.flush,shardSplitThreshold:i.shardSplitThreshold,format:i.format,hashAlg:i.hashAlg,cidVersion:i.cidVersion});b.cid=_.cid;const w=await p(e,y,i);await m(e,w)}))()},w=async(e,t,r,s)=>{r.exists?n(`Overwriting file ${r.cid} offset ${s.offset} length ${s.length}`):n(`Writing file offset ${s.offset} length ${s.length}`);const o=[];s.offset>0&&(r.unixfs&&r.unixfs.fileSize()>s.offset?(n(`Writing first ${s.offset} bytes of original file`),o.push((()=>r.content({offset:0,length:s.offset})))):(n(`Writing zeros for first ${s.offset} bytes`),o.push(M(s.offset)))),o.push(k(t,s.length));const a=S(E(o),(e=>{if(r.unixfs&&!s.truncate){const t=r.unixfs.fileSize();if(t>e)return n(`Writing last ${t-e} of ${t} bytes from original file starting at offset ${e}`),r.content({offset:e});n("Not writing last bytes from original file")}return{[Symbol.asyncIterator]:async function*(){}}}));let u=await b(i([{content:a}],e.ipld,{progress:s.progress,hashAlg:s.hashAlg,cidVersion:s.cidVersion,strategy:s.strategy,rawLeaves:s.rawLeaves,reduceSingleLeafToSelf:s.reduceSingleLeafToSelf,leafType:s.leafType}));return n(`Wrote ${u.cid}`),{cid:u.cid,size:u.size}},k=(e,t)=>async function*(){let r=0;for await(const n of e){if(r+=n.length,r>t)return void(yield n.slice(0,t-r));yield n}},M=(e,t=y)=>{const n=r.alloc(t,0),i={[Symbol.asyncIterator]:async function*(){for(;;)yield n.slice()}};return k(i,e)},E=async function*(e){for(let t=0;t<e.length;t++)for await(const r of e[t]())yield r},S=async function*(e,t){let r=0;for await(const t of e)r+=t.length,yield t;for await(const e of t(r))r+=e.length,yield e}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-mfs",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-mfs/src/core/write.js"}],[2317,{"./utils/apply-default-options":2320,"./utils/constants":2321,"./utils/remove-link":2325,"./utils/to-mfs-path":2327,"./utils/to-sources":2330,"./utils/to-trail":2331,"./utils/update-mfs-root":2332,"./utils/update-tree":2333,"err-code":1920},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("err-code"),i=e("./utils/update-tree"),s=e("./utils/update-mfs-root"),o=e("./utils/to-sources"),a=e("./utils/remove-link"),u=e("./utils/to-mfs-path"),c=e("./utils/to-trail"),l=e("./utils/apply-default-options"),{FILE_SEPARATOR:h}=e("./utils/constants"),f={recursive:!1,cidVersion:0,hashAlg:"sha2-256",format:"dag-pb",flush:!0};t.exports=e=>async function(){const t=Array.from(arguments),{sources:r}=await o(e,t,f),i=l(t,f);if(!r.length)throw n(new Error("Please supply at least one path to remove"),"ERR_INVALID_PARAMS");r.forEach((e=>{if(e.path===h)throw n(new Error("Cannot delete root"),"ERR_INVALID_PARAMS")}));for(const t of r)await d(e,t.path,i)};const d=async(e,t,r)=>{const o=await u(e,t),l=await c(e,o.mfsPath,r),h=l.pop(),f=l[l.length-1];if(!f)throw n(new Error(`${t} does not exist`),"ERR_NOT_FOUND");if("directory"===h.type&&!r.recursive)throw n(new Error(`${t} is a directory, use -r to remove directories`),"ERR_WAS_DIR");const{cid:d}=await a(e,{parentCid:f.cid,name:h.name,format:r.format,hashAlg:r.hashAlg,cidVersion:r.cidVersion,flush:r.flush});f.cid=d;const p=await i(e,l,r);await s(e,p)}}}},{package:"ipfs-mfs",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-mfs/src/core/rm.js"}],[2314,{"./utils/add-link":2319,"./utils/apply-default-options":2320,"./utils/constants":2321,"./utils/create-node":2323,"./utils/to-path-components":2328,"./utils/update-mfs-root":2332,"./utils/update-tree":2333,"./utils/with-mfs-root":2334,debug:1828,"err-code":1920,"ipfs-unixfs-exporter":2359},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("err-code"),i=e("debug")("ipfs:mfs:mkdir"),s=e("ipfs-unixfs-exporter"),o=e("./utils/create-node"),a=e("./utils/to-path-components"),u=e("./utils/update-mfs-root"),c=e("./utils/update-tree"),l=e("./utils/add-link"),h=e("./utils/with-mfs-root"),f=e("./utils/apply-default-options"),{FILE_SEPARATOR:d}=e("./utils/constants"),p={parents:!1,hashAlg:"sha2-256",cidVersion:0,shardSplitThreshold:1e3,format:"dag-pb",flush:!0};t.exports=e=>async function(t,r){if(r=f(r,p),!t)throw new Error("no path given to Mkdir");if((t=t.trim())===d){if(r.parents)return;throw n(new Error(`cannot create directory '${d}': Already exists`),"ERR_INVALID_PATH")}if(t.substring(0,1)!==d)throw n(new Error("paths must start with a leading /"),"ERR_INVALID_PATH");i(`Creating ${t}`);const l=a(t);if("ipfs"===l[0])throw n(new Error("path cannot have the prefix 'ipfs'"),"ERR_INVALID_PATH");let g,y=await h(e),b=[];const v=await o(e,"directory",r);for(let t=0;t<=l.length;t++){const o=l.slice(0,t),a=`/ipfs/${y}/${o.join("/")}`;try{if(g=await s(a,e.ipld),i(`${a} existed`),i(`${a} had children ${g.node.Links.map((e=>e.Name))}`),t===l.length){if(r.parents)return;throw n(new Error("file already exists"),"ERR_ALREADY_EXISTS")}b.push({name:g.name,cid:g.cid})}catch(i){if("ERR_NOT_FOUND"!==i.code)throw i;if(t<l.length&&!r.parents)throw n(new Error(`Intermediate directory path ${a} does not exist, use the -p flag to create it`),"ERR_NOT_FOUND");await m(e,o[o.length-1],v,b[b.length-1],b,r)}}const _=await c(e,b,r);await u(e,_)};const m=async(e,t,r,n,s,o)=>{i(`Adding empty dir called ${t} to ${n.cid}`);const a=await l(e,{parent:n.node,parentCid:n.cid,size:r.node.size,cid:r.cid,name:t,format:o.format,hashAlg:o.hashAlg,cidVersion:o.cidVersion});s[s.length-1].cid=a.cid,s.push({name:t,cid:r.cid})}}}},{package:"ipfs-mfs",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-mfs/src/core/mkdir.js"}],[2310,{"./mkdir":2314,"./utils/add-link":2319,"./utils/apply-default-options":2320,"./utils/to-mfs-path":2327,"./utils/to-sources-and-destination":2329,"./utils/to-trail":2331,"./utils/update-mfs-root":2332,"./utils/update-tree":2333,debug:1828,"err-code":1920},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./mkdir"),i=e("debug")("ipfs:mfs:cp"),s=e("err-code"),o=e("./utils/update-tree"),a=e("./utils/update-mfs-root"),u=e("./utils/add-link"),c=e("./utils/apply-default-options"),l=e("./utils/to-mfs-path"),h=e("./utils/to-sources-and-destination"),f=e("./utils/to-trail"),d={parents:!1,flush:!0,format:"dag-pb",hashAlg:"sha2-256",cidVersion:0,shardSplitThreshold:1e3};t.exports=e=>async function(...t){const r=c(t,d);let{sources:o,destination:a}=await h(e,t);if(!o.length)throw s(new Error("Please supply at least one source"),"ERR_INVALID_PARAMS");if(!a)throw s(new Error("Please supply a destination"),"ERR_INVALID_PARAMS");r.parents=r.p||r.parents;const u=o.find((e=>!e.exists));if(u)throw s(new Error(`${u.path} does not exist`),"ERR_INVALID_PARAMS");const y=p(a);if(a.exists){if(i("Destination exists"),1===o.length&&!y)throw s(new Error("directory already has entry by that name"),"ERR_ALREADY_EXISTS")}else if(i("Destination does not exist"),o.length>1){if(!r.parents)throw s(new Error("destination did not exist, pass -p to create intermediate directories"),"ERR_INVALID_PARAMS");await n(e)(a.path,r),a=await l(e,a.path)}const b=p(a)?a.mfsPath:a.mfsDirectory,v=await f(e,b,r);if(1===o.length){const t=o.pop(),n=y?t.name:a.name;return i(`Only one source, copying to destination ${y?"directory":"file"} ${n}`),m(e,t,n,v,r)}return i("Multiple sources, wrapping in a directory"),g(e,o,a,v,r)};const p=e=>e.unixfs&&e.unixfs.type&&e.unixfs.type.includes("directory"),m=async(e,t,r,n,i)=>{let s=n.pop();s=await y(e,t,r,s,i),n.push(s);const u=await o(e,n,i);await a(e,u)},g=async(e,t,r,n,i)=>{for(let n=0;n<t.length;n++){const s=t[n];r=await y(e,s,s.name,r,i)}n[n.length-1]=r;const s=await o(e,n,i);await a(e,s)},y=async(e,t,r,n,i)=>{const s=await e.repo.blocks.get(t.cid),{node:o,cid:a}=await u(e,{parentCid:n.cid,size:s.data.length,cid:t.cid,name:r,format:i.format,hashAlg:i.hashAlg,cidVersion:i.cidVersion});return n.node=o,n.cid=a,n.size=o.size,n}}}},{package:"ipfs-mfs",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-mfs/src/core/cp.js"}],[2322,{mortice:2977},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("mortice");let i;t.exports=e=>{if(i)return i;const t=n({singleProcess:e});return i={readLock:e=>(...r)=>t.readLock((()=>e.apply(null,r))),writeLock:e=>(...r)=>t.writeLock((()=>e.apply(null,r)))},i}}}},{package:"ipfs-mfs",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-mfs/src/core/utils/create-lock.js"}],[1277,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=async e=>{let t;for await(const r of e)t=r;return t}}}},{package:"async-iterator-last",file:"/Users/mac/code/metamask-extension/node_modules/async-iterator-last/index.js"}],[2361,{"./dag-cbor":2360,"./raw":2362,"./unixfs-v1":2366,"err-code":1920},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("err-code"),i={"dag-pb":e("./unixfs-v1"),raw:e("./raw"),"dag-cbor":e("./dag-cbor")},s=(e,t,r,o,a,u)=>{const c=i[e.codec];if(!c)throw n(new Error(`No resolver for codec ${e.codec}`),"ERR_NO_RESOLVER");return c(e,t,r,o,s,a,u)};t.exports=s}}},{package:"ipfs-unixfs-exporter",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-unixfs-exporter/src/resolvers/index.js"}],[3237,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t,r=!1;function n(n){if(!n)throw new Error("must be passed a readable");t=n,r&&e(t)}return n.resolve=n.ready=n.start=function(i){return r=!0,e=i||e,t&&e(t),n},n}}}},{package:"pull-defer",file:"/Users/mac/code/metamask-extension/node_modules/pull-defer/sink.js"}],[3239,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){var e,t,r,n,i;function s(s){return i?i(s):(e=s,function(e,i){t?t(e,i):(n=e,r=i)})}return s.resolve=function(s){if(i)throw new Error("already resolved");if(!(i=s))throw new Error("resolve *must* be passed a transform stream");e&&(t=i(e),r&&t(n,r))},s}}}},{package:"pull-defer",file:"/Users/mac/code/metamask-extension/node_modules/pull-defer/through.js"}],[3235,{"./sink":3237,"./source":3238},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./source"),i=e("./sink");t.exports=function(){var e=n(),t=i();return{source:e,sink:t,resolve:function(r){e.resolve(r.source),t.resolve(r.sink)}}}}}},{package:"pull-defer",file:"/Users/mac/code/metamask-extension/node_modules/pull-defer/duplex.js"}],[2390,{},function(){with(this)return function(){"use strict";return function(e,t,r){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}}}},{package:"is-buffer",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-utils/node_modules/is-buffer/index.js"}],[3289,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t,r){e(t),r&&r(!0===t?null:t)}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/util/abort-cb.js"}],[3291,{"./prop":3290},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./prop");function i(e){return e}t.exports=function(e){return"object"==typeof e&&"function"==typeof e.test?function(t){return e.test(t)}:n(e)||i}}}},{package:"pull-stream",file:"/Users/mac/code/metamask-extension/node_modules/pull-stream/util/tester.js"}],[2961,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){!function t(){var r=!0,n=!1;do{n=!0,r=!1,e.call(this,(function(){n?r=!0:t()})),n=!1}while(r)}()}}}},{package:"looper",file:"/Users/mac/code/metamask-extension/node_modules/looper/index.js"}],[2405,{"./lib/_stream_duplex.js":2392,"./lib/_stream_passthrough.js":2393,"./lib/_stream_readable.js":2394,"./lib/_stream_transform.js":2395,"./lib/_stream_writable.js":2396,"./lib/internal/streams/end-of-stream.js":2400,"./lib/internal/streams/pipeline.js":2402},function(){with(this)return function(){"use strict";return function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-utils/node_modules/readable-stream/readable-browser.js"}],[2385,{"./dir":2382,"./dir-flat":2380,"./flat-to-shard":2383,"./utils/to-path-components":2387,"async-iterator-first":1276,"err-code":1920},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./dir-flat"),i=e("./flat-to-shard"),s=e("./dir"),o=e("./utils/to-path-components"),a=e("err-code"),u=e("async-iterator-first");async function c(e,t,r){const a=o(e.path||""),u=a.length-1;let c=t,l="";for(let o=0;o<a.length;o++){const h=a[o];l+=`${l?"/":""}${h}`;const f=o===u;if(c.dirty=!0,c.cid=null,c.size=null,f)await c.put(h,e),t=await i(null,c,r.shardSplitThreshold,r);else{let e=await c.get(h);e&&e instanceof s||(e=new n({dir:!0,parent:c,parentKey:h,path:l,dirty:!0,flat:!0},r)),await c.put(h,e),c=e}}return t}t.exports=async function*(e,t,r){let i=new n({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r);for await(const t of e)i=await c(t,i,r),yield t;if(i){if(!r.wrapWithDirectory){if(i.childCount()>1)throw a(new Error("detected more than one root"),"ERR_MORE_THAN_ONE_ROOT");const e=await u(i.eachChildSeries());if(!e)return;i=e.child}if(!i.dir)return;for await(const e of i.flush(i.path,t))yield e}}}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-unixfs-importer/src/tree-builder.js"}],[2378,{"../chunker":2371,"./dir":2373,"./file":2376,"./validate-chunks":2379},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./dir"),i=e("./file"),s=e("../chunker"),o=e("./validate-chunks");t.exports=async function*(e,t,r){for await(const a of e)if(a.path&&("./"===a.path.substring(0,2)&&(r.wrapWithDirectory=!0),a.path=a.path.split("/").filter((e=>e&&"."!==e)).join("/")),a.content){let e=a.content;(e[Symbol.asyncIterator]||e[Symbol.iterator])&&e.length===undefined||(e={[Symbol.iterator]:function*(){yield a.content}});const n=s(r.chunker,o(e),r.chunkerOptions);yield i(a,n,t,r)}else yield n(a,t,r)}}}},{package:"ipfs-unixfs-importer",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-unixfs-importer/src/dag-builder/index.js"}],[2068,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];r.p1600=function(e){for(var t=0;t<24;++t){var r=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],h=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49],d=h^(s<<1|o>>>31),p=f^(o<<1|s>>>31),m=e[0]^d,g=e[1]^p,y=e[10]^d,b=e[11]^p,v=e[20]^d,_=e[21]^p,w=e[30]^d,k=e[31]^p,M=e[40]^d,E=e[41]^p;d=r^(a<<1|u>>>31),p=i^(u<<1|a>>>31);var S=e[2]^d,x=e[3]^p,R=e[12]^d,A=e[13]^p,T=e[22]^d,j=e[23]^p,C=e[32]^d,I=e[33]^p,B=e[42]^d,O=e[43]^p;d=s^(c<<1|l>>>31),p=o^(l<<1|c>>>31);var L=e[4]^d,N=e[5]^p,P=e[14]^d,U=e[15]^p,D=e[24]^d,q=e[25]^p,z=e[34]^d,F=e[35]^p,K=e[44]^d,V=e[45]^p;d=a^(h<<1|f>>>31),p=u^(f<<1|h>>>31);var H=e[6]^d,W=e[7]^p,$=e[16]^d,Z=e[17]^p,Y=e[26]^d,G=e[27]^p,J=e[36]^d,Q=e[37]^p,X=e[46]^d,ee=e[47]^p;d=c^(r<<1|i>>>31),p=l^(i<<1|r>>>31);var te=e[8]^d,re=e[9]^p,ne=e[18]^d,ie=e[19]^p,se=e[28]^d,oe=e[29]^p,ae=e[38]^d,ue=e[39]^p,ce=e[48]^d,le=e[49]^p,he=m,fe=g,de=b<<4|y>>>28,pe=y<<4|b>>>28,me=v<<3|_>>>29,ge=_<<3|v>>>29,ye=k<<9|w>>>23,be=w<<9|k>>>23,ve=M<<18|E>>>14,_e=E<<18|M>>>14,we=S<<1|x>>>31,ke=x<<1|S>>>31,Me=A<<12|R>>>20,Ee=R<<12|A>>>20,Se=T<<10|j>>>22,xe=j<<10|T>>>22,Re=I<<13|C>>>19,Ae=C<<13|I>>>19,Te=B<<2|O>>>30,je=O<<2|B>>>30,Ce=N<<30|L>>>2,Ie=L<<30|N>>>2,Be=P<<6|U>>>26,Oe=U<<6|P>>>26,Le=q<<11|D>>>21,Ne=D<<11|q>>>21,Pe=z<<15|F>>>17,Ue=F<<15|z>>>17,De=V<<29|K>>>3,qe=K<<29|V>>>3,ze=H<<28|W>>>4,Fe=W<<28|H>>>4,Ke=Z<<23|$>>>9,Ve=$<<23|Z>>>9,He=Y<<25|G>>>7,We=G<<25|Y>>>7,$e=J<<21|Q>>>11,Ze=Q<<21|J>>>11,Ye=ee<<24|X>>>8,Ge=X<<24|ee>>>8,Je=te<<27|re>>>5,Qe=re<<27|te>>>5,Xe=ne<<20|ie>>>12,et=ie<<20|ne>>>12,tt=oe<<7|se>>>25,rt=se<<7|oe>>>25,nt=ae<<8|ue>>>24,it=ue<<8|ae>>>24,st=ce<<14|le>>>18,ot=le<<14|ce>>>18;e[0]=he^~Me&Le,e[1]=fe^~Ee&Ne,e[10]=ze^~Xe&me,e[11]=Fe^~et&ge,e[20]=we^~Be&He,e[21]=ke^~Oe&We,e[30]=Je^~de&Se,e[31]=Qe^~pe&xe,e[40]=Ce^~Ke&tt,e[41]=Ie^~Ve&rt,e[2]=Me^~Le&$e,e[3]=Ee^~Ne&Ze,e[12]=Xe^~me&Re,e[13]=et^~ge&Ae,e[22]=Be^~He&nt,e[23]=Oe^~We&it,e[32]=de^~Se&Pe,e[33]=pe^~xe&Ue,e[42]=Ke^~tt&ye,e[43]=Ve^~rt&be,e[4]=Le^~$e&st,e[5]=Ne^~Ze&ot,e[14]=me^~Re&De,e[15]=ge^~Ae&qe,e[24]=He^~nt&ve,e[25]=We^~it&_e,e[34]=Se^~Pe&Ye,e[35]=xe^~Ue&Ge,e[44]=tt^~ye&Te,e[45]=rt^~be&je,e[6]=$e^~st&he,e[7]=Ze^~ot&fe,e[16]=Re^~De&ze,e[17]=Ae^~qe&Fe,e[26]=nt^~ve&we,e[27]=it^~_e&ke,e[36]=Pe^~Ye&Je,e[37]=Ue^~Ge&Qe,e[46]=ye^~Te&Ce,e[47]=be^~je&Ie,e[8]=st^~he&Me,e[9]=ot^~fe&Ee,e[18]=De^~ze&Xe,e[19]=qe^~Fe&et,e[28]=ve^~we&Be,e[29]=_e^~ke&Oe,e[38]=Ye^~Je&de,e[39]=Ge^~Qe&pe,e[48]=Te^~Ce&Ke,e[49]=je^~Ie&Ve,e[0]^=n[2*t],e[1]^=n[2*t+1]}}}}},{package:"keccak",file:"/Users/mac/code/metamask-extension/node_modules/ethereumjs-tx/node_modules/keccak/lib/keccak-state-unroll.js"}],[2066,{inherits:2255,"safe-buffer":3577,stream:3698},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer,i=e("stream").Transform,s=e("inherits");t.exports=function(e){function t(t,r,n,s,o){i.call(this,o),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=s,this._options=o,this._state=new e,this._state.initialize(t,r),this._finalized=!1}return s(t,i),t.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},t.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},t.prototype.update=function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this},t.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var t=this._state.squeeze(this._hashBitLength/8);return e!==undefined&&(t=t.toString(e)),this._resetState(),t},t.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},t.prototype._clone=function(){var e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e},t}}}},{package:"keccak",file:"/Users/mac/code/metamask-extension/node_modules/ethereumjs-tx/node_modules/keccak/lib/api/keccak.js"}],[2067,{inherits:2255,"safe-buffer":3577,stream:3698},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer,i=e("stream").Transform,s=e("inherits");t.exports=function(e){function t(t,r,n,s){i.call(this,s),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=s,this._state=new e,this._state.initialize(t,r),this._finalized=!1}return s(t,i),t.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},t.prototype._flush=function(){},t.prototype._read=function(e){this.push(this.squeeze(e))},t.prototype.update=function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this},t.prototype.squeeze=function(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var r=this._state.squeeze(e);return t!==undefined&&(r=r.toString(t)),r},t.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},t.prototype._clone=function(){var e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e},t}}}},{package:"keccak",file:"/Users/mac/code/metamask-extension/node_modules/ethereumjs-tx/node_modules/keccak/lib/api/shake.js"}],[3554,{},function(){with(this)return function(){"use strict";return function(e,t,r){!function(t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof t?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{o=e("buf"+"fer").Buffer}catch(e){}function a(e,t,r){for(var n=0,i=Math.min(e.length,r),s=t;s<i;s++){var o=e.charCodeAt(s)-48;n<<=4,n|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return n}function u(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,s=0;for(r=e.length-6,n=0;r>=t;r-=6)i=a(e,r,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303,(s+=24)>=26&&(s-=26,n++);r+6!==t&&(i=a(e,t,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303),this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,c=0,l=r;l<a;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var h=1;for(c=u(e,l,e.length,t),l=0;l<o;l++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(o=(i=0|e.words[p])*(s=0|t.words[d])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!==(s=a>>>24-i&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var f=l[e],d=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(e);r=(p=p.idivn(d)).isZero()?m+r:c[f-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n(void 0!==o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===t,c=new e(s),l=this.clone();if(u){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,s,o=e.words,a=t.words,u=r.words,c=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],_=8191&v,w=v>>>13,k=0|o[4],M=8191&k,E=k>>>13,S=0|o[5],x=8191&S,R=S>>>13,A=0|o[6],T=8191&A,j=A>>>13,C=0|o[7],I=8191&C,B=C>>>13,O=0|o[8],L=8191&O,N=O>>>13,P=0|o[9],U=8191&P,D=P>>>13,q=0|a[0],z=8191&q,F=q>>>13,K=0|a[1],V=8191&K,H=K>>>13,W=0|a[2],$=8191&W,Z=W>>>13,Y=0|a[3],G=8191&Y,J=Y>>>13,Q=0|a[4],X=8191&Q,ee=Q>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,le=0|a[8],he=8191&le,fe=le>>>13,de=0|a[9],pe=8191&de,me=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(h,z))|0)+((8191&(i=(i=Math.imul(h,F))+Math.imul(f,z)|0))<<13)|0;c=((s=Math.imul(f,F))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(m,z)|0,s=Math.imul(m,F);var ye=(c+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,V)|0))<<13)|0;c=((s=s+Math.imul(f,H)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,z),i=(i=Math.imul(y,F))+Math.imul(b,z)|0,s=Math.imul(b,F),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,H)|0;var be=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,$)|0))<<13)|0;c=((s=s+Math.imul(f,Z)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,F))+Math.imul(w,z)|0,s=Math.imul(w,F),n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,H)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Z)|0;var ve=(c+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,G)|0))<<13)|0;c=((s=s+Math.imul(f,J)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(M,z),i=(i=Math.imul(M,F))+Math.imul(E,z)|0,s=Math.imul(E,F),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(w,V)|0,s=s+Math.imul(w,H)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(b,$)|0,s=s+Math.imul(b,Z)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,J)|0;var _e=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,X)|0))<<13)|0;c=((s=s+Math.imul(f,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(x,z),i=(i=Math.imul(x,F))+Math.imul(R,z)|0,s=Math.imul(R,F),n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,H)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,H)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,ee)|0;var we=(c+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(f,re)|0))<<13)|0;c=((s=s+Math.imul(f,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(T,z),i=(i=Math.imul(T,F))+Math.imul(j,z)|0,s=Math.imul(j,F),n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,H)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(E,$)|0,s=s+Math.imul(E,Z)|0,n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(w,G)|0,s=s+Math.imul(w,J)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,s=s+Math.imul(m,ne)|0;var ke=(c+(n=n+Math.imul(h,se)|0)|0)+((8191&(i=(i=i+Math.imul(h,oe)|0)+Math.imul(f,se)|0))<<13)|0;c=((s=s+Math.imul(f,oe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(I,z),i=(i=Math.imul(I,F))+Math.imul(B,z)|0,s=Math.imul(B,F),n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,H)|0)+Math.imul(j,V)|0,s=s+Math.imul(j,H)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,Z)|0,n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(E,G)|0,s=s+Math.imul(E,J)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0;var Me=(c+(n=n+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((s=s+Math.imul(f,ce)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,F))+Math.imul(N,z)|0,s=Math.imul(N,F),n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,H)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,H)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(j,$)|0,s=s+Math.imul(j,Z)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,J)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(E,X)|0,s=s+Math.imul(E,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,s=s+Math.imul(w,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,ce)|0;var Ee=(c+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((s=s+Math.imul(f,fe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,F))+Math.imul(D,z)|0,s=Math.imul(D,F),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,H)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(B,$)|0,s=s+Math.imul(B,Z)|0,n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(j,G)|0,s=s+Math.imul(j,J)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(E,re)|0,s=s+Math.imul(E,ne)|0,n=n+Math.imul(_,se)|0,i=(i=i+Math.imul(_,oe)|0)+Math.imul(w,se)|0,s=s+Math.imul(w,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(b,ue)|0,s=s+Math.imul(b,ce)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,he)|0,s=s+Math.imul(m,fe)|0;var Se=(c+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((s=s+Math.imul(f,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(U,V),i=(i=Math.imul(U,H))+Math.imul(D,V)|0,s=Math.imul(D,H),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,Z)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(B,G)|0,s=s+Math.imul(B,J)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(j,X)|0,s=s+Math.imul(j,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(R,re)|0,s=s+Math.imul(R,ne)|0,n=n+Math.imul(M,se)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(E,se)|0,s=s+Math.imul(E,oe)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,ce)|0)+Math.imul(w,ue)|0,s=s+Math.imul(w,ce)|0,n=n+Math.imul(y,he)|0,i=(i=i+Math.imul(y,fe)|0)+Math.imul(b,he)|0,s=s+Math.imul(b,fe)|0;var xe=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,Z))+Math.imul(D,$)|0,s=Math.imul(D,Z),n=n+Math.imul(L,G)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,J)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(j,re)|0,s=s+Math.imul(j,ne)|0,n=n+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(R,se)|0,s=s+Math.imul(R,oe)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(E,ue)|0,s=s+Math.imul(E,ce)|0,n=n+Math.imul(_,he)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(w,he)|0,s=s+Math.imul(w,fe)|0;var Re=(c+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((s=s+Math.imul(b,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(U,G),i=(i=Math.imul(U,J))+Math.imul(D,G)|0,s=Math.imul(D,J),n=n+Math.imul(L,X)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(B,re)|0,s=s+Math.imul(B,ne)|0,n=n+Math.imul(T,se)|0,i=(i=i+Math.imul(T,oe)|0)+Math.imul(j,se)|0,s=s+Math.imul(j,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(R,ue)|0,s=s+Math.imul(R,ce)|0,n=n+Math.imul(M,he)|0,i=(i=i+Math.imul(M,fe)|0)+Math.imul(E,he)|0,s=s+Math.imul(E,fe)|0;var Ae=(c+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,me)|0)+Math.imul(w,pe)|0))<<13)|0;c=((s=s+Math.imul(w,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,ee))+Math.imul(D,X)|0,s=Math.imul(D,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,n=n+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(j,ue)|0,s=s+Math.imul(j,ce)|0,n=n+Math.imul(x,he)|0,i=(i=i+Math.imul(x,fe)|0)+Math.imul(R,he)|0,s=s+Math.imul(R,fe)|0;var Te=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((s=s+Math.imul(E,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(D,re)|0,s=Math.imul(D,ne),n=n+Math.imul(L,se)|0,i=(i=i+Math.imul(L,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(B,ue)|0,s=s+Math.imul(B,ce)|0,n=n+Math.imul(T,he)|0,i=(i=i+Math.imul(T,fe)|0)+Math.imul(j,he)|0,s=s+Math.imul(j,fe)|0;var je=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((s=s+Math.imul(R,me)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(U,se),i=(i=Math.imul(U,oe))+Math.imul(D,se)|0,s=Math.imul(D,oe),n=n+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,ce)|0)+Math.imul(N,ue)|0,s=s+Math.imul(N,ce)|0,n=n+Math.imul(I,he)|0,i=(i=i+Math.imul(I,fe)|0)+Math.imul(B,he)|0,s=s+Math.imul(B,fe)|0;var Ce=(c+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(j,pe)|0))<<13)|0;c=((s=s+Math.imul(j,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,ue),i=(i=Math.imul(U,ce))+Math.imul(D,ue)|0,s=Math.imul(D,ce),n=n+Math.imul(L,he)|0,i=(i=i+Math.imul(L,fe)|0)+Math.imul(N,he)|0,s=s+Math.imul(N,fe)|0;var Ie=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(B,pe)|0))<<13)|0;c=((s=s+Math.imul(B,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(U,he),i=(i=Math.imul(U,fe))+Math.imul(D,he)|0,s=Math.imul(D,fe);var Be=(c+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((s=s+Math.imul(N,me)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Oe=(c+(n=Math.imul(U,pe))|0)+((8191&(i=(i=Math.imul(U,me))+Math.imul(D,pe)|0))<<13)|0;return c=((s=Math.imul(D,me))+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,u[0]=ge,u[1]=ye,u[2]=be,u[3]=ve,u[4]=_e,u[5]=we,u[6]=ke,u[7]=Me,u[8]=Ee,u[9]=Se,u[10]=xe,u[11]=Re,u[12]=Ae,u[13]=Te,u[14]=je,u[15]=Ce,u[16]=Ie,u[17]=Be,u[18]=Oe,0!==c&&(u[19]=c,r.length++),r};function p(e,t,r){return(new m).mulp(e,t,r)}function m(e,t){this.x=e,this.y=t}Math.imul||(d=f),s.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var l=s-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},m.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},m.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<o;d++){var p=r[l+d],m=n[l+d],g=r[l+d+o],y=n[l+d+o],b=h*g-f*y;y=h*y+f*g,g=b,r[l+d]=p+g,n[l+d]=m+y,r[l+d+o]=p-g,n[l+d+o]=m-y,d!==a&&(b=u*h-c*f,f=u*f+c*h,h=b)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},m.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),p(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<r;this.words[t]=u|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(u)):(r.isub(t),a.isub(i),u.isub(o))}return{a:a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new k(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(b,y),b.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,y),i(_,y),i(w,y),w.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new v;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return g[e]=t,t},k.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new s(1);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new M(e)},i(M,k),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}}},{package:"bn.js",file:"/Users/mac/code/metamask-extension/node_modules/rpc-cap/node_modules/ethjs-abi/node_modules/bn.js/lib/bn.js"}],[3560,{"bn.js":3558,buffer:1659,"js-sha3":3568,"number-to-bn":3060},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("bn.js"),i=e("number-to-bn"),s=e("js-sha3").keccak_256;function o(e){for(var t=e,r=t[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t}function a(e){var t=e.toString(16);return t.length%2&&(t="0"+t),o(new r(t,"hex"))}function u(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function c(e,t){var n=e;if(!r.isBuffer(n)){if(!u(n)){var i=new Error(t?"[ethjs-abi] invalid "+t:"[ethjs-abi] invalid hex or buffer, must be a prefixed alphanumeric even length hex string");throw i.reason="[ethjs-abi] invalid hex string, hex must be prefixed and alphanumeric (e.g. 0x023..)",i.value=n,i}(n=n.substring(2)).length%2&&(n="0"+n),n=new r(n,"hex")}return n}function l(e,t){return{encode:function(n){var s=n;return"object"==typeof s&&s.toString&&(s.toTwos||s.dividedToIntegerBy)&&(s=s.toString(10).split(".")[0]),"string"!=typeof s&&"number"!=typeof s||(s=String(s).split(".")[0]),s=(s=i(s)).toTwos(8*e).maskn(8*e),t&&(s=s.fromTwos(8*e).toTwos(256)),s.toArrayLike(r,"be",32)},decode:function(r,i){var s=32-e,o=new n(r.slice(i+s,i+32));return o=t?o.fromTwos(8*e):o.maskn(8*e),{consumed:32,value:new n(o.toString(10))}}}}var h=l(32,!1),f={encode:function(e){return h.encode(e?1:0)},decode:function(e,t){var r=h.decode(e,t);return{consumed:r.consumed,value:!r.value.isZero()}}};function d(e){return{encode:function(e){var t=e;if(32===(t=c(t)).length)return t;var n=new r(32);return n.fill(0),t.copy(n),n},decode:function(t,r){if(0!==t.length&&t.length<r+32)throw new Error("[ethjs-abi] while decoding fixed bytes, invalid bytes data length: "+e);return{consumed:32,value:"0x"+t.slice(r,r+e).toString("hex")}}}}var p={encode:function(e){var t=e,n=new r(32);if(!u(t,20))throw new Error("[ethjs-abi] while encoding address, invalid address value, not alphanumeric 20 byte hex string");return t=c(t),n.fill(0),t.copy(n,12),n},decode:function(e,t){if(0===e.length)return{consumed:32,value:"0x"};if(0!==e.length&&e.length<t+32)throw new Error("[ethjs-abi] while decoding address data, invalid address data, invalid byte length "+e.length);return{consumed:32,value:"0x"+e.slice(t+12,t+32).toString("hex")}}};function m(e){var t=parseInt(32*Math.ceil(e.length/32)),n=new r(t-e.length);return n.fill(0),r.concat([h.encode(e.length),e,n])}function g(e,t){if(0!==e.length&&e.length<t+32)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+e.length+" should be less than "+(t+32));var r=h.decode(e,t).value;if(r=r.toNumber(),0!==e.length&&e.length<t+32+r)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+e.length+" should be less than "+(t+32+r));return{consumed:parseInt(32+32*Math.ceil(r/32),10),value:e.slice(t+32,t+32+r)}}var y={encode:function(e){return m(c(e))},decode:function(e,t){var r=g(e,t);return r.value="0x"+r.value.toString("hex"),r},dynamic:!0},b={encode:function(e){return m(new r(e,"utf8"))},decode:function(e,t){var r=g(e,t);return r.value=r.value.toString("utf8"),r},dynamic:!0};function v(e,t){return{encode:function(n){var i=new r(0),s=t;if(!Array.isArray(n))throw new Error("[ethjs-abi] while encoding array, invalid array data, not type Object (Array)");if(-1===s&&(s=n.length,i=h.encode(s)),s!==n.length)throw new Error("[ethjs-abi] while encoding array, size mismatch array length "+s+" does not equal "+n.length);return n.forEach((function(t){i=r.concat([i,e.encode(t)])})),i},decode:function(r,n){var i,s=t,o=n,a=0;-1===s&&(s=(i=h.decode(r,o)).value.toNumber(),a+=i.consumed,o+=i.consumed);for(var u=[],c=0;c<s;c++){var l=e.decode(r,o);a+=l.consumed,o+=l.consumed,u.push(l.value)}return{consumed:a,value:u}},dynamic:-1===t}}var _=new RegExp(/^((u?int|bytes)([0-9]*)|(address|bool|string)|(\[([0-9]*)\]))/);t.exports={BN:n,bnToBuffer:a,isHexString:u,hexOrBuffer:c,hexlify:function(e){return"number"==typeof e?"0x"+a(new n(e)).toString("hex"):e.mod||e.modulo?"0x"+a(e).toString("hex"):"0x"+c(e).toString("hex")},stripZeros:o,keccak256:s,getKeys:function(e,t,r){var n=[];if(!Array.isArray(e))throw new Error("[ethjs-abi] while getting keys, invalid params value "+JSON.stringify(e));for(var i=0;i<e.length;i++){var s=e[i][t];if(r&&!s)s="";else if("string"!=typeof s)throw new Error("[ethjs-abi] while getKeys found invalid ABI data structure, type value not string");n.push(s)}return n},numberToBN:i,coderNumber:l,uint256Coder:h,coderBoolean:f,coderFixedBytes:d,coderAddress:p,coderDynamicBytes:y,coderString:b,coderArray:v,paramTypePart:_,getParamCoder:function(e){for(var t=e,r=null,n="[ethjs-abi] while getting param coder (getParamCoder) type value "+JSON.stringify(t)+" is either invalid or unsupported by ethjs-abi.";t;){var i=t.match(_);if(!i)throw new Error(n);t=t.substring(i[0].length);var s=i[2]||i[4]||i[5];switch(s){case"int":case"uint":if(r)throw new Error(n);var o=parseInt(i[3]||256);if(0===o||o>256||o%8!=0)throw new Error("[ethjs-abi] while getting param coder for type "+t+", invalid "+s+"<N> width: "+t);r=l(o/8,"int"===s);break;case"bool":if(r)throw new Error(n);r=f;break;case"string":if(r)throw new Error(n);r=b;break;case"bytes":if(r)throw new Error(n);if(i[3]){var a=parseInt(i[3]);if(0===a||a>32)throw new Error("[ethjs-abi] while getting param coder for prefix bytes, invalid type "+t+", size "+a+" should be 0 or greater than 32");r=d(a)}else r=y;break;case"address":if(r)throw new Error(n);r=p;break;case"[]":if(!r||r.dynamic)throw new Error(n);r=v(r,-1);break;default:if(!r||r.dynamic)throw new Error(n);r=v(r,parseInt(i[6]))}}if(!r)throw new Error(n);return r}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethjs-abi",file:"/Users/mac/code/metamask-extension/node_modules/rpc-cap/node_modules/ethjs-contract/node_modules/ethjs-abi/lib/utils/index.js"}],[3203,{util:1665},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("util");function i(e){Error.call(this,e),this.message=e}function s(e){Error.call(this,e),this.message=e}n.inherits(i,Error),i.prototype.name="IllegalArgumentError",n.inherits(s,Error),s.prototype.name="IllegalStateError",t.exports.IllegalStateError=s,t.exports.IllegalArgumentError=i}}},{package:"precond",file:"/Users/mac/code/metamask-extension/node_modules/precond/lib/errors.js"}],[1321,{},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return n&&e[n]&&e[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=r.default}}},{package:"async",file:"/Users/mac/code/metamask-extension/node_modules/async/internal/getIterator.js"}],[3865,{buffer:1658},function(){with(this)return function(){"use strict";return function(e,t,r){!function(t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof t?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{o=e("buffer").Buffer}catch(e){}function a(e,t,r){for(var n=0,i=Math.min(e.length,r),s=t;s<i;s++){var o=e.charCodeAt(s)-48;n<<=4,n|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return n}function u(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,s=0;for(r=e.length-6,n=0;r>=t;r-=6)i=a(e,r,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303,(s+=24)>=26&&(s-=26,n++);r+6!==t&&(i=a(e,t,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303),this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,c=0,l=r;l<a;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var h=1;for(c=u(e,l,e.length,t),l=0;l<o;l++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(o=(i=0|e.words[p])*(s=0|t.words[d])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!==(s=a>>>24-i&16777215)||o!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var f=l[e],d=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(e);r=(p=p.idivn(d)).isZero()?m+r:c[f-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n(void 0!==o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===t,c=new e(s),l=this.clone();if(u){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,s,o=e.words,a=t.words,u=r.words,c=0,l=0|o[0],h=8191&l,f=l>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],_=8191&v,w=v>>>13,k=0|o[4],M=8191&k,E=k>>>13,S=0|o[5],x=8191&S,R=S>>>13,A=0|o[6],T=8191&A,j=A>>>13,C=0|o[7],I=8191&C,B=C>>>13,O=0|o[8],L=8191&O,N=O>>>13,P=0|o[9],U=8191&P,D=P>>>13,q=0|a[0],z=8191&q,F=q>>>13,K=0|a[1],V=8191&K,H=K>>>13,W=0|a[2],$=8191&W,Z=W>>>13,Y=0|a[3],G=8191&Y,J=Y>>>13,Q=0|a[4],X=8191&Q,ee=Q>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,le=0|a[8],he=8191&le,fe=le>>>13,de=0|a[9],pe=8191&de,me=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(h,z))|0)+((8191&(i=(i=Math.imul(h,F))+Math.imul(f,z)|0))<<13)|0;c=((s=Math.imul(f,F))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,F))+Math.imul(m,z)|0,s=Math.imul(m,F);var ye=(c+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,V)|0))<<13)|0;c=((s=s+Math.imul(f,H)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,z),i=(i=Math.imul(y,F))+Math.imul(b,z)|0,s=Math.imul(b,F),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,H)|0;var be=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,$)|0))<<13)|0;c=((s=s+Math.imul(f,Z)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(_,z),i=(i=Math.imul(_,F))+Math.imul(w,z)|0,s=Math.imul(w,F),n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,H)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Z)|0;var ve=(c+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,G)|0))<<13)|0;c=((s=s+Math.imul(f,J)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(M,z),i=(i=Math.imul(M,F))+Math.imul(E,z)|0,s=Math.imul(E,F),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(w,V)|0,s=s+Math.imul(w,H)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(b,$)|0,s=s+Math.imul(b,Z)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,J)|0;var _e=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,X)|0))<<13)|0;c=((s=s+Math.imul(f,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(x,z),i=(i=Math.imul(x,F))+Math.imul(R,z)|0,s=Math.imul(R,F),n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,H)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,H)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,ee)|0;var we=(c+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(f,re)|0))<<13)|0;c=((s=s+Math.imul(f,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(T,z),i=(i=Math.imul(T,F))+Math.imul(j,z)|0,s=Math.imul(j,F),n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,H)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(E,$)|0,s=s+Math.imul(E,Z)|0,n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(w,G)|0,s=s+Math.imul(w,J)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,s=s+Math.imul(m,ne)|0;var ke=(c+(n=n+Math.imul(h,se)|0)|0)+((8191&(i=(i=i+Math.imul(h,oe)|0)+Math.imul(f,se)|0))<<13)|0;c=((s=s+Math.imul(f,oe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(I,z),i=(i=Math.imul(I,F))+Math.imul(B,z)|0,s=Math.imul(B,F),n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,H)|0)+Math.imul(j,V)|0,s=s+Math.imul(j,H)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,Z)|0,n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(E,G)|0,s=s+Math.imul(E,J)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0;var Me=(c+(n=n+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((s=s+Math.imul(f,ce)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,F))+Math.imul(N,z)|0,s=Math.imul(N,F),n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,H)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,H)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(j,$)|0,s=s+Math.imul(j,Z)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,J)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(E,X)|0,s=s+Math.imul(E,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,s=s+Math.imul(w,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,ce)|0;var Ee=(c+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((s=s+Math.imul(f,fe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,F))+Math.imul(D,z)|0,s=Math.imul(D,F),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,H)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(B,$)|0,s=s+Math.imul(B,Z)|0,n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(j,G)|0,s=s+Math.imul(j,J)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(E,re)|0,s=s+Math.imul(E,ne)|0,n=n+Math.imul(_,se)|0,i=(i=i+Math.imul(_,oe)|0)+Math.imul(w,se)|0,s=s+Math.imul(w,oe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(b,ue)|0,s=s+Math.imul(b,ce)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,he)|0,s=s+Math.imul(m,fe)|0;var Se=(c+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((s=s+Math.imul(f,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(U,V),i=(i=Math.imul(U,H))+Math.imul(D,V)|0,s=Math.imul(D,H),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,Z)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(B,G)|0,s=s+Math.imul(B,J)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(j,X)|0,s=s+Math.imul(j,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(R,re)|0,s=s+Math.imul(R,ne)|0,n=n+Math.imul(M,se)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(E,se)|0,s=s+Math.imul(E,oe)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,ce)|0)+Math.imul(w,ue)|0,s=s+Math.imul(w,ce)|0,n=n+Math.imul(y,he)|0,i=(i=i+Math.imul(y,fe)|0)+Math.imul(b,he)|0,s=s+Math.imul(b,fe)|0;var xe=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,Z))+Math.imul(D,$)|0,s=Math.imul(D,Z),n=n+Math.imul(L,G)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(N,G)|0,s=s+Math.imul(N,J)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(j,re)|0,s=s+Math.imul(j,ne)|0,n=n+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(R,se)|0,s=s+Math.imul(R,oe)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(E,ue)|0,s=s+Math.imul(E,ce)|0,n=n+Math.imul(_,he)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(w,he)|0,s=s+Math.imul(w,fe)|0;var Re=(c+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((s=s+Math.imul(b,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(U,G),i=(i=Math.imul(U,J))+Math.imul(D,G)|0,s=Math.imul(D,J),n=n+Math.imul(L,X)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(B,re)|0,s=s+Math.imul(B,ne)|0,n=n+Math.imul(T,se)|0,i=(i=i+Math.imul(T,oe)|0)+Math.imul(j,se)|0,s=s+Math.imul(j,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(R,ue)|0,s=s+Math.imul(R,ce)|0,n=n+Math.imul(M,he)|0,i=(i=i+Math.imul(M,fe)|0)+Math.imul(E,he)|0,s=s+Math.imul(E,fe)|0;var Ae=(c+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,me)|0)+Math.imul(w,pe)|0))<<13)|0;c=((s=s+Math.imul(w,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,ee))+Math.imul(D,X)|0,s=Math.imul(D,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,n=n+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(j,ue)|0,s=s+Math.imul(j,ce)|0,n=n+Math.imul(x,he)|0,i=(i=i+Math.imul(x,fe)|0)+Math.imul(R,he)|0,s=s+Math.imul(R,fe)|0;var Te=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((s=s+Math.imul(E,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(D,re)|0,s=Math.imul(D,ne),n=n+Math.imul(L,se)|0,i=(i=i+Math.imul(L,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(B,ue)|0,s=s+Math.imul(B,ce)|0,n=n+Math.imul(T,he)|0,i=(i=i+Math.imul(T,fe)|0)+Math.imul(j,he)|0,s=s+Math.imul(j,fe)|0;var je=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((s=s+Math.imul(R,me)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(U,se),i=(i=Math.imul(U,oe))+Math.imul(D,se)|0,s=Math.imul(D,oe),n=n+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,ce)|0)+Math.imul(N,ue)|0,s=s+Math.imul(N,ce)|0,n=n+Math.imul(I,he)|0,i=(i=i+Math.imul(I,fe)|0)+Math.imul(B,he)|0,s=s+Math.imul(B,fe)|0;var Ce=(c+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(j,pe)|0))<<13)|0;c=((s=s+Math.imul(j,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,ue),i=(i=Math.imul(U,ce))+Math.imul(D,ue)|0,s=Math.imul(D,ce),n=n+Math.imul(L,he)|0,i=(i=i+Math.imul(L,fe)|0)+Math.imul(N,he)|0,s=s+Math.imul(N,fe)|0;var Ie=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(B,pe)|0))<<13)|0;c=((s=s+Math.imul(B,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(U,he),i=(i=Math.imul(U,fe))+Math.imul(D,he)|0,s=Math.imul(D,fe);var Be=(c+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((s=s+Math.imul(N,me)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Oe=(c+(n=Math.imul(U,pe))|0)+((8191&(i=(i=Math.imul(U,me))+Math.imul(D,pe)|0))<<13)|0;return c=((s=Math.imul(D,me))+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,u[0]=ge,u[1]=ye,u[2]=be,u[3]=ve,u[4]=_e,u[5]=we,u[6]=ke,u[7]=Me,u[8]=Ee,u[9]=Se,u[10]=xe,u[11]=Re,u[12]=Ae,u[13]=Te,u[14]=je,u[15]=Ce,u[16]=Ie,u[17]=Be,u[18]=Oe,0!==c&&(u[19]=c,r.length++),r};function p(e,t,r){return(new m).mulp(e,t,r)}function m(e,t){this.x=e,this.y=t}Math.imul||(d=f),s.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var l=s-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},m.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},m.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<o;d++){var p=r[l+d],m=n[l+d],g=r[l+d+o],y=n[l+d+o],b=h*g-f*y;y=h*y+f*g,g=b,r[l+d]=p+g,n[l+d]=m+y,r[l+d+o]=p-g,n[l+d+o]=m-y,d!==a&&(b=u*h-c*f,f=u*f+c*h,h=b)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},m.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),p(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<r;this.words[t]=u|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(u)):(r.isub(t),a.isub(i),u.isub(o))}return{a:a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new k(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip!==undefined?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(b,y),b.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,y),i(_,y),i(w,y),w.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new v;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return g[e]=t,t},k.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=g}return f},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new M(e)},i(M,k),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}}},{package:"bn.js",file:"/Users/mac/code/metamask-extension/node_modules/web3-provider-engine/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/node_modules/bn.js/lib/bn.js"}],[3864,{"./bytes":3856,"./hash":3858,"./secp256k1v3-adapter":3861,"bn.js":3865,buffer:1659},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;var n=e("./secp256k1v3-adapter"),i=e("bn.js"),s=e("./bytes"),o=e("./hash");function a(e,t){return t?e-(2*t+35):e-27}function u(e){return 0===e||1===e}r.ecsign=function(e,t,r){var i=n.sign(e,t),s=i.recovery;return{r:i.signature.slice(0,32),s:i.signature.slice(32,64),v:r?s+(2*r+35):s+27}},r.ecrecover=function(e,r,i,o,c){var l=t.concat([s.setLength(i,32),s.setLength(o,32)],64),h=a(r,c);if(!u(h))throw new Error("Invalid signature v value");var f=n.recover(e,l,h);return n.publicKeyConvert(f,!1).slice(1)},r.toRpcSig=function(e,r,n,i){if(!u(a(e,i)))throw new Error("Invalid signature v value");return s.bufferToHex(t.concat([s.setLengthLeft(r,32),s.setLengthLeft(n,32),s.toBuffer(e)]))},r.fromRpcSig=function(e){var t=s.toBuffer(e);if(65!==t.length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},r.isValidSignature=function(e,t,r,n,s){void 0===n&&(n=!0);var o=new i("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),c=new i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==r.length)return!1;if(!u(a(e,s)))return!1;var l=new i(t),h=new i(r);return!(l.isZero()||l.gt(c)||h.isZero()||h.gt(c))&&(!n||1!==h.cmp(o))},r.hashPersonalMessage=function(e){var r=t.from("Ethereum Signed Message:\n"+e.length.toString(),"utf-8");return o.keccak(t.concat([r,e]))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/Users/mac/code/metamask-extension/node_modules/web3-provider-engine/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/dist/signature.js"}],[3857,{"bn.js":3865,buffer:1659},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.MAX_INTEGER=void 0;var n=e("bn.js");r.MAX_INTEGER=new n("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),r.TWO_POW256=new n("10000000000000000000000000000000000000000000000000000000000000000",16),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=t.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=t.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=t.from(r.KECCAK256_RLP_S,"hex")}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/Users/mac/code/metamask-extension/node_modules/web3-provider-engine/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/dist/constants.js"}],[3855,{"./bytes":3856,"./hash":3858,"./secp256k1v3-adapter":3861,assert:1270,"bn.js":3865,buffer:1659,"ethjs-util":3867},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.importPublic=r.privateToPublic=r.privateToAddress=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.isPrecompiled=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isZeroAddress=r.isValidAddress=r.zeroAddress=void 0;var n=e("assert"),i=e("ethjs-util"),s=e("./secp256k1v3-adapter"),o=e("bn.js"),a=e("./bytes"),u=e("./hash");r.zeroAddress=function(){var e=a.zeros(20);return a.bufferToHex(e)},r.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},r.isZeroAddress=function(e){return r.zeroAddress()===a.addHexPrefix(e)},r.toChecksumAddress=function(e,t){e=i.stripHexPrefix(e).toLowerCase();for(var r=t!==undefined?t.toString()+"0x":"",n=u.keccak(r+e).toString("hex"),s="0x",o=0;o<e.length;o++)parseInt(n[o],16)>=8?s+=e[o].toUpperCase():s+=e[o];return s},r.isValidChecksumAddress=function(e,t){return r.isValidAddress(e)&&r.toChecksumAddress(e,t)===e},r.generateAddress=function(e,r){e=a.toBuffer(e);var n=new o(r);return n.isZero()?u.rlphash([e,null]).slice(-20):u.rlphash([e,t.from(n.toArray())]).slice(-20)},r.generateAddress2=function(e,r,i){var s=a.toBuffer(e),o=a.toBuffer(r),c=a.toBuffer(i);return n(20===s.length),n(32===o.length),u.keccak256(t.concat([t.from("ff","hex"),s,o,u.keccak256(c)])).slice(-20)},r.isPrecompiled=function(e){var t=a.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},r.isValidPrivate=function(e){return s.privateKeyVerify(e)},r.isValidPublic=function(e,r){return void 0===r&&(r=!1),64===e.length?s.publicKeyVerify(t.concat([t.from([4]),e])):!!r&&s.publicKeyVerify(e)},r.pubToAddress=function(e,t){return void 0===t&&(t=!1),e=a.toBuffer(e),t&&64!==e.length&&(e=s.publicKeyConvert(e,!1).slice(1)),n(64===e.length),u.keccak(e).slice(-20)},r.publicToAddress=r.pubToAddress,r.privateToAddress=function(e){return r.publicToAddress(r.privateToPublic(e))},r.privateToPublic=function(e){return e=a.toBuffer(e),s.publicKeyCreate(e,!1).slice(1)},r.importPublic=function(e){return 64!==(e=a.toBuffer(e)).length&&(e=s.publicKeyConvert(e,!1).slice(1)),e}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/Users/mac/code/metamask-extension/node_modules/web3-provider-engine/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/dist/account.js"}],[3856,{"bn.js":3865,buffer:1659,"ethjs-util":3867},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.baToJSON=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToHex=r.bufferToInt=r.toBuffer=r.stripZeros=r.unpad=r.setLengthRight=r.setLength=r.setLengthLeft=r.zeros=void 0;var n=e("ethjs-util"),i=e("bn.js");r.zeros=function(e){return t.allocUnsafe(e).fill(0)},r.setLengthLeft=function(e,t,n){void 0===n&&(n=!1);var i=r.zeros(t);return e=r.toBuffer(e),n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)},r.setLength=r.setLengthLeft,r.setLengthRight=function(e,t){return r.setLength(e,t,!0)},r.unpad=function(e){for(var t=(e=n.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},r.stripZeros=r.unpad,r.toBuffer=function(e){if(!t.isBuffer(e))if(Array.isArray(e))e=t.from(e);else if("string"==typeof e){if(!n.isHexString(e))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+e);e=t.from(n.padToEven(n.stripHexPrefix(e)),"hex")}else if("number"==typeof e)e=n.intToBuffer(e);else if(null===e||e===undefined)e=t.allocUnsafe(0);else if(i.isBN(e))e=e.toArrayLike(t);else{if(!e.toArray)throw new Error("invalid type");e=t.from(e.toArray())}return e},r.bufferToInt=function(e){return new i(r.toBuffer(e)).toNumber()},r.bufferToHex=function(e){return"0x"+(e=r.toBuffer(e)).toString("hex")},r.fromSigned=function(e){return new i(e).fromTwos(256)},r.toUnsigned=function(e){return t.from(e.toTwos(256).toArray())},r.addHexPrefix=function(e){return"string"!=typeof e||n.isHexPrefixed(e)?e:"0x"+e},r.baToJSON=function(e){if(t.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var n=[],i=0;i<e.length;i++)n.push(r.baToJSON(e[i]));return n}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/Users/mac/code/metamask-extension/node_modules/web3-provider-engine/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/dist/bytes.js"}],[3860,{"./bytes":3856,assert:1270,buffer:1659,"ethjs-util":3867,rlp:3500},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.defineProperties=void 0;var n=e("assert"),i=e("ethjs-util"),s=e("rlp"),o=e("./bytes");r.defineProperties=function(e,r,a){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(void 0===t&&(t=!1),t){var r={};return e._fields.forEach((function(t){r[t]="0x"+e[t].toString("hex")})),r}return o.baToJSON(e.raw)},e.serialize=function(){return s.encode(e.raw)},r.forEach((function(r,i){function s(){return e.raw[i]}function a(s){"00"!==(s=o.toBuffer(s)).toString("hex")||r.allowZero||(s=t.allocUnsafe(0)),r.allowLess&&r.length?(s=o.stripZeros(s),n(r.length>=s.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===s.length||!r.length||n(r.length===s.length,"The field "+r.name+" must have byte length of "+r.length),e.raw[i]=s}e._fields.push(r.name),Object.defineProperty(e,r.name,{enumerable:!0,configurable:!0,get:s,set:a}),r.default&&(e[r.name]=r.default),r.alias&&Object.defineProperty(e,r.alias,{enumerable:!1,configurable:!0,set:a,get:s})})),a)if("string"==typeof a&&(a=t.from(i.stripHexPrefix(a),"hex")),t.isBuffer(a)&&(a=s.decode(a)),Array.isArray(a)){if(a.length>e._fields.length)throw new Error("wrong number of fields in data");a.forEach((function(t,r){e[e._fields[r]]=o.toBuffer(t)}))}else{if("object"!=typeof a)throw new Error("invalid data");var u=Object.keys(a);r.forEach((function(t){-1!==u.indexOf(t.name)&&(e[t.name]=a[t.name]),-1!==u.indexOf(t.alias)&&(e[t.alias]=a[t.alias])}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/Users/mac/code/metamask-extension/node_modules/web3-provider-engine/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/dist/object.js"}],[3858,{"./bytes":3856,buffer:1659,"create-hash":1737,"ethereum-cryptography/keccak":2032,"ethjs-util":3867,rlp:3500},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.rlphash=r.ripemd160=r.sha256=r.keccak256=r.keccak=void 0;var n=e("ethereum-cryptography/keccak"),i=n.keccak224,s=n.keccak384,o=n.keccak256,a=n.keccak512,u=e("create-hash"),c=e("ethjs-util"),l=e("rlp"),h=e("./bytes");r.keccak=function(e,r){switch(void 0===r&&(r=256),e="string"!=typeof e||c.isHexString(e)?h.toBuffer(e):t.from(e,"utf8"),r||(r=256),r){case 224:return i(e);case 256:return o(e);case 384:return s(e);case 512:return a(e);default:throw new Error("Invald algorithm: keccak"+r)}},r.keccak256=function(e){return r.keccak(e)},r.sha256=function(e){return e=h.toBuffer(e),u("sha256").update(e).digest()},r.ripemd160=function(e,t){e=h.toBuffer(e);var r=u("rmd160").update(e).digest();return!0===t?h.setLength(r,32):r},r.rlphash=function(e){return r.keccak(l.encode(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/Users/mac/code/metamask-extension/node_modules/web3-provider-engine/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/dist/hash.js"}],[3861,{"./secp256k1v3-lib/der":3862,"./secp256k1v3-lib/index":3863,buffer:1659,"ethereum-cryptography/secp256k1":2043},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.ecdhUnsafe=r.ecdh=r.recover=r.verify=r.sign=r.signatureImportLax=r.signatureImport=r.signatureExport=r.signatureNormalize=r.publicKeyCombine=r.publicKeyTweakMul=r.publicKeyTweakAdd=r.publicKeyVerify=r.publicKeyConvert=r.publicKeyCreate=r.privateKeyTweakMul=r.privateKeyTweakAdd=r.privateKeyModInverse=r.privateKeyNegate=r.privateKeyImport=r.privateKeyExport=r.privateKeyVerify=void 0;var n=e("ethereum-cryptography/secp256k1"),i=e("./secp256k1v3-lib/index"),s=e("./secp256k1v3-lib/der");r.privateKeyVerify=function(e){return 32===e.length&&n.privateKeyVerify(Uint8Array.from(e))},r.privateKeyExport=function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var r=i.privateKeyExport(e,t);return s.privateKeyExport(e,r,t)},r.privateKeyImport=function(e){if(null!==(e=s.privateKeyImport(e))&&32===e.length&&r.privateKeyVerify(e))return e;throw new Error("couldn't import from DER format")},r.privateKeyNegate=function(e){return t.from(n.privateKeyNegate(Uint8Array.from(e)))},r.privateKeyModInverse=function(e){if(32!==e.length)throw new Error("private key length is invalid");return t.from(i.privateKeyModInverse(Uint8Array.from(e)))},r.privateKeyTweakAdd=function(e,r){return t.from(n.privateKeyTweakAdd(Uint8Array.from(e),r))},r.privateKeyTweakMul=function(e,r){return t.from(n.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(r)))},r.publicKeyCreate=function(e,r){return t.from(n.publicKeyCreate(Uint8Array.from(e),r))},r.publicKeyConvert=function(e,r){return t.from(n.publicKeyConvert(Uint8Array.from(e),r))},r.publicKeyVerify=function(e){return(33===e.length||65===e.length)&&n.publicKeyVerify(Uint8Array.from(e))},r.publicKeyTweakAdd=function(e,r,i){return t.from(n.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(r),i))},r.publicKeyTweakMul=function(e,r,i){return t.from(n.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(r),i))},r.publicKeyCombine=function(e,r){var i=[];return e.forEach((function(e){i.push(Uint8Array.from(e))})),t.from(n.publicKeyCombine(i,r))},r.signatureNormalize=function(e){return t.from(n.signatureNormalize(Uint8Array.from(e)))},r.signatureExport=function(e){return t.from(n.signatureExport(Uint8Array.from(e)))},r.signatureImport=function(e){return t.from(n.signatureImport(Uint8Array.from(e)))},r.signatureImportLax=function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=s.signatureImportLax(e);if(null===t)throw new Error("couldn't parse DER signature");return i.signatureImport(t)},r.sign=function(e,r,i){if(null===i)throw new TypeError("options should be an Object");var s=undefined;if(i){if(s={},null===i.data)throw new TypeError("options.data should be a Buffer");if(i.data){if(32!=i.data.length)throw new RangeError("options.data length is invalid");s.data=new Uint8Array(i.data)}if(null===i.noncefn)throw new TypeError("options.noncefn should be a Function");i.noncefn&&(s.noncefn=function(e,r,n,s,o){var a=null!=n?t.from(n):null,u=null!=s?t.from(s):null,c=t.from("");return i.noncefn&&(c=i.noncefn(t.from(e),t.from(r),a,u,o)),new Uint8Array(c)})}var o=n.ecdsaSign(Uint8Array.from(e),Uint8Array.from(r),s);return{signature:t.from(o.signature),recovery:o.recid}},r.verify=function(e,t,r){return n.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),r)},r.recover=function(e,r,i,s){return t.from(n.ecdsaRecover(Uint8Array.from(r),i,Uint8Array.from(e),s))},r.ecdh=function(e,r){return t.from(n.ecdh(Uint8Array.from(e),Uint8Array.from(r),{}))},r.ecdhUnsafe=function(e,r,n){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==r.length)throw new RangeError("private key length is invalid");return t.from(i.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(r),n))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/Users/mac/code/metamask-extension/node_modules/web3-provider-engine/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/dist/secp256k1v3-adapter.js"}],[1921,{prr:3225},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("prr");function i(e,t,r){t&&"string"!=typeof t&&(t=t.message||t.name),n(this,{type:e,name:e,cause:"string"!=typeof t?t:r,message:t},"ewr")}function s(e,t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),i.call(this,"CustomError",e,t)}s.prototype=new Error,t.exports=function(e){var t=function(t,r){return function(e,t,r){var n=function(r,s){i.call(this,t,r,s),"FilesystemError"==t&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(e.errno[this.cause.errno]?e.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,n)};return n.prototype=r?new r:new s,n}(e,t,r)};return{CustomError:s,FilesystemError:t("FilesystemError"),createError:t}}}}},{package:"errno",file:"/Users/mac/code/metamask-extension/node_modules/errno/custom.js"}],[3116,{"../../../errors":3107},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){a=!1,c=!0,o||s.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){o=!1,h=!0,a||s.call(t)},d=function(e){s.call(t,e)},p=function(){var e;return o&&!h?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)}}}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/orbit-db-keystore/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[3118,{"../../../errors":3107,"./end-of-stream":3116},function(){with(this)return function(){"use strict";return function(e,t,r){var n;var i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(t,r,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),n===undefined&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var u=!1;return function(e){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,r){var s=r<t.length-1;return u(e,s,r>0,(function(e){n||(n=e),e&&o.forEach(c),s||(o.forEach(c),i(n))}))}));return t.reduce(l)}}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/orbit-db-keystore/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[3108,{"./_stream_readable":3110,"./_stream_writable":3112,_process:3204,inherits:2255},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=c;var i=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(c,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var u=o[a];c.prototype[u]||(c.prototype[u]=s.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/orbit-db-keystore/node_modules/readable-stream/lib/_stream_duplex.js"}],[3109,{"./_stream_transform":3111,inherits:2255},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/orbit-db-keystore/node_modules/readable-stream/lib/_stream_passthrough.js"}],[3111,{"../errors":3107,"./_stream_duplex":3108,inherits:2255},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=l;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/orbit-db-keystore/node_modules/readable-stream/lib/_stream_transform.js"}],[3112,{"../errors":3107,"./_stream_duplex":3108,"./internal/streams/destroy":3115,"./internal/streams/state":3119,"./internal/streams/stream":3120,_process:3204,buffer:1659,inherits:2255,"util-deprecate":3810},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=E,E.WritableState=M;var s={deprecate:e("util-deprecate")},o=e("./internal/streams/stream"),a=e("buffer").Buffer,u=global.Uint8Array||function(){};var c,l=e("./internal/streams/destroy"),h=e("./internal/streams/state").getHighWaterMark,f=e("../errors").codes,d=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,v=f.ERR_STREAM_WRITE_AFTER_END,_=f.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;function k(){}function M(t,s,o){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof o&&(o=s instanceof i),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if("function"!=typeof s)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,s){--t.pendingcb,n?(r.nextTick(s,i),r.nextTick(j,e,t),e._writableState.errorEmitted=!0,w(e,i)):(s(i),e._writableState.errorEmitted=!0,w(e,i),j(e,t))}(e,n,i,t,s);else{var o=A(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||R(e,n),i?r.nextTick(x,e,n,o,s):x(e,n,o,s)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function E(t){var r=this instanceof(i=i||e("./_stream_duplex"));if(!r&&!c.call(E,this))return new E(t);this._writableState=new M(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function S(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function x(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),j(e,t)}function R(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)s[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;s.allBuffers=u,S(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(S(e,t,!1,t.objectMode?1:c.length,c,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(r){t.pendingcb--,r&&w(e,r),t.prefinished=!0,e.emit("prefinish"),j(e,t)}))}function j(e,t){var n=A(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(E,o),M.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(M.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===E&&(e&&e._writableState instanceof M)}})):c=function(e){return e instanceof this},E.prototype.pipe=function(){w(this,new g)},E.prototype.write=function(e,t,n){var i,s=this._writableState,o=!1,c=!s.objectMode&&(i=e,a.isBuffer(i)||i instanceof u);return c&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),c?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=k),s.ending?function(e,t){var n=new v;w(e,n),r.nextTick(t,n)}(this,n):(c||function(e,t,n,i){var s;return null===n?s=new b:"string"==typeof n||t.objectMode||(s=new d("chunk",["string","Buffer"],n)),!s||(w(e,s),r.nextTick(i,s),!1)}(this,s,e,n))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var u=t.objectMode?1:n.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,u,n,i,s);return c}(this,s,c,e,t,n)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||R(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new p("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,j(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=l.destroy,E.prototype._undestroy=l.undestroy,E.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/orbit-db-keystore/node_modules/readable-stream/lib/_stream_writable.js"}],[3110,{"../errors":3107,"./_stream_duplex":3108,"./internal/streams/async_iterator":3113,"./internal/streams/buffer_list":3114,"./internal/streams/destroy":3115,"./internal/streams/from":3117,"./internal/streams/state":3119,"./internal/streams/stream":3120,_process:3204,buffer:1659,events:1660,inherits:2255,"string_decoder/":3122,util:1658},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;t.exports=E,E.ReadableState=M;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),o=e("buffer").Buffer,a=global.Uint8Array||function(){};var u,c=e("util");u=c&&c.debuglog?c.debuglog("stream"):function(){};var l,h,f,d=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,v=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(E,s);var w=p.errorOrDestroy,k=["error","close","destroy","pause","resume"];function M(t,r,i){n=n||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function E(t){if(n=n||e("./_stream_duplex"),!(this instanceof E))return new E(t);var r=this instanceof n;this._readableState=new M(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function S(e,t,r,n,i){u("readableAddChunk",t);var s,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?T(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,j(e)))}(e,c);else if(i||(s=function(e,t){var r;n=t,o.isBuffer(n)||n instanceof a||"string"==typeof t||t===undefined||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(c,t)),s)w(e,s);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),n)c.endEmitted?w(e,new _):x(e,c,t,!0);else if(c.ended)w(e,new b);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?x(e,c,t,!1):C(e,c)):x(e,c,t,!1)}else n||(c.reading=!1,C(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function x(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&T(e)),C(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=p.destroy,E.prototype._undestroy=p.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=o.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},E.prototype.unshift=function(e){return S(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var r=new l(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var R=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(j,e))}function j(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,N(e)}function C(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){u("readable nexttick read 0"),e.read(0)}function L(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(D,t,e))}function D(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function q(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):T(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=e>0?P(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(e){w(this,new v("_read()"))},E.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,u("pipe count=%d opts=%j",s.pipesCount,t);var o=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:g;function a(t,r){u("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",a),n.removeListener("end",c),n.removeListener("end",g),n.removeListener("data",f),h=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}s.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,N(e))}}(n);e.on("drain",l);var h=!1;function f(t){u("ondata");var r=e.write(t);u("dest.write",r),!1===r&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==q(s.pipes,e))&&!h&&(u("false write response, pause",s.awaitDrain),s.awaitDrain++),n.pause())}function d(t){u("onerror",t),g(),e.removeListener("error",d),0===i(e,"error")&&w(e,t)}function p(){e.removeListener("finish",m),g()}function m(){u("onfinish"),e.removeListener("close",p),g()}function g(){u("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",p),e.once("finish",m),e.emit("pipe",n),s.flowing||(u("pipe resume"),n.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=q(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,u("on readable",i.length,i.reading),i.length?T(this):i.reading||r.nextTick(O,this))),n},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(B,this),n},E.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||r.nextTick(B,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(L,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&i!==undefined)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<k.length;s++)e.on(k[s],this.emit.bind(this,k[s]));return this._read=function(t){u("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return h===undefined&&(h=e("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=P,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,r){return f===undefined&&(f=e("./internal/streams/from")),f(E,t,r)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/Users/mac/code/metamask-extension/node_modules/orbit-db-keystore/node_modules/readable-stream/lib/_stream_readable.js"}],[1312,{},function(){with(this)return function(){"use strict";return function(e,t,r){function n(){this.head=this.tail=null,this.length=0}function i(e,t){e.length=1,e.head=e.tail=t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n,n.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},n.prototype.empty=function(){for(;this.head;)this.shift();return this},n.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},n.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},n.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):i(this,e)},n.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):i(this,e)},n.prototype.shift=function(){return this.head&&this.removeLink(this.head)},n.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},n.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,r=0;r<this.length;r++)e[r]=t.data,t=t.next;return e},n.prototype.remove=function(e){for(var t=this.head;t;){var r=t.next;e(t)&&this.removeLink(t),t=r}return this},t.exports=r.default}}},{package:"async",file:"/Users/mac/code/metamask-extension/node_modules/async/internal/DoublyLinkedList.js"}],[1787,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports="This is a repository of IPLD objects. Each IPLD object is in a single file,\nnamed <base32 encoding of cid>.data. Where <base32 encoding of cid> is the\n\"base32\" encoding of the CID (as specified in\nhttps://github.com/multiformats/multibase) without the 'B' prefix.\nAll the object files are placed in a tree of directories, based on a\nfunction of the CID. This is a form of sharding similar to\nthe objects directory in git repositories. Previously, we used\nprefixes, we now use the next-to-last two charters.\n    func NextToLast(base32cid string) {\n      nextToLastLen := 2\n      offset := len(base32cid) - nextToLastLen - 1\n      return str[offset : offset+nextToLastLen]\n    }\nFor example, an object with a base58 CIDv1 of\n    zb2rhYSxw4ZjuzgCnWSt19Q94ERaeFhu9uSqRgjSdx9bsgM6f\nhas a base32 CIDv1 of\n    BAFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA\nand will be placed at\n    SC/AFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA.data\nwith 'SC' being the last-to-next two characters and the 'B' at the\nbeginning of the CIDv1 string is the multibase prefix that is not\nstored in the filename.\n"}}},{package:"datastore-core",file:"/Users/mac/code/metamask-extension/node_modules/datastore-core/src/shard-readme.js"}],[3244,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t,r,n=!!e,i=(e||[]).map(o),s=0;function o(e){return{ready:!1,reading:!1,ended:!1,read:e,data:null}}function a(){if(r){!function(){var e=i.length;for(;e--;)i[e].ended&&i.splice(e,1)}();var e=i.length,o=r;if(0===e&&(t||n))return r=null,void o(t||!0);for(var a=0;a<e;a++){var u=i[(s+a)%e];if(u.ready&&!u.ended){var c=u.data;return u.ready=!1,u.data=null,s++,r=null,o(null,c)}}}}function u(){for(var e=i.length;e--;)!function(r){if(e>i.length)throw new Error("this should never happen");if(!(r.reading||r.ended||r.ready)){r.reading=!0;var n=!0;r.read(t,(function e(i,s){r.data=s,r.ready=!0,r.reading=!1,!0===i||t?r.ended=!0:i&&(t=r.ended=i),t&&!i&&r.read(t,e),n||a()})),n=!1}}(i[e]);a()}function c(e,n){t=t||e,r=n,u()}return c.add=function(e){if(!e)return n=!0,u();i.push(o(e)),u()},c.cap=function(e){c.add(null)},c}}}},{package:"pull-many",file:"/Users/mac/code/metamask-extension/node_modules/pull-many/index.js"}],[1319,{"./wrapAsync":1334,"lodash/_arrayMap":2825,"lodash/_baseProperty":2852,"lodash/isArrayLike":2937,"lodash/noop":2951},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r,n){((0,i.default)(t)?c:l)(e,t,(0,a.default)(r),n||o.default)};var n=u(e("lodash/_arrayMap")),i=u(e("lodash/isArrayLike")),s=u(e("lodash/_baseProperty")),o=u(e("lodash/noop")),a=u(e("./wrapAsync"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,n){var i=new Array(t.length);e(t,(function(e,t,n){r(e,(function(e,r){i[t]=!!r,n(e)}))}),(function(e){if(e)return n(e);for(var r=[],s=0;s<t.length;s++)i[s]&&r.push(t[s]);n(null,r)}))}function l(e,t,r,i){var o=[];e(t,(function(e,t,n){r(e,(function(r,i){r?n(r):(i&&o.push({index:t,value:e}),n())}))}),(function(e){e?i(e):i(null,(0,n.default)(o.sort((function(e,t){return e.index-t.index})),(0,s.default)("value")))}))}t.exports=r.default}}},{package:"async",file:"/Users/mac/code/metamask-extension/node_modules/async/internal/filter.js"}],[2621,{"./lib/encodings":2622},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./lib/encodings");function i(e){if(!(this instanceof i))return new i(e);this.opts=e||{},this.encodings=n}t.exports=i,i.prototype._encoding=function(e){return"string"==typeof e&&(e=n[e]),e||(e=n.id),e},i.prototype._keyEncoding=function(e,t){return this._encoding(t&&t.keyEncoding||e&&e.keyEncoding||this.opts.keyEncoding)},i.prototype._valueEncoding=function(e,t){return this._encoding(t&&(t.valueEncoding||t.encoding)||e&&(e.valueEncoding||e.encoding)||this.opts.valueEncoding||this.opts.encoding)},i.prototype.encodeKey=function(e,t,r){return this._keyEncoding(t,r).encode(e)},i.prototype.encodeValue=function(e,t,r){return this._valueEncoding(t,r).encode(e)},i.prototype.decodeKey=function(e,t){return this._keyEncoding(t).decode(e)},i.prototype.decodeValue=function(e,t){return this._valueEncoding(t).decode(e)},i.prototype.encodeBatch=function(e,t){var r=this;return e.map((function(e){var n={type:e.type,key:r.encodeKey(e.key,t,e)};return r.keyAsBuffer(t,e)&&(n.keyEncoding="binary"),e.prefix&&(n.prefix=e.prefix),"value"in e&&(n.value=r.encodeValue(e.value,t,e),r.valueAsBuffer(t,e)&&(n.valueEncoding="binary")),n}))};var s=["lt","gt","lte","gte","start","end"];i.prototype.encodeLtgt=function(e){var t=this,r={};return Object.keys(e).forEach((function(n){r[n]=s.indexOf(n)>-1?t.encodeKey(e[n],e):e[n]})),r},i.prototype.createStreamDecoder=function(e){var t=this;return e.keys&&e.values?function(r,n){return{key:t.decodeKey(r,e),value:t.decodeValue(n,e)}}:e.keys?function(r){return t.decodeKey(r,e)}:e.values?function(r,n){return t.decodeValue(n,e)}:function(){}},i.prototype.keyAsBuffer=function(e){return this._keyEncoding(e).buffer},i.prototype.valueAsBuffer=function(e){return this._valueEncoding(e).buffer}}}},{package:"level-codec",file:"/Users/mac/code/metamask-extension/node_modules/level-codec/index.js"}],[1796,{_process:3204,"abstract-leveldown":1800,buffer:1659,"idb-readable-stream":2239,ltgt:2963,stream:3698,util:1665,xtend:3965},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r,n){(function(){var i=e("util"),s=e("abstract-leveldown").AbstractIterator,o=e("ltgt"),a=e("idb-readable-stream"),u=e("stream"),c=e("xtend"),l=u.Writable;function h(e,t){if(this._db=e._db,this._idbOpts=e._idbOpts,s.call(this,e),this._options=c({snapshot:!0},this._idbOpts,t),this._limit=this._options.limit,null!=this._limit&&-1!==this._limit||(this._limit=Infinity),"number"!=typeof this._limit)throw new TypeError("options.limit must be a number");0!==this._limit&&(this._count=0,this._startCursor(this._options))}t.exports=h,i.inherits(h,s),h.prototype._startCursor=function(e){e=c(this._options,e);var t=this,r=null,n=o.lowerBound(e),i=o.upperBound(e),s=o.lowerBoundExclusive(e),u=o.upperBoundExclusive(e),h=e.reverse?"prev":"next";if(n&&("binary"!==e.keyEncoding||Array.isArray(n)||(n=Array.prototype.slice.call(n))),i&&("binary"!==e.keyEncoding||Array.isArray(i)||(i=Array.prototype.slice.call(i))),n&&i)try{r=IDBKeyRange.bound(n,i,s,u)}catch(e){return void(this._keyRangeError=!0)}else n?r=IDBKeyRange.lowerBound(n,s):i&&(r=IDBKeyRange.upperBound(i,u));this._reader=a(this._db,this._idbOpts.storeName,c(e,{range:r,direction:h})),this._reader.on("error",(function(e){var r=t._callback;t._callback=!1,r?r(e):t._readNext=function(t){t(e)}})),this._reader.pipe(new l({objectMode:!0,write:function(e,r,n){if(t._count++>=t._limit)return t._reader.pause(),t._reader.unpipe(this),n(),void this.end();var i=t._callback;t._callback=!1,i?t._processItem(e,(function(e,t,r){n(e),i(e,t,r)})):t._readNext=function(r){t._processItem(e,(function(e,t,i){n(e),r(e,t,i)}))}}})).on("finish",(function(){var e=t._callback;t._callback=!1,e?e():t._readNext=function(e){e()}}))},h.prototype._processItem=function(e,t){if("function"!=typeof t)throw new TypeError("cb must be a function");var r=e.key,i=e.value;if(i instanceof Uint8Array&&(i=new n(i)),"binary"===this._options.keyEncoding&&Array.isArray(r)&&(r=new n(r)),"binary"!==this._options.valueEncoding||n.isBuffer(i)||(i=new n(i)),this._options.keyAsBuffer&&!n.isBuffer(r))if(null==r)r=new n(0);else if("string"==typeof r)r=new n(r);else if("boolean"==typeof r)r=new n(String(r));else if("number"==typeof r)r=new n(String(r));else if(Array.isArray(r))r=new n(String(r));else{if(!(r instanceof Uint8Array))throw new TypeError("can't coerce `"+r.constructor.name+"` into a Buffer");r=new n(r)}if(this._options.valueAsBuffer&&!n.isBuffer(i))if(null==i)i=new n(0);else if("string"==typeof i)i=new n(i);else if("boolean"==typeof i)i=new n(String(i));else if("number"==typeof i)i=new n(String(i));else if(Array.isArray(i))i=new n(String(i));else{if(!(i instanceof Uint8Array))throw new TypeError("can't coerce `"+i.constructor.name+"` into a Buffer");i=new n(i)}t(null,r,i)},h.prototype._next=function(e){if(this._callback)throw new Error("callback already exists");if(this._keyRangeError||0===this._limit)e();else{var t=this._readNext;this._readNext=!1,t?r.nextTick((function(){t(e)})):this._callback=e}}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"level-js",file:"/Users/mac/code/metamask-extension/node_modules/datastore-level/node_modules/level-js/iterator.js"}],[1800,{"./abstract-chained-batch":1797,"./abstract-iterator":1798,"./abstract-leveldown":1799,"./is-leveldown":1801},function(){with(this)return function(){"use strict";return function(e,t,r){r.AbstractLevelDOWN=e("./abstract-leveldown"),r.AbstractIterator=e("./abstract-iterator"),r.AbstractChainedBatch=e("./abstract-chained-batch"),r.isLevelDOWN=e("./is-leveldown")}}},{package:"abstract-leveldown",file:"/Users/mac/code/metamask-extension/node_modules/datastore-level/node_modules/level-js/node_modules/abstract-leveldown/index.js"}],[1803,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.getCallback=function(e,t){return"function"==typeof e?e:t},r.getOptions=function(e){return"object"==typeof e&&null!==e?e:{}}}}},{package:"levelup",file:"/Users/mac/code/metamask-extension/node_modules/datastore-level/node_modules/levelup/lib/common.js"}],[1805,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){var e,t=new Promise((function(t,r){e=function(e,n){e?r(e):t(n)}}));return e.promise=t,e}}}},{package:"levelup",file:"/Users/mac/code/metamask-extension/node_modules/datastore-level/node_modules/levelup/lib/promisify.js"}],[1802,{"./common":1803,"./promisify":1805,"level-errors":2623},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("level-errors").WriteError,i=e("./promisify"),s=e("./common").getCallback,o=e("./common").getOptions;function a(e){this._levelup=e,this.batch=e.db.batch(),this.ops=[],this.length=0}a.prototype.put=function(e,t){try{this.batch.put(e,t)}catch(e){throw new n(e)}return this.ops.push({type:"put",key:e,value:t}),this.length++,this},a.prototype.del=function(e){try{this.batch.del(e)}catch(e){throw new n(e)}return this.ops.push({type:"del",key:e}),this.length++,this},a.prototype.clear=function(){try{this.batch.clear()}catch(e){throw new n(e)}return this.ops=[],this.length=0,this},a.prototype.write=function(e,t){var r,a=this._levelup,u=this.ops;(t=s(e,t))||(r=(t=i()).promise),e=o(e);try{this.batch.write(e,(function(e){if(e)return t(new n(e));a.emit("batch",u),t()}))}catch(e){throw new n(e)}return r},t.exports=a}}},{package:"levelup",file:"/Users/mac/code/metamask-extension/node_modules/datastore-level/node_modules/levelup/lib/batch.js"}],[1792,{"./deferred-iterator":1791,"abstract-leveldown":1243,inherits:2255},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("abstract-leveldown").AbstractLevelDOWN,i=e("inherits"),s=e("./deferred-iterator"),o="put get del batch".split(" ");function a(e){n.call(this,""),this._db=e,this._operations=[],this._iterators=[],u(this)}function u(e){o.forEach((function(t){e["_"+t]=function(){this._operations.push({method:t,args:arguments})}})),"function"==typeof e._db.approximateSize&&(e.approximateSize=function(){this._operations.push({method:"approximateSize",args:arguments})}),e._iterator=function(e){var t=new s(e);return this._iterators.push(t),t}}i(a,n),a.prototype._open=function(e,t){var r=this;this._db.open(e,(function(e){if(e)return t(e);r._operations.forEach((function(e){r._db[e.method].apply(r._db,e.args)})),r._operations=[],r._iterators.forEach((function(e){e.setDb(r._db)})),r._iterators=[],function(e){o.concat("iterator").forEach((function(t){e["_"+t]=function(){return this._db[t].apply(this._db,arguments)}})),e._db.approximateSize&&(e.approximateSize=function(){return this._db.approximateSize.apply(this._db,arguments)})}(r),t()}))},a.prototype._close=function(e){var t=this;this._db.close((function(r){if(r)return e(r);u(t),e()}))},a.prototype._serializeKey=function(e){return e},a.prototype._serializeValue=function(e){return e},t.exports=a,t.exports.DeferredIterator=s}}},{package:"deferred-leveldown",file:"/Users/mac/code/metamask-extension/node_modules/datastore-level/node_modules/deferred-leveldown/deferred-leveldown.js"}],[1794,{inherits:2255,"readable-stream":1820,xtend:3965},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("inherits"),i=e("readable-stream").Readable,s=e("xtend");function o(e,t){if(!(this instanceof o))return new o(e,t);t=t||{},i.call(this,s(t,{objectMode:!0})),this._iterator=e,this._options=t,this.on("end",this.destroy.bind(this,null,null))}t.exports=o,n(o,i),o.prototype._read=function(){var e=this,t=this._options;this.destroyed||this._iterator.next((function(r,n,i){if(!e.destroyed)return r?e.destroy(r):void(n===undefined&&i===undefined?e.push(null):!1!==t.keys&&!1===t.values?e.push(n):!1===t.keys&&!1!==t.values?e.push(i):e.push({key:n,value:i}))}))},o.prototype._destroy=function(e,t){this._iterator.end((function(r){t(e||r)}))}}}},{package:"level-iterator-stream",file:"/Users/mac/code/metamask-extension/node_modules/datastore-level/node_modules/level-iterator-stream/index.js"}],[2652,{_process:3204,buffer:1659},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e,t){(function(){r.toCallback=t=>function(r,n){let i;try{i=t(r)}catch(t){return void e.nextTick(n,t)}e.nextTick(n,null,i)},r.toBuf=(e,r)=>n=>{let i=e(n,r);return t.from(i,"hex")},r.fromString=(e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)},r.fromNumberTo32BitBuf=(e,r)=>n=>{let i=e(n,r);const s=new Array(4);for(let e=0;e<4;e++)s[e]=255&i,i>>=8;return t.from(s)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-crypto/node_modules/multihashing-async/src/utils.js"}],[2649,{buffer:1659,nodeify:3057},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("nodeify"),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function s(e){if(!i)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return(t,s)=>{const o=i.digest({name:e},t);if("function"!=typeof o.then)return o.onerror=()=>{s(new Error(`hashing data using ${e}`))},void(o.oncomplete=e=>{s(null,e.target.result)});n(o.then((e=>r.from(new Uint8Array(e)))),s)}}t.exports={sha1:function(e,t){s("SHA-1")(e,t)},sha2256:function(e,t){s("SHA-256")(e,t)},sha2512:function(e,t){s("SHA-512")(e,t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-crypto/node_modules/multihashing-async/src/crypto-sha1-2-browser.js"}],[2648,{"./utils":2652,blakejs:1611,buffer:1659},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("blakejs"),i=e("./utils").toCallback,s={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},o={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(e,t)=>i((n=>{const i=t.init(e,null);return t.update(i,n),r.from(t.digest(i))}));t.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,s);for(let t=0;t<32;t++)e[45633+t]=a(t+1,o)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-crypto/node_modules/multihashing-async/src/blake.js"}],[3217,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t,r=function(e){return e.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(r).filter(Boolean).map((function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e})).map(r).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((t=!1,function(e){return"/*"===e?(t=!0,!1):"*/"===e?(t=!1,!1):!t}))}}}},{package:"protocol-buffers-schema",file:"/Users/mac/code/metamask-extension/node_modules/protocol-buffers-schema/tokenize.js"}],[3223,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.defined=function(e){return null!==e&&e!==undefined&&("number"!=typeof e||!isNaN(e))}}}},{package:"protons",file:"/Users/mac/code/metamask-extension/node_modules/protons/src/compile/utils.js"}],[3627,{varint:3833},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("varint");r.encode=function e(t,r,i){t=t>=0?2*t:-2*t-1;var s=n.encode(t,r,i);return e.bytes=n.encode.bytes,s},r.decode=function e(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,1&i?(i+1)/-2:i/2},r.encodingLength=function(e){return n.encodingLength(e>=0?2*e:-2*e-1)}}}},{package:"signed-varint",file:"/Users/mac/code/metamask-extension/node_modules/signed-varint/index.js"}],[1262,{"./der":1261},function(){with(this)return function(){"use strict";return function(e,t,r){const n=r;n._reverse=function(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const n=e[r];t[n]=r})),t},n.der=e("./der")}}},{package:"asn1.js",file:"/Users/mac/code/metamask-extension/node_modules/asn1.js/lib/asn1/constants/index.js"}],[1256,{"./decoders":1264,"./encoders":1267,inherits:2255},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./encoders"),i=e("./decoders"),s=e("inherits");function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}r.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){const t=this.name;function r(e){this._initNamed(e,t)}return s(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},o.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n[e])),this.encoders[e]},o.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}}}},{package:"asn1.js",file:"/Users/mac/code/metamask-extension/node_modules/asn1.js/lib/asn1/api.js"}],[1267,{"./der":1266,"./pem":1268},function(){with(this)return function(){"use strict";return function(e,t,r){const n=r;n.der=e("./der"),n.pem=e("./pem")}}},{package:"asn1.js",file:"/Users/mac/code/metamask-extension/node_modules/asn1.js/lib/asn1/encoders/index.js"}],[1258,{"./buffer":1257,"./node":1259,"./reporter":1260},function(){with(this)return function(){"use strict";return function(e,t,r){const n=r;n.Reporter=e("./reporter").Reporter,n.DecoderBuffer=e("./buffer").DecoderBuffer,n.EncoderBuffer=e("./buffer").EncoderBuffer,n.Node=e("./node")}}},{package:"asn1.js",file:"/Users/mac/code/metamask-extension/node_modules/asn1.js/lib/asn1/base/index.js"}],[1264,{"./der":1263,"./pem":1265},function(){with(this)return function(){"use strict";return function(e,t,r){const n=r;n.der=e("./der"),n.pem=e("./pem")}}},{package:"asn1.js",file:"/Users/mac/code/metamask-extension/node_modules/asn1.js/lib/asn1/decoders/index.js"}],[2645,{_process:3204,buffer:1659},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e,t){(function(){r.toCallback=t=>function(r,n){let i;try{i=t(r)}catch(t){return void e.nextTick(n,t)}e.nextTick(n,null,i)},r.toBuf=(e,r)=>n=>{let i=e(n,r);return t.from(i,"hex")},r.fromString=(e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)},r.fromNumberTo32BitBuf=(e,r)=>n=>{let i=e(n,r);const s=new Array(4);for(let e=0;e<4;e++)s[e]=255&i,i>>=8;return t.from(s)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/node_modules/multihashing-async/src/utils.js"}],[2641,{"./utils":2645,blakejs:1611,buffer:1659},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("blakejs"),i=e("./utils").toCallback,s={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},o={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(e,t)=>i((n=>{const i=t.init(e,null);return t.update(i,n),r.from(t.digest(i))}));t.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,s);for(let t=0;t<32;t++)e[45633+t]=a(t+1,o)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/node_modules/multihashing-async/src/blake.js"}],[2642,{buffer:1659,nodeify:3057},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("nodeify"),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function s(e){if(!i)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return(t,s)=>{const o=i.digest({name:e},t);if("function"!=typeof o.then)return o.onerror=()=>{s(new Error(`hashing data using ${e}`))},void(o.oncomplete=e=>{s(null,e.target.result)});n(o.then((e=>r.from(new Uint8Array(e)))),s)}}t.exports={sha1:function(e,t){s("SHA-1")(e,t)},sha2256:function(e,t){s("SHA-256")(e,t)},sha2512:function(e,t){s("SHA-512")(e,t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/node_modules/multihashing-async/src/crypto-sha1-2-browser.js"}],[3604,{"../messages.json":3605,"./bn":3599,"./ecpoint":3602,"./ecpointg":3603,"create-hash":1737,"drbg.js/hmac":1883,"safe-buffer":3577},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer,i=e("create-hash"),s=e("drbg.js/hmac"),o=e("../messages.json"),a=e("./bn"),u=e("./ecpoint"),c=e("./ecpointg");r.privateKeyVerify=function(e){var t=a.fromBuffer(e);return!(t.isOverflow()||t.isZero())},r.privateKeyExport=function(e,t){var r=a.fromBuffer(e);if(r.isOverflow()||r.isZero())throw new Error(o.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return c.mul(r).toPublicKey(t)},r.privateKeyNegate=function(e){var t=a.fromBuffer(e);return t.isZero()?n.alloc(32):(t.ucmp(a.n)>0&&t.isub(a.n),a.n.sub(t).toBuffer())},r.privateKeyModInverse=function(e){var t=a.fromBuffer(e);if(t.isOverflow()||t.isZero())throw new Error(o.EC_PRIVATE_KEY_RANGE_INVALID);return t.uinvm().toBuffer()},r.privateKeyTweakAdd=function(e,t){var r=a.fromBuffer(t);if(r.isOverflow())throw new Error(o.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(r.iadd(a.fromBuffer(e)),r.isOverflow()&&r.isub(a.n),r.isZero())throw new Error(o.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return r.toBuffer()},r.privateKeyTweakMul=function(e,t){var r=a.fromBuffer(t);if(r.isOverflow()||r.isZero())throw new Error(o.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);var n=a.fromBuffer(e);return r.umul(n).ureduce().toBuffer()},r.publicKeyCreate=function(e,t){var r=a.fromBuffer(e);if(r.isOverflow()||r.isZero())throw new Error(o.EC_PUBLIC_KEY_CREATE_FAIL);return c.mul(r).toPublicKey(t)},r.publicKeyConvert=function(e,t){var r=u.fromPublicKey(e);if(null===r)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);return r.toPublicKey(t)},r.publicKeyVerify=function(e){return null!==u.fromPublicKey(e)},r.publicKeyTweakAdd=function(e,t,r){var n=u.fromPublicKey(e);if(null===n)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);if((t=a.fromBuffer(t)).isOverflow())throw new Error(o.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var i=c.mul(t).add(n);if(i.inf)throw new Error(o.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return i.toPublicKey(r)},r.publicKeyTweakMul=function(e,t,r){var n=u.fromPublicKey(e);if(null===n)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);if((t=a.fromBuffer(t)).isOverflow()||t.isZero())throw new Error(o.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.mul(t).toPublicKey(r)},r.publicKeyCombine=function(e,t){for(var r=new Array(e.length),n=0;n<e.length;++n)if(r[n]=u.fromPublicKey(e[n]),null===r[n])throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);for(var i=r[0],s=1;s<r.length;++s)i=i.add(r[s]);if(i.inf)throw new Error(o.EC_PUBLIC_KEY_COMBINE_FAIL);return i.toPublicKey(t)},r.signatureNormalize=function(e){var t=a.fromBuffer(e.slice(0,32)),r=a.fromBuffer(e.slice(32,64));if(t.isOverflow()||r.isOverflow())throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);var i=n.from(e);return r.isHigh()&&a.n.sub(r).toBuffer().copy(i,32),i},r.signatureExport=function(e){var t=e.slice(0,32),r=e.slice(32,64);if(a.fromBuffer(t).isOverflow()||a.fromBuffer(r).isOverflow())throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);return{r:t,s:r}},r.signatureImport=function(e){var t=a.fromBuffer(e.r);t.isOverflow()&&(t=a.fromNumber(0));var r=a.fromBuffer(e.s);return r.isOverflow()&&(r=a.fromNumber(0)),n.concat([t.toBuffer(),r.toBuffer()])},r.sign=function(e,t,r,i){var u=a.fromBuffer(t);if(u.isOverflow()||u.isZero())throw new Error(o.ECDSA_SIGN_FAIL);if(null===r){var l=new s("sha256",t,e,i);r=function(){return l.generate(32)}}for(var h=a.fromBuffer(e),f=0;;++f){var d=r(e,t,null,i,f);if(!n.isBuffer(d)||32!==d.length)throw new Error(o.ECDSA_SIGN_FAIL);var p=a.fromBuffer(d);if(!p.isOverflow()&&!p.isZero()){var m=c.mul(p),g=m.x.fireduce();if(!g.isZero()){var y=p.uinvm().umul(g.umul(u).ureduce().iadd(h).fireduce()).ureduce();if(!y.isZero()){var b=(0!==m.x.ucmp(g)?2:0)|(m.y.isOdd()?1:0);return y.isHigh()&&(y=a.n.sub(y),b^=1),{signature:n.concat([g.toBuffer(),y.toBuffer()]),recovery:b}}}}}},r.verify=function(e,t,r){var n=a.fromBuffer(t.slice(0,32)),i=a.fromBuffer(t.slice(32,64));if(n.isOverflow()||i.isOverflow())throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);if(i.isHigh()||n.isZero()||i.isZero())return!1;var s=u.fromPublicKey(r);if(null===s)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);var l=i.uinvm(),h=l.umul(a.fromBuffer(e)).ureduce(),f=l.umul(n).ureduce(),d=c.mulAdd(h,s,f);if(d.inf)return!1;var p=d.z.redSqr();return 0===n.redMul(p).ucmp(d.x)||!(n.ucmp(a.psn)>=0)&&0===n.iadd(a.psn).redMul(p).ucmp(d.x)},r.recover=function(e,t,r,i){var s=a.fromBuffer(t.slice(0,32)),l=a.fromBuffer(t.slice(32,64));if(s.isOverflow()||l.isOverflow())throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);do{if(s.isZero()||l.isZero())break;var h=s;if(r>>1){if(h.ucmp(a.psn)>=0)break;h=s.add(a.n)}var f=n.concat([n.from([2+(1&r)]),h.toBuffer()]),d=u.fromPublicKey(f);if(null===d)break;var p=s.uinvm(),m=a.n.sub(a.fromBuffer(e)).umul(p).ureduce(),g=l.umul(p).ureduce();return u.fromECJPoint(c.mulAdd(m,d,g)).toPublicKey(i)}while(0);throw new Error(o.ECDSA_RECOVER_FAIL)},r.ecdh=function(e,t){var n=r.ecdhUnsafe(e,t,!0);return i("sha256").update(n).digest()},r.ecdhUnsafe=function(e,t,r){var n=u.fromPublicKey(e);if(null===n)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);var i=a.fromBuffer(t);if(i.isOverflow()||i.isZero())throw new Error(o.ECDH_FAIL);return n.mul(i).toPublicKey(r)}}}},{package:"secp256k1",file:"/Users/mac/code/metamask-extension/node_modules/secp256k1/lib/js/index.js"}],[3020,{},function(){with(this)return function(){"use strict";return function(e,t,r){!function(e,n){var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function s(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function o(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function u(e){return e=o(e^=e>>>16,2246822507),e=o(e^=e>>>13,3266489909),e^=e>>>16}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function l(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function h(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function f(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function d(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=d(e,[0,e[0]>>>1]),e=d(e=l(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=d(e=l(e,[3301882366,444984403]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){if(i.inputValidation&&!s(e))return n;t=t||0;for(var r=e.length%4,c=e.length-r,l=t,h=0,f=3432918353,d=461845907,p=0;p<c;p+=4)h=o(h=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,f),h=o(h=a(h,15),d),l=o(l=a(l^=h,13),5)+3864292196;switch(h=0,r){case 3:h^=e[p+2]<<16;case 2:h^=e[p+1]<<8;case 1:h=o(h^=e[p],f),l^=h=o(h=a(h,15),d)}return(l=u(l^=e.length))>>>0},i.x86.hash128=function(e,t){if(i.inputValidation&&!s(e))return n;t=t||0;for(var r=e.length%16,c=e.length-r,l=t,h=t,f=t,d=t,p=0,m=0,g=0,y=0,b=597399067,v=2869860233,_=951274213,w=2716044179,k=0;k<c;k+=16)p=e[k]|e[k+1]<<8|e[k+2]<<16|e[k+3]<<24,m=e[k+4]|e[k+5]<<8|e[k+6]<<16|e[k+7]<<24,g=e[k+8]|e[k+9]<<8|e[k+10]<<16|e[k+11]<<24,y=e[k+12]|e[k+13]<<8|e[k+14]<<16|e[k+15]<<24,p=a(p=o(p,b),15),l=a(l^=p=o(p,v),19),l=o(l+=h,5)+1444728091,m=a(m=o(m,v),16),h=a(h^=m=o(m,_),17),h=o(h+=f,5)+197830471,g=a(g=o(g,_),17),f=a(f^=g=o(g,w),15),f=o(f+=d,5)+2530024501,y=a(y=o(y,w),18),d=a(d^=y=o(y,b),13),d=o(d+=l,5)+850148119;switch(p=0,m=0,g=0,y=0,r){case 15:y^=e[k+14]<<16;case 14:y^=e[k+13]<<8;case 13:y=o(y^=e[k+12],w),d^=y=o(y=a(y,18),b);case 12:g^=e[k+11]<<24;case 11:g^=e[k+10]<<16;case 10:g^=e[k+9]<<8;case 9:g=o(g^=e[k+8],_),f^=g=o(g=a(g,17),w);case 8:m^=e[k+7]<<24;case 7:m^=e[k+6]<<16;case 6:m^=e[k+5]<<8;case 5:m=o(m^=e[k+4],v),h^=m=o(m=a(m,16),_);case 4:p^=e[k+3]<<24;case 3:p^=e[k+2]<<16;case 2:p^=e[k+1]<<8;case 1:p=o(p^=e[k],b),l^=p=o(p=a(p,15),v)}return l^=e.length,l+=h^=e.length,l+=f^=e.length,h+=l+=d^=e.length,f+=l,d+=l,l=u(l),l+=h=u(h),l+=f=u(f),h+=l+=d=u(d),f+=l,d+=l,("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)},i.x64.hash128=function(e,t){if(i.inputValidation&&!s(e))return n;t=t||0;for(var r=e.length%16,o=e.length-r,a=[0,t],u=[0,t],m=[0,0],g=[0,0],y=[2277735313,289559509],b=[1291169091,658871167],v=0;v<o;v+=16)m=[e[v+4]|e[v+5]<<8|e[v+6]<<16|e[v+7]<<24,e[v]|e[v+1]<<8|e[v+2]<<16|e[v+3]<<24],g=[e[v+12]|e[v+13]<<8|e[v+14]<<16|e[v+15]<<24,e[v+8]|e[v+9]<<8|e[v+10]<<16|e[v+11]<<24],m=h(m=l(m,y),31),a=c(a=h(a=d(a,m=l(m,b)),27),u),a=c(l(a,[0,5]),[0,1390208809]),g=h(g=l(g,b),33),u=c(u=h(u=d(u,g=l(g,y)),31),a),u=c(l(u,[0,5]),[0,944331445]);switch(m=[0,0],g=[0,0],r){case 15:g=d(g,f([0,e[v+14]],48));case 14:g=d(g,f([0,e[v+13]],40));case 13:g=d(g,f([0,e[v+12]],32));case 12:g=d(g,f([0,e[v+11]],24));case 11:g=d(g,f([0,e[v+10]],16));case 10:g=d(g,f([0,e[v+9]],8));case 9:g=l(g=d(g,[0,e[v+8]]),b),u=d(u,g=l(g=h(g,33),y));case 8:m=d(m,f([0,e[v+7]],56));case 7:m=d(m,f([0,e[v+6]],48));case 6:m=d(m,f([0,e[v+5]],40));case 5:m=d(m,f([0,e[v+4]],32));case 4:m=d(m,f([0,e[v+3]],24));case 3:m=d(m,f([0,e[v+2]],16));case 2:m=d(m,f([0,e[v+1]],8));case 1:m=l(m=d(m,[0,e[v]]),y),a=d(a,m=l(m=h(m,31),b))}return a=c(a=d(a,[0,e.length]),u=d(u,[0,e.length])),u=c(u,a),a=c(a=p(a),u=p(u)),u=c(u,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)},void 0!==r?(void 0!==t&&t.exports&&(r=t.exports=i),r.murmurHash3=i):"function"==typeof define&&define.amd?define([],(function(){return i})):(i._murmurHash3=e.murmurHash3,i.noConflict=function(){return e.murmurHash3=i._murmurHash3,i._murmurHash3=n,i.noConflict=n,i},e.murmurHash3=i)}(this)}}},{package:"murmurhash3js-revisited",file:"/Users/mac/code/metamask-extension/node_modules/murmurhash3js-revisited/lib/murmurHash3js.js"}],[1612,{buffer:1659},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){function r(e){return(4294967296+e).toString(16).substring(1)}t.exports={normalizeInput:function(t){var r;if(t instanceof Uint8Array)r=t;else if(t instanceof e)r=new Uint8Array(t);else{if("string"!=typeof t)throw new Error("Input must be an string, Buffer or Uint8Array");r=new Uint8Array(e.from(t,"utf8"))}return r},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(e,t,n){for(var i="\n"+e+" = ",s=0;s<t.length;s+=2){if(32===n)i+=r(t[s]).toUpperCase(),i+=" ",i+=r(t[s+1]).toUpperCase();else{if(64!==n)throw new Error("Invalid size "+n);i+=r(t[s+1]).toUpperCase(),i+=r(t[s]).toUpperCase()}s%6==4?i+="\n"+new Array(e.length+4).join(" "):s<t.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,r){for(var n=(new Date).getTime(),i=new Uint8Array(t),s=0;s<t;s++)i[s]=s%256;var o=(new Date).getTime();for(console.log("Generated random input in "+(o-n)+"ms"),n=o,s=0;s<r;s++){var a=e(i),u=(new Date).getTime(),c=u-n;n=u,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"blakejs",file:"/Users/mac/code/metamask-extension/node_modules/blakejs/util.js"}],[3788,{"./lib/truncate":3789,"utf8-byte-length/browser":3808},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./lib/truncate"),i=e("utf8-byte-length/browser");t.exports=n.bind(null,i)}}},{package:"truncate-utf8-bytes",file:"/Users/mac/code/metamask-extension/node_modules/truncate-utf8-bytes/browser.js"}],[1302,{"./internal/createTester":1314,"./internal/doParallel":1316,"./internal/findGetResult":1320,"lodash/identity":2933},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=a(e("lodash/identity")),i=a(e("./internal/createTester")),s=a(e("./internal/doParallel")),o=a(e("./internal/findGetResult"));function a(e){return e&&e.__esModule?e:{default:e}}r.default=(0,s.default)((0,i.default)(n.default,o.default)),t.exports=r.default}}},{package:"async",file:"/Users/mac/code/metamask-extension/node_modules/async/detect.js"}],[2714,{"node-forge/lib/forge":3033,"node-forge/lib/x509":3056},function(){with(this)return function(){"use strict";return function(e,t,r){e("node-forge/lib/x509");const n=e("node-forge/lib/forge").pki;t.exports.certificateForKey=(e,t,r)=>{const i=n.setRsaPublicKey(t.n,t.e),s=n.createCertificate();s.publicKey=i,s.serialNumber="01",s.validity.notBefore=new Date,s.validity.notAfter=new Date,s.validity.notAfter.setFullYear(s.validity.notBefore.getFullYear()+10);const o=[{name:"organizationName",value:"ipfs"},{shortName:"OU",value:"keystore"},{name:"commonName",value:e.id}];return s.setSubject(o),s.setIssuer(o),s.setExtensions([{name:"basicConstraints",cA:!0},{name:"keyUsage",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:"extKeyUsage",serverAuth:!0,clientAuth:!0,codeSigning:!0,emailProtection:!0,timeStamping:!0},{name:"nsCertType",client:!0,server:!0,email:!0,objsign:!0,sslCA:!0,emailCA:!0,objCA:!0}]),s.sign(t),r(null,s)}}}},{package:"libp2p-keychain",file:"/Users/mac/code/metamask-extension/node_modules/libp2p-keychain/src/util.js"}],[3044,{"./aes":3027,"./asn1":3028,"./des":3032,"./forge":3033,"./oids":3039,"./pem":3042,"./pkcs7asn1":3045,"./random":3049,"./util":3055,"./x509":3056},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./aes"),e("./asn1"),e("./des"),e("./oids"),e("./pem"),e("./pkcs7asn1"),e("./random"),e("./util"),e("./x509");var i=n.asn1,s=t.exports=n.pkcs7=n.pkcs7||{};function o(e){var t={},r=[];if(!i.validate(e,s.asn1.recipientInfoValidator,t,r)){var o=new Error("Cannot read PKCS#7 RecipientInfo. "+"ASN.1 object is not an PKCS#7 RecipientInfo.");throw o.errors=r,o}return{version:t.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(t.issuer),serialNumber:n.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:i.derToOid(t.encAlgorithm),parameter:t.encParameter.value,content:t.encKey}}}function a(e){for(var t,r=[],s=0;s<e.length;++s)r.push((t=e[s],i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.encryptedContent.content)])));return r}function u(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:e.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),s=0;s<e.unauthenticatedAttributes.length;++s){var o=e.unauthenticatedAttributes[s];r.values.push(c(o))}t.value.push(r)}return t}function c(e){var t;if(e.type===n.pki.oids.contentType)t=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.value).getBytes());else if(e.type===n.pki.oids.messageDigest)t=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===n.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),s=new Date("2050-01-01T00:00:00Z"),o=e.value;if("string"==typeof o){var a=Date.parse(o);o=isNaN(a)?13===o.length?i.utcTimeToDate(o):i.generalizedTimeToDate(o):new Date(a)}t=o>=r&&o<s?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(o)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(o))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[t])])}function l(e,t,r){var s={};if(!i.validate(t,r,s,[])){var o=new Error("Cannot read PKCS#7 message. "+"ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}if(i.derToOid(s.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. "+"Only wrapped ContentType Data supported.");if(s.encryptedContent){var a="";if(n.util.isArray(s.encryptedContent))for(var u=0;u<s.encryptedContent.length;++u){if(s.encryptedContent[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted "+"content constructed of only OCTET STRING objects.");a+=s.encryptedContent[u].value}else a=s.encryptedContent;e.encryptedContent={algorithm:i.derToOid(s.encAlgorithm),parameter:n.util.createBuffer(s.encParameter.value),content:n.util.createBuffer(a)}}if(s.content){a="";if(n.util.isArray(s.content))for(u=0;u<s.content.length;++u){if(s.content[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting "+"content constructed of only OCTET STRING objects.");a+=s.content[u].value}else a=s.content;e.content=n.util.createBuffer(a)}return e.version=s.version.charCodeAt(0),e.rawCapture=s,s}function h(e){if(e.encryptedContent.key===undefined)throw new Error("Symmetric key not available.");if(e.content===undefined){var t;switch(e.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:t=n.aes.createDecryptionCipher(e.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:t=n.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}s.messageFromPem=function(e){var t=n.pem.decode(e)[0];if("PKCS7"!==t.type){var r=new Error("Could not convert PKCS#7 message from PEM; PEM "+'header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var o=i.fromDer(t.body);return s.messageFromAsn1(o)},s.messageToPem=function(e,t){var r={type:"PKCS7",body:i.toDer(e.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:t})},s.messageFromAsn1=function(e){var t={},r=[];if(!i.validate(e,s.asn1.contentInfoValidator,t,r)){var o=new Error("Cannot read PKCS#7 message. "+"ASN.1 object is not an PKCS#7 ContentInfo.");throw o.errors=r,o}var a,u=i.derToOid(t.contentType);switch(u){case n.pki.oids.envelopedData:a=s.createEnvelopedData();break;case n.pki.oids.encryptedData:a=s.createEncryptedData();break;case n.pki.oids.signedData:a=s.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+u+" is not (yet) supported.")}return a.fromAsn1(t.content.value[0]),a},s.createSignedData=function(){var e=null;return e={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(l(e,t,s.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var r=e.rawCapture.certificates.value,i=0;i<r.length;++i)e.certificates.push(n.pki.certificateFromAsn1(r[i]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],r=0;r<e.certificates.length;++r)t.push(n.pki.certificateToAsn1(e.certificates[r]));var s=[],o=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&o.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,t)),s.length>0&&o.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,s)),o.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),o])},addSigner:function(t){var r=t.issuer,i=t.serialNumber;if(t.certificate){var s=t.certificate;"string"==typeof s&&(s=n.pki.certificateFromPem(s)),r=s.issuer.attributes,i=s.serialNumber}var o=t.key;if(!o)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof o&&(o=n.pki.privateKeyFromPem(o));var a=t.digestAlgorithm||n.pki.oids.sha1;switch(a){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+a)}var u=t.authenticatedAttributes||[];if(u.length>0){for(var c=!1,l=!1,h=0;h<u.length;++h){var f=u[h];if(c||f.type!==n.pki.oids.contentType){if(l||f.type!==n.pki.oids.messageDigest);else if(l=!0,c)break}else if(c=!0,l)break}if(!c||!l)throw new Error("Invalid signer.authenticatedAttributes. If "+"signer.authenticatedAttributes is specified, then it must "+"contain at least two attributes, PKCS #9 content-type and "+"PKCS #9 message-digest.")}e.signers.push({key:o,version:1,issuer:r,serialNumber:i,digestAlgorithm:a,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(t){var r;(t=t||{},"object"!=typeof e.content||null===e.contentInfo)&&(e.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof n.util.ByteBuffer?r=e.content.bytes():"string"==typeof e.content&&(r=n.util.encodeUtf8(e.content)),t.detached?e.detachedContent=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r):e.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)]))));0!==e.signers.length&&function(t){var r;r=e.detachedContent?e.detachedContent:(r=e.contentInfo.value[1]).value[0];if(!r)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=i.derToOid(e.contentInfo.value[0].value),o=i.toDer(r);for(var a in o.getByte(),i.getBerValueLength(o),o=o.getBytes(),t)t[a].start().update(o);for(var l=new Date,h=0;h<e.signers.length;++h){var f=e.signers[h];if(0===f.authenticatedAttributes.length){if(s!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present "+"when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var d=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),p=0;p<f.authenticatedAttributes.length;++p){var m=f.authenticatedAttributes[p];m.type===n.pki.oids.messageDigest?m.value=t[f.digestAlgorithm].digest():m.type===n.pki.oids.signingTime&&(m.value||(m.value=l)),d.value.push(c(m)),f.authenticatedAttributesAsn1.value.push(c(m))}o=i.toDer(d).getBytes(),f.md.start().update(o)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],r=0;r<e.length;++r)t.push(u(e[r]));return t}(e.signers)}(function(){for(var t={},r=0;r<e.signers.length;++r){var s=e.signers[r];(o=s.digestAlgorithm)in t||(t[o]=n.md[n.pki.oids[o]].create()),0===s.authenticatedAttributes.length?s.md=t[o]:s.md=n.md[n.pki.oids[o]].create()}for(var o in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=n.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},s.createEncryptedData=function(){var e=null;return e={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){l(e,t,s.asn1.encryptedDataValidator)},decrypt:function(t){t!==undefined&&(e.encryptedContent.key=t),h(e)}}},s.createEnvelopedData=function(){var e=null;return e={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=l(e,t,s.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],r=0;r<e.length;++r)t.push(o(e[r]));return t}(r.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,a(e.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,(t=e.encryptedContent,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.parameter.getBytes())]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],s=i.issuer;if(i.serialNumber===t.serialNumber&&s.length===r.length){for(var o=!0,a=0;a<r.length;++a)if(s[a].type!==r[a].type||s[a].value!==r[a].value){o=!1;break}if(o)return i}}return null},decrypt:function(t,r){if(e.encryptedContent.key===undefined&&t!==undefined&&r!==undefined)switch(t.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var i=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=n.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, "+"OID "+t.encryptedContent.algorithm)}h(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===undefined){var i,s,o;switch(r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,r){case n.pki.oids["aes128-CBC"]:i=16,s=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:i=24,s=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:i=32,s=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:i=24,s=8,o=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===undefined)t=n.util.createBuffer(n.random.getBytes(i));else if(t.length()!=i)throw new Error("Symmetric key has wrong length; "+"got "+t.length()+" bytes, expected "+i+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(s));var a=o(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var u=0;u<e.recipients.length;++u){var c=e.recipients[u];if(c.encryptedContent.content===undefined){if(c.encryptedContent.algorithm!==n.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm);c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data)}}}}}}}},{package:"node-forge",file:"/Users/mac/code/metamask-extension/node_modules/node-forge/lib/pkcs7.js"}],[2259,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var s=new Array(16);t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),s[t]=e>>>((3&t)<<3)&255;return s}}}}},{package:"uuid",file:"/Users/mac/code/metamask-extension/node_modules/interface-datastore/node_modules/uuid/lib/rng-browser.js"}],[2258,{},function(){with(this)return function(){"use strict";return function(e,t,r){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}}}},{package:"uuid",file:"/Users/mac/code/metamask-extension/node_modules/interface-datastore/node_modules/uuid/lib/bytesToUuid.js"}],[1824,{"err-code":1920,multibase:2992},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("multibase"),i=e("err-code"),s="/record/";t.exports.encodeBase32=e=>n.encode("base32",e).slice(1),t.exports.keyToTopic=e=>`/record/${n.encode("base64url",e).slice(1).toString()}`,t.exports.topicToKey=e=>{if(e.substring(0,s.length)!==s)throw i(new Error("topic received is not from a record"),"ERR_TOPIC_IS_NOT_FROM_RECORD_NAMESPACE");const t=`u${e.substring(s.length)}`;return n.decode(t).toString()}}}},{package:"datastore-pubsub",file:"/Users/mac/code/metamask-extension/node_modules/datastore-pubsub/src/utils.js"}],[2285,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports="\n  message Message {\n    message Wantlist {\n      message Entry {\n        // changed from string to bytes, it makes a difference in JavaScript\n        optional bytes block = 1;      // the block cid (cidV0 in bitswap 1.0.0, cidV1 in bitswap 1.1.0)\n        optional int32 priority = 2;    // the priority (normalized). default to 1\n        optional bool cancel = 3;       // whether this revokes an entry\n      }\n\n      repeated Entry entries = 1;       // a list of wantlist entries\n      optional bool full = 2;           // whether this is the full wantlist. default to false\n    }\n\n    message Block {\n      optional bytes prefix = 1;        // CID prefix (cid version, multicodec and multihash prefix (type + length)\n      optional bytes data = 2;\n    }\n\n    optional Wantlist wantlist = 1;\n    repeated bytes blocks = 2;          // used to send Blocks in bitswap 1.0.0\n    repeated Block payload = 3;         // used to send Blocks in bitswap 1.1.0\n  }\n"}}},{package:"ipfs-bitswap",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-bitswap/src/types/message/message.proto.js"}],[2805,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",h="[object Map]",f="[object Number]",d="[object Object]",p="[object Promise]",m="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",v="[object WeakMap]",_="[object ArrayBuffer]",w="[object DataView]",k=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,E={};E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E[s]=E[o]=E[_]=E[a]=E[w]=E[u]=E[c]=E[l]=E[h]=E[f]=E[d]=E[m]=E[g]=E[y]=E[v]=!1;var S="object"==typeof global&&global&&global.Object===Object&&global,x="object"==typeof self&&self&&self.Object===Object&&self,R=S||x||Function("return this")(),A="object"==typeof r&&r&&!r.nodeType&&r,T=A&&"object"==typeof t&&t&&!t.nodeType&&t,j=T&&T.exports===A&&S.process,C=function(){try{return j&&j.binding("util")}catch(e){}}(),I=C&&C.isTypedArray;function B(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function O(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function L(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function N(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var P,U,D,q=Array.prototype,z=Function.prototype,F=Object.prototype,K=R["__core-js_shared__"],V=(P=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",H=z.toString,W=F.hasOwnProperty,$=F.toString,Z=RegExp("^"+H.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=R.Symbol,G=R.Uint8Array,J=F.propertyIsEnumerable,Q=q.splice,X=(U=Object.keys,D=Object,function(e){return U(D(e))}),ee=Se(R,"DataView"),te=Se(R,"Map"),re=Se(R,"Promise"),ne=Se(R,"Set"),ie=Se(R,"WeakMap"),se=Se(Object,"create"),oe=Ae(ee),ae=Ae(te),ue=Ae(re),ce=Ae(ne),le=Ae(ie),he=Y?Y.prototype:undefined,fe=he?he.valueOf:undefined;function de(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function pe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function me(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ge(e){var t=-1,r=e?e.length:0;for(this.__data__=new me;++t<r;)this.add(e[t])}function ye(e){this.__data__=new pe(e)}function be(e,t){var r=je(e)||function(e){return function(e){return Le(e)&&Ce(e)}(e)&&W.call(e,"callee")&&(!J.call(e,"callee")||$.call(e)==s)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!W.call(e,o)||i&&("length"==o||Re(o,n))||r.push(o);return r}function ve(e,t){for(var r=e.length;r--;)if(Te(e[r][0],t))return r;return-1}function _e(e,t,r,n,i){return e===t||(null==e||null==t||!Oe(e)&&!Le(t)?e!=e&&t!=t:function(e,t,r,n,i,l){var p=je(e),v=je(t),k=o,M=o;p||(k=(k=xe(e))==s?d:k);v||(M=(M=xe(t))==s?d:M);var E=k==d&&!O(e),S=M==d&&!O(t),x=k==M;if(x&&!E)return l||(l=new ye),p||Ne(e)?Me(e,t,r,n,i,l):function(e,t,r,n,i,s,o){switch(r){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!n(new G(e),new G(t)));case a:case u:case f:return Te(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case y:return e==t+"";case h:var l=L;case g:var d=2&s;if(l||(l=N),e.size!=t.size&&!d)return!1;var p=o.get(e);if(p)return p==t;s|=1,o.set(e,t);var v=Me(l(e),l(t),n,i,s,o);return o.delete(e),v;case b:if(fe)return fe.call(e)==fe.call(t)}return!1}(e,t,k,r,n,i,l);if(!(2&i)){var R=E&&W.call(e,"__wrapped__"),A=S&&W.call(t,"__wrapped__");if(R||A){var T=R?e.value():e,j=A?t.value():t;return l||(l=new ye),r(T,j,n,i,l)}}if(!x)return!1;return l||(l=new ye),function(e,t,r,n,i,s){var o=2&i,a=Pe(e),u=a.length,c=Pe(t).length;if(u!=c&&!o)return!1;var l=u;for(;l--;){var h=a[l];if(!(o?h in t:W.call(t,h)))return!1}var f=s.get(e);if(f&&s.get(t))return f==t;var d=!0;s.set(e,t),s.set(t,e);var p=o;for(;++l<u;){var m=e[h=a[l]],g=t[h];if(n)var y=o?n(g,m,h,t,e,s):n(m,g,h,e,t,s);if(!(y===undefined?m===g||r(m,g,n,i,s):y)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var b=e.constructor,v=t.constructor;b==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(d=!1)}return s.delete(e),s.delete(t),d}(e,t,r,n,i,l)}(e,t,_e,r,n,i))}function we(e){return!(!Oe(e)||function(e){return!!V&&V in e}(e))&&(Ie(e)||O(e)?Z:k).test(Ae(e))}function ke(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||F,t!==n)return X(e);var t,r,n,i=[];for(var s in Object(e))W.call(e,s)&&"constructor"!=s&&i.push(s);return i}function Me(e,t,r,n,i,s){var o=2&i,a=e.length,u=t.length;if(a!=u&&!(o&&u>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var l=-1,h=!0,f=1&i?new ge:undefined;for(s.set(e,t),s.set(t,e);++l<a;){var d=e[l],p=t[l];if(n)var m=o?n(p,d,l,t,e,s):n(d,p,l,e,t,s);if(m!==undefined){if(m)continue;h=!1;break}if(f){if(!B(t,(function(e,t){if(!f.has(t)&&(d===e||r(d,e,n,i,s)))return f.add(t)}))){h=!1;break}}else if(d!==p&&!r(d,p,n,i,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function Ee(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Se(e,t){var r=function(e,t){return null==e?undefined:e[t]}(e,t);return we(r)?r:undefined}de.prototype.clear=function(){this.__data__=se?se(null):{}},de.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},de.prototype.get=function(e){var t=this.__data__;if(se){var r=t[e];return r===n?undefined:r}return W.call(t,e)?t[e]:undefined},de.prototype.has=function(e){var t=this.__data__;return se?t[e]!==undefined:W.call(t,e)},de.prototype.set=function(e,t){return this.__data__[e]=se&&t===undefined?n:t,this},pe.prototype.clear=function(){this.__data__=[]},pe.prototype.delete=function(e){var t=this.__data__,r=ve(t,e);return!(r<0)&&(r==t.length-1?t.pop():Q.call(t,r,1),!0)},pe.prototype.get=function(e){var t=this.__data__,r=ve(t,e);return r<0?undefined:t[r][1]},pe.prototype.has=function(e){return ve(this.__data__,e)>-1},pe.prototype.set=function(e,t){var r=this.__data__,n=ve(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},me.prototype.clear=function(){this.__data__={hash:new de,map:new(te||pe),string:new de}},me.prototype.delete=function(e){return Ee(this,e).delete(e)},me.prototype.get=function(e){return Ee(this,e).get(e)},me.prototype.has=function(e){return Ee(this,e).has(e)},me.prototype.set=function(e,t){return Ee(this,e).set(e,t),this},ge.prototype.add=ge.prototype.push=function(e){return this.__data__.set(e,n),this},ge.prototype.has=function(e){return this.__data__.has(e)},ye.prototype.clear=function(){this.__data__=new pe},ye.prototype.delete=function(e){return this.__data__.delete(e)},ye.prototype.get=function(e){return this.__data__.get(e)},ye.prototype.has=function(e){return this.__data__.has(e)},ye.prototype.set=function(e,t){var r=this.__data__;if(r instanceof pe){var n=r.__data__;if(!te||n.length<199)return n.push([e,t]),this;r=this.__data__=new me(n)}return r.set(e,t),this};var xe=function(e){return $.call(e)};function Re(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||M.test(e))&&e>-1&&e%1==0&&e<t}function Ae(e){if(null!=e){try{return H.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Te(e,t){return e===t||e!=e&&t!=t}(ee&&xe(new ee(new ArrayBuffer(1)))!=w||te&&xe(new te)!=h||re&&xe(re.resolve())!=p||ne&&xe(new ne)!=g||ie&&xe(new ie)!=v)&&(xe=function(e){var t=$.call(e),r=t==d?e.constructor:undefined,n=r?Ae(r):undefined;if(n)switch(n){case oe:return w;case ae:return h;case ue:return p;case ce:return g;case le:return v}return t});var je=Array.isArray;function Ce(e){return null!=e&&Be(e.length)&&!Ie(e)}function Ie(e){var t=Oe(e)?$.call(e):"";return t==l||"[object GeneratorFunction]"==t}function Be(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Oe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Le(e){return!!e&&"object"==typeof e}var Ne=I?function(e){return function(t){return e(t)}}(I):function(e){return Le(e)&&Be(e.length)&&!!E[$.call(e)]};function Pe(e){return Ce(e)?be(e):ke(e)}t.exports=function(e,t,r){var n=(r="function"==typeof r?r:undefined)?r(e,t):undefined;return n===undefined?_e(e,t,r):!!n}}}},{package:"lodash.isequalwith",file:"/Users/mac/code/metamask-extension/node_modules/lodash.isequalwith/index.js"}],[2283,{"../wantlist":2287,assert:1270,cids:1685},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("../wantlist").Entry,i=e("cids"),s=e("assert");t.exports=class{constructor(e,t,r){s(i.isCID(e),"needs valid cid"),this.entry=new n(e,t),this.cancel=Boolean(r)}get cid(){return this.entry.cid}set cid(e){this.entry.cid=e}get priority(){return this.entry.priority}set priority(e){this.entry.priority=e}get[Symbol.toStringTag](){return`BitswapMessageEntry ${this.cid.toBaseEncodedString()} <cancel: ${this.cancel}, priority: ${this.priority}>`}equals(e){return this.cancel===e.cancel&&this.entry.equals(e.entry)}}}}},{package:"ipfs-bitswap",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-bitswap/src/types/message/entry.js"}],[3830,{"../../is-buffer/index.js":2539,varint:3833},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("varint");t.exports=e=>{if(!r.isBuffer(e))throw new Error("arg needs to be a buffer");let t=[];for(;e.length>0;){const r=n.decode(e);t.push(r),e=e.slice(n.decode.bytes)}return t}}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"varint-decoder",file:"/Users/mac/code/metamask-extension/node_modules/varint-decoder/src/index.js"}],[2273,{"./crypto":2272,buffer:1659,multihashes:3001},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("multihashes"),i=e("./crypto");function s(e,t,r,i){if("function"==typeof r&&(i=r,r=undefined),!i)throw new Error("Missing callback");s.digest(e,t,r,((e,s)=>{if(e)return i(e);i(null,n.encode(s,t,r))}))}t.exports=s,s.Buffer=r,s.multihash=n,s.digest=function(e,t,r,n){if("function"==typeof r&&(n=r,r=undefined),!n)throw new Error("Missing callback");let i,o=n;r&&(o=(e,t)=>{if(e)return n(e);n(null,t.slice(0,r))});try{i=s.createHash(t)}catch(e){return o(e)}i(e,o)},s.createHash=function(e){if(e=n.coerceCode(e),!s.functions[e])throw new Error("multihash function "+e+" not yet supported");return s.functions[e]},s.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(s.functions)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-bitswap/node_modules/multihashing-async/src/index.js"}],[2286,{assert:1270,cids:1685},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("assert"),i=e("cids");class s{constructor(e,t){n(i.isCID(e),"must be valid CID"),this._refCounter=1,this.cid=e,this.priority=t||1}inc(){this._refCounter+=1}dec(){this._refCounter=Math.max(0,this._refCounter-1)}hasRefs(){return this._refCounter>0}get[Symbol.toStringTag](){return`WantlistEntry <key: ${this.cid.toBaseEncodedString()}, priority: ${this.priority}, refs: ${this._refCounter}>`}equals(e){return this._refCounter===e._refCounter&&this.cid.equals(e.cid)&&this.priority===e.priority}}t.exports=s}}},{package:"ipfs-bitswap",file:"/Users/mac/code/metamask-extension/node_modules/ipfs-bitswap/src/types/wantlist/entry.js"}]],[],{});